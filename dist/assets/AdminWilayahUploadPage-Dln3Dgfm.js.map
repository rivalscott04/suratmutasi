{"version":3,"file":"AdminWilayahUploadPage-Dln3Dgfm.js","sources":["../../src/components/AdminWilayahFileUpload.tsx","../../src/pages/AdminWilayahUploadPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { Upload, FileText, CheckCircle, XCircle, AlertCircle, Send, RefreshCw, Eye, Download, Edit } from 'lucide-react';\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '@/components/ui/alert-dialog';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { apiGet, apiPost } from '@/lib/api';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface AdminWilayahFileConfig {\r\n  id: number;\r\n  jenis_jabatan_id: number;\r\n  file_type: string;\r\n  display_name: string;\r\n  is_required: boolean;\r\n  description?: string;\r\n  is_active: boolean;\r\n}\r\n\r\ninterface PengajuanFile {\r\n  id: string;\r\n  pengajuan_id: string;\r\n  file_type: string;\r\n  file_name: string;\r\n  file_path: string;\r\n  file_size: number;\r\n  verification_status: string;\r\n  verification_notes?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\ninterface AdminWilayahFileUploadProps {\r\n  pengajuanId: string;\r\n  jenisJabatanId: string;\r\n  onFilesUploaded: (files: PengajuanFile[]) => void;\r\n}\r\n\r\nconst AdminWilayahFileUpload: React.FC<AdminWilayahFileUploadProps> = ({\r\n  pengajuanId,\r\n  jenisJabatanId,\r\n  onFilesUploaded\r\n}) => {\r\n  const { token, user } = useAuth();\r\n  const { toast } = useToast();\r\n  const [requiredFiles, setRequiredFiles] = useState<AdminWilayahFileConfig[]>([]);\r\n  const [uploadedFiles, setUploadedFiles] = useState<PengajuanFile[]>([]);\r\n  const [availableJobTypes, setAvailableJobTypes] = useState<string[]>([]);\r\n  const [selectedVariant, setSelectedVariant] = useState<string>('');\r\n  const [uploading, setUploading] = useState<{ [key: string]: boolean }>({});\r\n  const [showSubmitDialog, setShowSubmitDialog] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Fetch admin wilayah file configuration\r\n  const fetchFileConfigs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // jenisJabatanId bisa berupa nama jabatan atau ID\r\n      let jobTypeId: number;\r\n      \r\n      if (isNaN(Number(jenisJabatanId))) {\r\n        // Jika berupa nama jabatan, cari ID-nya\r\n        try {\r\n          const jobTypeRes = await apiGet('/api/job-type-configurations', token);\r\n          if (jobTypeRes?.success && Array.isArray(jobTypeRes.data)) {\r\n            const jobType = jobTypeRes.data.find((jt: any) => jt.jenis_jabatan === jenisJabatanId);\r\n            if (jobType) {\r\n              jobTypeId = jobType.id;\r\n            } else {\r\n              setError('Jenis jabatan tidak ditemukan');\r\n              return;\r\n            }\r\n          } else {\r\n            setError('Gagal mengambil data jenis jabatan');\r\n            return;\r\n          }\r\n        } catch (error) {\r\n          setError('Gagal mencari jenis jabatan');\r\n          return;\r\n        }\r\n      } else {\r\n        jobTypeId = parseInt(String(jenisJabatanId));\r\n      }\r\n      \r\n      const response = await apiGet(`/api/admin-wilayah-file-config/job-type/${jobTypeId}`, token);\r\n      \r\n      if (response.success) {\r\n        setRequiredFiles(response.data);\r\n      } else {\r\n        setError('Failed to fetch file configurations');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching file configs:', error);\r\n      setError('Error connecting to server');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch list of job types that have admin wilayah configs (for guidance)\r\n  const fetchAvailableJobTypes = async () => {\r\n    try {\r\n      const res = await apiGet('/api/admin-wilayah-file-config', token);\r\n      if (res?.success && Array.isArray(res.data)) {\r\n        const names = Array.from(new Set(res.data.map((c: any) => {\r\n          const jobType = c.jenis_jabatan_id || c.jenis_jabatan?.jenis_jabatan;\r\n          return typeof jobType === 'string' ? jobType : String(jobType);\r\n        }).filter(Boolean))) as string[];\r\n        setAvailableJobTypes(names);\r\n      } else {\r\n        setAvailableJobTypes([]);\r\n      }\r\n    } catch {\r\n      setAvailableJobTypes([]);\r\n    }\r\n  };\r\n\r\n  // Fetch existing uploaded files\r\n  const fetchUploadedFiles = async () => {\r\n    try {\r\n      // This would need a new API endpoint to get files for a specific pengajuan\r\n      // For now, we'll use empty array\r\n      setUploadedFiles([]);\r\n    } catch (error) {\r\n      console.error('Error fetching uploaded files:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (jenisJabatanId) {\r\n      fetchFileConfigs();\r\n      fetchUploadedFiles();\r\n    }\r\n  }, [jenisJabatanId, token]);\r\n\r\n  const handleFileUpload = async (fileType: string, file: File) => {\r\n    setUploading(prev => ({ ...prev, [fileType]: true }));\r\n    \r\n    try {\r\n      // Create FormData for file upload\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('pengajuan_id', pengajuanId);\r\n      formData.append('file_type', fileType);\r\n      formData.append('file_category', 'admin_wilayah');\r\n      formData.append('uploaded_by_role', 'admin_wilayah');\r\n      formData.append('uploaded_by_name', user?.full_name || 'Admin Wilayah');\r\n      formData.append('uploaded_by_office', 'Kanwil Provinsi');\r\n\r\n      // Upload file to backend\r\n      const response = await apiPost(`/api/admin-wilayah/pengajuan/${pengajuanId}/upload`, formData, token);\r\n      \r\n      if (response.success) {\r\n        const newFile: PengajuanFile = {\r\n          id: response.data.id,\r\n          pengajuan_id: pengajuanId,\r\n          file_type: fileType,\r\n          file_name: file.name,\r\n          file_path: response.data.file_path,\r\n          file_size: file.size,\r\n          verification_status: 'pending',\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        };\r\n        \r\n        setUploadedFiles(prev => [...prev, newFile]);\r\n        onFilesUploaded([...uploadedFiles, newFile]);\r\n        \r\n        toast({\r\n          title: \"Success\",\r\n          description: \"File berhasil diupload\",\r\n          variant: \"default\",\r\n        });\r\n      } else {\r\n        toast({\r\n          title: \"Error\",\r\n          description: response.message || \"Gagal upload file\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Gagal upload file\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setUploading(prev => ({ ...prev, [fileType]: false }));\r\n    }\r\n  };\r\n\r\n  const handleSubmitForReview = async () => {\r\n    setSubmitting(true);\r\n    try {\r\n      // Submit logic here\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Files submitted for review\",\r\n        variant: \"default\",\r\n      });\r\n      setShowSubmitDialog(false);\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to submit files\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getFileStatus = (fileType: string) => {\r\n    const file = uploadedFiles.find(f => f.file_type === fileType);\r\n    return file ? 'uploaded' : 'pending';\r\n  };\r\n\r\n  const getUploadedFile = (fileType: string) => {\r\n    return uploadedFiles.find(f => f.file_type === fileType);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <div className=\"animate-pulse space-y-4\">\r\n          <div className=\"h-6 bg-gray-200 rounded w-1/3\"></div>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(5)].map((_, i) => (\r\n              <div key={i} className=\"h-20 bg-gray-200 rounded\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <div className=\"text-center py-8\">\r\n          <AlertCircle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Error Loading Files</h3>\r\n          <p className=\"text-gray-600 mb-4\">{error}</p>\r\n          <Button onClick={fetchFileConfigs} className=\"flex items-center gap-2\">\r\n            <RefreshCw className=\"h-4 w-4\" />\r\n            Retry\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-xl font-semibold\">Upload File Admin Wilayah</h2>\r\n        <Button onClick={() => { fetchFileConfigs(); fetchUploadedFiles(); }} variant=\"outline\" size=\"sm\">\r\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Dokumen Rekomendasi Section */}\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-lg font-medium text-gray-900\">Dokumen Rekomendasi</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {requiredFiles\r\n            .filter(file => file.file_type.includes('rekomendasi') || file.file_type.includes('persetujuan'))\r\n            .map((fileConfig) => {\r\n              const status = getFileStatus(fileConfig.file_type);\r\n              const uploadedFile = getUploadedFile(fileConfig.file_type);\r\n              \r\n              return (\r\n                <Card key={fileConfig.id} className=\"border border-gray-200\">\r\n                  <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                          <h4 className=\"font-medium text-gray-900\">{fileConfig.display_name}</h4>\r\n                          {fileConfig.is_required && (\r\n                            <Badge variant=\"destructive\" className=\"text-xs\">Wajib</Badge>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mb-2\">\r\n                          Upload file PDF (maks. 500KB)\r\n                        </p>\r\n                        \r\n                        {status === 'uploaded' && uploadedFile && (\r\n                          <div className=\"flex items-center gap-2 text-green-600\">\r\n                            <CheckCircle className=\"h-4 w-4\" />\r\n                            <span className=\"text-sm font-medium\">{uploadedFile.file_name}</span>\r\n                            <span className=\"text-sm text-gray-500\">({formatFileSize(uploadedFile.file_size)})</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center gap-2\">\r\n                        {status === 'uploaded' ? (\r\n                          <>\r\n                            <Badge className=\"bg-green-600 text-white flex items-center gap-1\">\r\n                              <CheckCircle className=\"h-3 w-3\" />\r\n                              Uploaded\r\n                            </Badge>\r\n                            <div className=\"flex gap-1\">\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Eye className=\"h-3 w-3 mr-1\" />\r\n                                Preview\r\n                              </Button>\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Download className=\"h-3 w-3 mr-1\" />\r\n                                Download\r\n                              </Button>\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Edit className=\"h-3 w-3 mr-1\" />\r\n                                Ganti File\r\n                              </Button>\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\r\n                              <FileText className=\"h-3 w-3\" />\r\n                              Pending\r\n                            </Badge>\r\n                            <div className=\"flex gap-1\">\r\n                              <input\r\n                                type=\"file\"\r\n                                accept=\".pdf,.doc,.docx\"\r\n                                onChange={(e) => {\r\n                                  const file = e.target.files?.[0];\r\n                                  if (file) {\r\n                                    handleFileUpload(fileConfig.file_type, file);\r\n                                  }\r\n                                }}\r\n                                className=\"hidden\"\r\n                                id={`file-${fileConfig.file_type}`}\r\n                              />\r\n                              <label htmlFor={`file-${fileConfig.file_type}`}>\r\n                                <Button\r\n                                  disabled={uploading[fileConfig.file_type]}\r\n                                  size=\"sm\"\r\n                                  className=\"h-8 px-3 cursor-pointer bg-green-600 hover:bg-green-700 text-white\"\r\n                                >\r\n                                  {uploading[fileConfig.file_type] ? (\r\n                                    <div className=\"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full\" />\r\n                                  ) : (\r\n                                    <Upload className=\"h-3 w-3 mr-1\" />\r\n                                  )}\r\n                                  Pilih File\r\n                                </Button>\r\n                              </label>\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dokumen Pengantar Section */}\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-lg font-medium text-gray-900\">Dokumen Pengantar</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {requiredFiles\r\n            .filter(file => file.file_type.includes('pengantar') || file.file_type.includes('permohonan') || file.file_type.includes('keterangan'))\r\n            .map((fileConfig) => {\r\n              const status = getFileStatus(fileConfig.file_type);\r\n              const uploadedFile = getUploadedFile(fileConfig.file_type);\r\n              \r\n              return (\r\n                <Card key={fileConfig.id} className=\"border border-gray-200\">\r\n                  <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                          <h4 className=\"font-medium text-gray-900\">{fileConfig.display_name}</h4>\r\n                          {fileConfig.is_required && (\r\n                            <Badge variant=\"destructive\" className=\"text-xs\">Wajib</Badge>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mb-2\">\r\n                          Upload file PDF (maks. 500KB)\r\n                        </p>\r\n                        \r\n                        {status === 'uploaded' && uploadedFile && (\r\n                          <div className=\"flex items-center gap-2 text-green-600\">\r\n                            <CheckCircle className=\"h-4 w-4\" />\r\n                            <span className=\"text-sm font-medium\">{uploadedFile.file_name}</span>\r\n                            <span className=\"text-sm text-gray-500\">({formatFileSize(uploadedFile.file_size)})</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center gap-2\">\r\n                        {status === 'uploaded' ? (\r\n                          <>\r\n                            <Badge className=\"bg-green-600 text-white flex items-center gap-1\">\r\n                              <CheckCircle className=\"h-3 w-3\" />\r\n                              Uploaded\r\n                            </Badge>\r\n                            <div className=\"flex gap-1\">\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Eye className=\"h-3 w-3 mr-1\" />\r\n                                Preview\r\n                              </Button>\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Download className=\"h-3 w-3 mr-1\" />\r\n                                Download\r\n                              </Button>\r\n                              <Button size=\"sm\" variant=\"outline\" className=\"h-8 px-2\">\r\n                                <Edit className=\"h-3 w-3 mr-1\" />\r\n                                Ganti File\r\n                              </Button>\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\r\n                              <FileText className=\"h-3 w-3\" />\r\n                              Pending\r\n                            </Badge>\r\n                            <div className=\"flex gap-1\">\r\n                              <input\r\n                                type=\"file\"\r\n                                accept=\".pdf,.doc,.docx\"\r\n                                onChange={(e) => {\r\n                                  const file = e.target.files?.[0];\r\n                                  if (file) {\r\n                                    handleFileUpload(fileConfig.file_type, file);\r\n                                  }\r\n                                }}\r\n                                className=\"hidden\"\r\n                                id={`file-${fileConfig.file_type}`}\r\n                              />\r\n                              <label htmlFor={`file-${fileConfig.file_type}`}>\r\n                                <Button\r\n                                  disabled={uploading[fileConfig.file_type]}\r\n                                  size=\"sm\"\r\n                                  className=\"h-8 px-3 cursor-pointer bg-green-600 hover:bg-green-700 text-white\"\r\n                                >\r\n                                  {uploading[fileConfig.file_type] ? (\r\n                                    <div className=\"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full\" />\r\n                                  ) : (\r\n                                    <Upload className=\"h-3 w-3 mr-1\" />\r\n                                  )}\r\n                                  Pilih File\r\n                                </Button>\r\n                              </label>\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      {uploadedFiles.length > 0 && (\r\n        <div className=\"flex justify-end\">\r\n          <Button onClick={() => setShowSubmitDialog(true)} className=\"bg-green-600 hover:bg-green-700\">\r\n            <Send className=\"h-4 w-4 mr-2\" />\r\n            Submit for Review\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Submit Confirmation Dialog - Menggunakan AlertDialog sesuai tema */}\r\n      <AlertDialog open={showSubmitDialog} onOpenChange={setShowSubmitDialog}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Submit Files for Review</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Are you sure you want to submit all uploaded files for review? This action cannot be undone.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel disabled={submitting}>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={handleSubmitForReview}\r\n              disabled={submitting}\r\n              className=\"bg-green-600 hover:bg-green-700\"\r\n            >\r\n              {submitting ? 'Submitting...' : 'Submit'}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminWilayahFileUpload;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { ArrowLeft, FileText, User, Calendar, MapPin, CheckCircle, XCircle, Send, ChevronDown } from 'lucide-react';\r\nimport AdminWilayahFileUpload from '@/components/AdminWilayahFileUpload';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { apiGet, apiPost } from '@/lib/api';\r\n\r\ninterface PengajuanDetail {\r\n  id: string;\r\n  jenis_jabatan: number;\r\n  status: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  pegawai?: { nama: string; nip: string };\r\n  office?: { id: string; name: string; kabkota: string };\r\n}\r\n\r\nconst AdminWilayahUploadPage: React.FC = () => {\r\n  const { pengajuanId } = useParams<{ pengajuanId: string }>();\r\n  const navigate = useNavigate();\r\n  const { token } = useAuth();\r\n  const [pengajuan, setPengajuan] = useState<PengajuanDetail | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [availableJobTypes, setAvailableJobTypes] = useState<string[]>([]);\r\n  const [selectedJobType, setSelectedJobType] = useState<string>('');\r\n\r\n  const fetchDetail = async () => {\r\n    if (!token || !pengajuanId) return;\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiGet(`/api/admin-wilayah/pengajuan/${pengajuanId}`, token);\r\n      if (res && res.success !== false) {\r\n        // backend returns { success, pengajuan, adminWilayahFileConfig, ... }\r\n        setPengajuan(res.pengajuan || res.data?.pengajuan || res);\r\n      } else {\r\n        setPengajuan(null);\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to fetch pengajuan detail', e);\r\n      setPengajuan(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch available job types from admin wilayah config\r\n  const fetchAvailableJobTypes = async () => {\r\n    try {\r\n      const res = await apiGet('/api/admin-wilayah-file-config', token);\r\n      if (res?.success && Array.isArray(res.data)) {\r\n        // Extract unique job type names with their IDs\r\n        const jobTypeMap = new Map();\r\n        res.data.forEach((c: any) => {\r\n          const jobTypeId = c.jenis_jabatan_id;\r\n          const jobTypeName = c.jenis_jabatan?.jenis_jabatan || `Jabatan ${jobTypeId}`;\r\n          if (jobTypeId && !jobTypeMap.has(jobTypeId)) {\r\n            jobTypeMap.set(jobTypeId, jobTypeName);\r\n          }\r\n        });\r\n        \r\n        const names = Array.from(jobTypeMap.values());\r\n        setAvailableJobTypes(names);\r\n        \r\n        // Set default selection if available\r\n        if (names.length > 0 && !selectedJobType) {\r\n          setSelectedJobType(names[0]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch job types:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDetail();\r\n    fetchAvailableJobTypes();\r\n  }, [pengajuanId, token]);\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('id-ID', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'approved':\r\n        return <Badge className=\"bg-green-600 text-white\">Disetujui Kab/Kota</Badge>;\r\n      case 'admin_wilayah_approved':\r\n        return <Badge className=\"bg-green-700 text-white\">Disetujui Admin Wilayah</Badge>;\r\n      case 'admin_wilayah_rejected':\r\n        return <Badge className=\"bg-red-600 text-white\">Ditolak Admin Wilayah</Badge>;\r\n      case 'submitted':\r\n        return <Badge className=\"bg-blue-600 text-white\">Dikirim ke Superadmin</Badge>;\r\n      default:\r\n        return <Badge className=\"bg-gray-600 text-white\">{status}</Badge>;\r\n    }\r\n  };\r\n\r\n  const approve = async () => {\r\n    if (!token || !pengajuanId) return;\r\n    setSubmitting(true);\r\n    try {\r\n      await apiPost(`/api/admin-wilayah/pengajuan/${pengajuanId}/approve`, {}, token);\r\n      await fetchDetail();\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const reject = async () => {\r\n    if (!token || !pengajuanId) return;\r\n    setSubmitting(true);\r\n    try {\r\n      await apiPost(`/api/admin-wilayah/pengajuan/${pengajuanId}/reject`, { rejection_reason: 'Ditolak oleh Admin Wilayah' }, token);\r\n      await fetchDetail();\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const submitToSuperadmin = async () => {\r\n    if (!token || !pengajuanId) return;\r\n    setSubmitting(true);\r\n    try {\r\n      await apiPost(`/api/admin-wilayah/pengajuan/${pengajuanId}/submit-to-superadmin`, {}, token);\r\n      await fetchDetail();\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background p-6\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <div className=\"animate-pulse space-y-6\">\r\n            <div className=\"h-8 bg-gray-200 rounded w-1/3\"></div>\r\n            <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!pengajuan) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background p-6\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <div className=\"text-center py-12\">\r\n            <FileText className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">Pengajuan Tidak Ditemukan</h2>\r\n            <p className=\"text-gray-600 mb-6\">Pengajuan yang Anda cari tidak ditemukan atau tidak memiliki akses.</p>\r\n            <Button\r\n              onClick={() => navigate('/admin-wilayah/dashboard')}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Kembali ke Dashboard\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background p-6\">\r\n      <div className=\"max-w-6xl mx-auto space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate('/admin-wilayah/dashboard')}\r\n              className=\"border-green-200 text-green-700 hover:bg-green-50\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Kembali\r\n            </Button>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Upload File Admin Wilayah</h1>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                Upload file tambahan untuk pengajuan mutasi pegawai\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Badge className=\"bg-green-100 text-green-800\">Admin Wilayah</Badge>\r\n            {getStatusBadge(pengajuan.status)}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pengajuan Info */}\r\n        <Card className=\"border-green-200 bg-green-50\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-green-800 flex items-center gap-2\">\r\n              <FileText className=\"h-5 w-5\" />\r\n              Informasi Pengajuan\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <User className=\"h-5 w-5 text-green-600\" />\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-gray-900\">{pengajuan.pegawai?.nama || '-'}</h3>\r\n                    <p className=\"text-sm text-gray-600\">NIP: {pengajuan.pegawai?.nip || '-'}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <MapPin className=\"h-5 w-5 text-green-600\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">{pengajuan.office?.kabkota || '-'}</p>\r\n                    <p className=\"text-sm text-gray-600\">{pengajuan.office?.name || '-'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <FileText className=\"h-5 w-5 text-green-600\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">Jenis Jabatan</p>\r\n                    <p className=\"text-sm text-gray-600\">{pengajuan.jenis_jabatan}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Calendar className=\"h-5 w-5 text-green-600\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-900\">Tanggal Pengajuan</p>\r\n                    <p className=\"text-sm text-gray-600\">{formatDate(pengajuan.created_at)}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Upload Section */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-green-800\">Upload File Admin Wilayah</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {/* Job Type Selection */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Pilih Jenis Berkas Admin Wilayah\r\n              </label>\r\n              <Select value={selectedJobType} onValueChange={setSelectedJobType}>\r\n                <SelectTrigger className=\"w-full max-w-md\">\r\n                  <SelectValue placeholder=\"Pilih jenis berkas...\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {availableJobTypes.map((jobType) => (\r\n                    <SelectItem key={jobType} value={jobType}>\r\n                      {jobType}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Pilih jenis berkas yang sudah dikonfigurasi oleh superadmin\r\n              </p>\r\n            </div>\r\n\r\n            {/* File Upload Component */}\r\n            {selectedJobType && (\r\n              <AdminWilayahFileUpload\r\n                pengajuanId={pengajuan.id}\r\n                jenisJabatanId={selectedJobType}\r\n                onFilesUploaded={() => fetchDetail()}\r\n              />\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-end gap-2\">\r\n          {(pengajuan.status === 'approved' || pengajuan.status === 'submitted') && (\r\n            <>\r\n              <Button onClick={reject} disabled={submitting} className=\"bg-red-600 hover:bg-red-700 text-white\">\r\n                <XCircle className=\"h-4 w-4 mr-2\" />\r\n                Tolak\r\n              </Button>\r\n              <Button onClick={approve} disabled={submitting} className=\"bg-green-600 hover:bg-green-700 text-white\">\r\n                <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                Setujui\r\n              </Button>\r\n            </>\r\n          )}\r\n          {(pengajuan.status === 'admin_wilayah_approved' || pengajuan.status === 'admin_wilayah_rejected') && (\r\n            <Button onClick={submitToSuperadmin} disabled={submitting} className=\"bg-blue-600 hover:bg-blue-700 text-white\">\r\n              <Send className=\"h-4 w-4 mr-2\" />\r\n              Submit ke Superadmin\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminWilayahUploadPage;\r\n"],"names":["AdminWilayahFileUpload","pengajuanId","jenisJabatanId","onFilesUploaded","token","user","useAuth","toast","useToast","requiredFiles","setRequiredFiles","useState","uploadedFiles","setUploadedFiles","uploading","setUploading","showSubmitDialog","setShowSubmitDialog","submitting","setSubmitting","loading","setLoading","error","setError","fetchFileConfigs","jobTypeId","jobTypeRes","apiGet","jobType","jt","response","fetchUploadedFiles","useEffect","handleFileUpload","fileType","file","prev","formData","apiPost","newFile","handleSubmitForReview","formatFileSize","bytes","k","sizes","i","getFileStatus","f","getUploadedFile","jsxs","jsx","_","AlertCircle","Button","RefreshCw","fileConfig","status","uploadedFile","Card","CardContent","Badge","CheckCircle","Fragment","Eye","Download","Edit","FileText","e","_a","Upload","Send","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","AdminWilayahUploadPage","useParams","navigate","useNavigate","pengajuan","setPengajuan","availableJobTypes","setAvailableJobTypes","selectedJobType","setSelectedJobType","fetchDetail","res","fetchAvailableJobTypes","jobTypeMap","c","jobTypeName","names","formatDate","dateString","getStatusBadge","approve","reject","submitToSuperadmin","ArrowLeft","CardHeader","CardTitle","User","_b","MapPin","_c","_d","Calendar","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","XCircle"],"mappings":"shBAyCA,MAAMA,GAAgE,CAAC,CACrE,YAAAC,EACA,eAAAC,EACA,gBAAAC,CACF,IAAM,CACJ,KAAM,CAAE,MAAAC,EAAO,KAAAC,CAAK,EAAIC,EAAQ,EAC1B,CAAE,MAAAC,GAAUC,KACZ,CAACC,EAAeC,CAAgB,EAAIC,EAAA,SAAmC,CAAE,CAAA,EACzE,CAACC,EAAeC,CAAgB,EAAIF,EAAA,SAA0B,CAAE,CAAA,EACpBA,EAAAA,SAAmB,CAAA,CAAE,EACzBA,EAAAA,SAAiB,EAAE,EACjE,KAAM,CAACG,EAAWC,CAAY,EAAIJ,EAAA,SAAqC,CAAE,CAAA,EACnE,CAACK,EAAkBC,CAAmB,EAAIN,WAAS,EAAK,EACxD,CAACO,EAAYC,CAAa,EAAIR,WAAS,EAAK,EAC5C,CAACS,EAASC,CAAU,EAAIV,WAAS,EAAI,EACrC,CAACW,EAAOC,CAAQ,EAAIZ,WAAwB,IAAI,EAGhDa,EAAmB,SAAY,CAC/B,GAAA,CACFH,EAAW,EAAI,EACfE,EAAS,IAAI,EAGT,IAAAE,EAEJ,GAAI,MAAM,OAAOvB,CAAc,CAAC,EAE1B,GAAA,CACF,MAAMwB,EAAa,MAAMC,EAAO,+BAAgCvB,CAAK,EACrE,GAAIsB,GAAA,MAAAA,EAAY,SAAW,MAAM,QAAQA,EAAW,IAAI,EAAG,CACnD,MAAAE,EAAUF,EAAW,KAAK,KAAMG,GAAYA,EAAG,gBAAkB3B,CAAc,EACrF,GAAI0B,EACFH,EAAYG,EAAQ,OACf,CACLL,EAAS,+BAA+B,EACxC,MACF,CAAA,KACK,CACLA,EAAS,oCAAoC,EAC7C,MACF,OACc,CACdA,EAAS,6BAA6B,EACtC,MACF,MAEYE,EAAA,SAAS,OAAOvB,CAAc,CAAC,EAG7C,MAAM4B,EAAW,MAAMH,EAAO,2CAA2CF,CAAS,GAAIrB,CAAK,EAEvF0B,EAAS,QACXpB,EAAiBoB,EAAS,IAAI,EAE9BP,EAAS,qCAAqC,QAEzCD,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnDC,EAAS,4BAA4B,CAAA,QACrC,CACAF,EAAW,EAAK,CAClB,CAAA,EAsBIU,EAAqB,SAAY,CACjC,GAAA,CAGFlB,EAAiB,CAAE,CAAA,QACZS,EAAO,CACN,QAAA,MAAM,iCAAkCA,CAAK,CACvD,CAAA,EAGFU,EAAAA,UAAU,IAAM,CACV9B,IACesB,IACEO,IACrB,EACC,CAAC7B,EAAgBE,CAAK,CAAC,EAEpB,MAAA6B,EAAmB,MAAOC,EAAkBC,IAAe,CAClDpB,EAAAqB,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAQ,EAAG,EAAO,EAAA,EAEhD,GAAA,CAEI,MAAAG,EAAW,IAAI,SACZA,EAAA,OAAO,OAAQF,CAAI,EACnBE,EAAA,OAAO,eAAgBpC,CAAW,EAClCoC,EAAA,OAAO,YAAaH,CAAQ,EAC5BG,EAAA,OAAO,gBAAiB,eAAe,EACvCA,EAAA,OAAO,mBAAoB,eAAe,EACnDA,EAAS,OAAO,oBAAoBhC,GAAA,YAAAA,EAAM,YAAa,eAAe,EAC7DgC,EAAA,OAAO,qBAAsB,iBAAiB,EAGvD,MAAMP,EAAW,MAAMQ,EAAQ,gCAAgCrC,CAAW,UAAWoC,EAAUjC,CAAK,EAEpG,GAAI0B,EAAS,QAAS,CACpB,MAAMS,EAAyB,CAC7B,GAAIT,EAAS,KAAK,GAClB,aAAc7B,EACd,UAAWiC,EACX,UAAWC,EAAK,KAChB,UAAWL,EAAS,KAAK,UACzB,UAAWK,EAAK,KAChB,oBAAqB,UACrB,WAAY,IAAI,KAAK,EAAE,YAAY,EACnC,WAAY,IAAI,KAAK,EAAE,YAAY,CAAA,EAGrCtB,EAAyBuB,GAAA,CAAC,GAAGA,EAAMG,CAAO,CAAC,EAC3CpC,EAAgB,CAAC,GAAGS,EAAe2B,CAAO,CAAC,EAErChC,EAAA,CACJ,MAAO,UACP,YAAa,yBACb,QAAS,SAAA,CACV,CAAA,MAEKA,EAAA,CACJ,MAAO,QACP,YAAauB,EAAS,SAAW,oBACjC,QAAS,aAAA,CACV,QAEIR,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,EACtCf,EAAA,CACJ,MAAO,QACP,YAAa,oBACb,QAAS,aAAA,CACV,CAAA,QACD,CACaQ,EAAAqB,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAQ,EAAG,EAAQ,EAAA,CACvD,CAAA,EAGIM,EAAwB,SAAY,CACxCrB,EAAc,EAAI,EACd,GAAA,CAEIZ,EAAA,CACJ,MAAO,UACP,YAAa,6BACb,QAAS,SAAA,CACV,EACDU,EAAoB,EAAK,OACX,CACRV,EAAA,CACJ,MAAO,QACP,YAAa,yBACb,QAAS,aAAA,CACV,CAAA,QACD,CACAY,EAAc,EAAK,CACrB,CAAA,EAGIsB,EAAkBC,GAAkB,CACpC,GAAAA,IAAU,EAAU,MAAA,UACxB,MAAMC,EAAI,KACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,IAAI,EAClCC,EAAI,KAAK,MAAM,KAAK,IAAIH,CAAK,EAAI,KAAK,IAAIC,CAAC,CAAC,EAClD,OAAO,YAAYD,EAAQ,KAAK,IAAIC,EAAGE,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAI,IAAMD,EAAMC,CAAC,CAAA,EAGlEC,EAAiBZ,GACRtB,EAAc,KAAUmC,GAAAA,EAAE,YAAcb,CAAQ,EAC/C,WAAa,UAGvBc,EAAmBd,GAChBtB,EAAc,KAAUmC,GAAAA,EAAE,YAAcb,CAAQ,EAGzD,OAAId,QAEC,MAAI,CAAA,UAAU,YACb,SAAC6B,EAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,+BAAgC,CAAA,EAC/CA,MAAC,OAAI,UAAU,YACZ,UAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACC,EAAGN,IACpBK,EAAA,IAAA,MAAA,CAAY,UAAU,0BAAb,EAAAL,CAAwC,CACnD,EACH,CAAA,CACF,CAAA,CACF,CAAA,EAIAvB,QAEC,MAAI,CAAA,UAAU,YACb,SAAC2B,EAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACC,EAAAA,IAAAE,EAAA,CAAY,UAAU,qCAAsC,CAAA,EAC5DF,EAAA,IAAA,KAAA,CAAG,UAAU,2CAA2C,SAAmB,sBAAA,EAC3EA,EAAA,IAAA,IAAA,CAAE,UAAU,qBAAsB,SAAM5B,EAAA,EACxC2B,EAAA,KAAAI,EAAA,CAAO,QAAS7B,EAAkB,UAAU,0BAC3C,SAAA,CAAC0B,EAAAA,IAAAI,EAAA,CAAU,UAAU,SAAU,CAAA,EAAE,OAAA,EAEnC,CAAA,CACF,CAAA,CACF,CAAA,EAKFL,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,wBAAwB,SAAyB,4BAAA,EAC/DD,OAACI,EAAO,CAAA,QAAS,IAAM,CAAmB7B,IAAsBO,GAAM,EAAA,QAAQ,UAAU,KAAK,KAC3F,SAAA,CAACmB,EAAAA,IAAAI,EAAA,CAAU,UAAU,cAAe,CAAA,EAAE,SAAA,EAExC,CAAA,EACF,EAGAL,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,oCAAoC,SAAmB,sBAAA,EACrEA,MAAC,OAAI,UAAU,wCACZ,WACE,OAAOf,GAAQA,EAAK,UAAU,SAAS,aAAa,GAAKA,EAAK,UAAU,SAAS,aAAa,CAAC,EAC/F,IAAKoB,GAAe,CACb,MAAAC,EAASV,EAAcS,EAAW,SAAS,EAC3CE,EAAeT,EAAgBO,EAAW,SAAS,EAGvD,OAAAL,EAAAA,IAACQ,EAAyB,CAAA,UAAU,yBAClC,SAAAR,EAAAA,IAACS,EAAY,CAAA,UAAU,MACrB,SAAAV,EAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,SACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAU,4BAA6B,SAAAK,EAAW,aAAa,EAClEA,EAAW,aACTL,MAAAU,EAAA,CAAM,QAAQ,cAAc,UAAU,UAAU,SAAK,OAAA,CAAA,CAAA,EAE1D,EACCV,EAAA,IAAA,IAAA,CAAE,UAAU,6BAA6B,SAE1C,gCAAA,EAECM,IAAW,YAAcC,GACvBR,EAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAACC,EAAAA,IAAAW,EAAA,CAAY,UAAU,SAAU,CAAA,EAChCX,EAAA,IAAA,OAAA,CAAK,UAAU,sBAAuB,WAAa,UAAU,EAC9DD,EAAAA,KAAC,OAAK,CAAA,UAAU,wBAAwB,SAAA,CAAA,IAAER,EAAegB,EAAa,SAAS,EAAE,GAAA,EAAC,CAAA,EACpF,CAAA,EAEJ,QAEC,MAAI,CAAA,UAAU,0BACZ,SAAAD,IAAW,WAERP,EAAAA,KAAAa,EAAA,SAAA,CAAA,SAAA,CAACb,EAAAA,KAAAW,EAAA,CAAM,UAAU,kDACf,SAAA,CAACV,EAAAA,IAAAW,EAAA,CAAY,UAAU,SAAU,CAAA,EAAE,UAAA,EAErC,EACAZ,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,OAACI,GAAO,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAa,EAAA,CAAI,UAAU,cAAe,CAAA,EAAE,SAAA,EAElC,SACCV,EAAO,CAAA,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAc,EAAA,CAAS,UAAU,cAAe,CAAA,EAAE,UAAA,EAEvC,SACCX,EAAO,CAAA,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAe,EAAA,CAAK,UAAU,cAAe,CAAA,EAAE,YAAA,EAEnC,CAAA,EACF,CAAA,CAAA,CACF,EAGEhB,EAAAA,KAAAa,EAAA,SAAA,CAAA,SAAA,CAAAb,EAAA,KAACW,EAAM,CAAA,QAAQ,YAAY,UAAU,0BACnC,SAAA,CAACV,EAAAA,IAAAgB,EAAA,CAAS,UAAU,SAAU,CAAA,EAAE,SAAA,EAElC,EACAjB,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAC,EAAA,IAAC,QAAA,CACC,KAAK,OACL,OAAO,kBACP,SAAWiB,GAAM,OACf,MAAMhC,GAAOiC,EAAAD,EAAE,OAAO,QAAT,YAAAC,EAAiB,GAC1BjC,GACeF,EAAAsB,EAAW,UAAWpB,CAAI,CAE/C,EACA,UAAU,SACV,GAAI,QAAQoB,EAAW,SAAS,EAAA,CAClC,QACC,QAAM,CAAA,QAAS,QAAQA,EAAW,SAAS,GAC1C,SAAAN,EAAA,KAACI,EAAA,CACC,SAAUvC,EAAUyC,EAAW,SAAS,EACxC,KAAK,KACL,UAAU,qEAET,SAAA,CAAUzC,EAAAyC,EAAW,SAAS,EAC5BL,EAAA,IAAA,MAAA,CAAI,UAAU,8EAA+E,CAAA,EAE9FA,EAAAA,IAACmB,EAAO,CAAA,UAAU,cAAe,CAAA,EACjC,YAAA,CAAA,CAAA,EAGN,CAAA,EACF,CAAA,CAAA,CACF,CAEJ,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAnFS,EAAAd,EAAW,EAoFtB,CAEH,CAAA,EACL,CAAA,EACF,EAGAN,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,oCAAoC,SAAiB,oBAAA,EACnEA,EAAAA,IAAC,MAAI,CAAA,UAAU,wCACZ,SAAAzC,EACE,OAAe0B,GAAAA,EAAK,UAAU,SAAS,WAAW,GAAKA,EAAK,UAAU,SAAS,YAAY,GAAKA,EAAK,UAAU,SAAS,YAAY,CAAC,EACrI,IAAKoB,GAAe,CACb,MAAAC,EAASV,EAAcS,EAAW,SAAS,EAC3CE,EAAeT,EAAgBO,EAAW,SAAS,EAGvD,OAAAL,EAAAA,IAACQ,EAAyB,CAAA,UAAU,yBAClC,SAAAR,EAAAA,IAACS,EAAY,CAAA,UAAU,MACrB,SAAAV,EAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,SACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAU,4BAA6B,SAAAK,EAAW,aAAa,EAClEA,EAAW,aACTL,MAAAU,EAAA,CAAM,QAAQ,cAAc,UAAU,UAAU,SAAK,OAAA,CAAA,CAAA,EAE1D,EACCV,EAAA,IAAA,IAAA,CAAE,UAAU,6BAA6B,SAE1C,gCAAA,EAECM,IAAW,YAAcC,GACvBR,EAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAACC,EAAAA,IAAAW,EAAA,CAAY,UAAU,SAAU,CAAA,EAChCX,EAAA,IAAA,OAAA,CAAK,UAAU,sBAAuB,WAAa,UAAU,EAC9DD,EAAAA,KAAC,OAAK,CAAA,UAAU,wBAAwB,SAAA,CAAA,IAAER,EAAegB,EAAa,SAAS,EAAE,GAAA,EAAC,CAAA,EACpF,CAAA,EAEJ,QAEC,MAAI,CAAA,UAAU,0BACZ,SAAAD,IAAW,WAERP,EAAAA,KAAAa,EAAA,SAAA,CAAA,SAAA,CAACb,EAAAA,KAAAW,EAAA,CAAM,UAAU,kDACf,SAAA,CAACV,EAAAA,IAAAW,EAAA,CAAY,UAAU,SAAU,CAAA,EAAE,UAAA,EAErC,EACAZ,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,OAACI,GAAO,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAa,EAAA,CAAI,UAAU,cAAe,CAAA,EAAE,SAAA,EAElC,SACCV,EAAO,CAAA,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAc,EAAA,CAAS,UAAU,cAAe,CAAA,EAAE,UAAA,EAEvC,SACCX,EAAO,CAAA,KAAK,KAAK,QAAQ,UAAU,UAAU,WAC5C,SAAA,CAACH,EAAAA,IAAAe,EAAA,CAAK,UAAU,cAAe,CAAA,EAAE,YAAA,EAEnC,CAAA,EACF,CAAA,CAAA,CACF,EAGEhB,EAAAA,KAAAa,EAAA,SAAA,CAAA,SAAA,CAAAb,EAAA,KAACW,EAAM,CAAA,QAAQ,YAAY,UAAU,0BACnC,SAAA,CAACV,EAAAA,IAAAgB,EAAA,CAAS,UAAU,SAAU,CAAA,EAAE,SAAA,EAElC,EACAjB,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAC,EAAA,IAAC,QAAA,CACC,KAAK,OACL,OAAO,kBACP,SAAWiB,GAAM,OACf,MAAMhC,GAAOiC,EAAAD,EAAE,OAAO,QAAT,YAAAC,EAAiB,GAC1BjC,GACeF,EAAAsB,EAAW,UAAWpB,CAAI,CAE/C,EACA,UAAU,SACV,GAAI,QAAQoB,EAAW,SAAS,EAAA,CAClC,QACC,QAAM,CAAA,QAAS,QAAQA,EAAW,SAAS,GAC1C,SAAAN,EAAA,KAACI,EAAA,CACC,SAAUvC,EAAUyC,EAAW,SAAS,EACxC,KAAK,KACL,UAAU,qEAET,SAAA,CAAUzC,EAAAyC,EAAW,SAAS,EAC5BL,EAAA,IAAA,MAAA,CAAI,UAAU,8EAA+E,CAAA,EAE9FA,EAAAA,IAACmB,EAAO,CAAA,UAAU,cAAe,CAAA,EACjC,YAAA,CAAA,CAAA,EAGN,CAAA,EACF,CAAA,CAAA,CACF,CAEJ,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAnFS,EAAAd,EAAW,EAoFtB,CAEH,CAAA,EACL,CAAA,EACF,EAGC3C,EAAc,OAAS,GACtBsC,EAAAA,IAAC,OAAI,UAAU,mBACb,SAACD,EAAA,KAAAI,EAAA,CAAO,QAAS,IAAMpC,EAAoB,EAAI,EAAG,UAAU,kCAC1D,SAAA,CAACiC,EAAAA,IAAAoB,EAAA,CAAK,UAAU,cAAe,CAAA,EAAE,mBAAA,CAAA,CAEnC,CACF,CAAA,QAIDC,GAAY,CAAA,KAAMvD,EAAkB,aAAcC,EACjD,gBAACuD,GACC,CAAA,SAAA,CAAAvB,OAACwB,GACC,CAAA,SAAA,CAAAvB,EAAAA,IAACwB,IAAiB,SAAuB,yBAAA,CAAA,EACzCxB,EAAAA,IAACyB,IAAuB,SAExB,8FAAA,CAAA,CAAA,EACF,SACCC,GACC,CAAA,SAAA,CAAC1B,EAAA,IAAA2B,GAAA,CAAkB,SAAU3D,EAAY,SAAM,SAAA,EAC/CgC,EAAA,IAAC4B,GAAA,CACC,QAAStC,EACT,SAAUtB,EACV,UAAU,kCAET,WAAa,gBAAkB,QAAA,CAClC,CAAA,EACF,CAAA,CAAA,CACF,CACF,CAAA,CACF,CAAA,CAAA,CAEJ,EC5eM6D,GAAmC,IAAM,aACvC,KAAA,CAAE,YAAA9E,GAAgB+E,KAClBC,EAAWC,KACX,CAAE,MAAA9E,GAAUE,IACZ,CAAC6E,EAAWC,CAAY,EAAIzE,WAAiC,IAAI,EACjE,CAACS,EAASC,CAAU,EAAIV,WAAS,EAAI,EACrC,CAACO,EAAYC,CAAa,EAAIR,WAAS,EAAK,EAC5C,CAAC0E,EAAmBC,CAAoB,EAAI3E,EAAA,SAAmB,CAAE,CAAA,EACjE,CAAC4E,EAAiBC,CAAkB,EAAI7E,WAAiB,EAAE,EAE3D8E,EAAc,SAAY,OAC1B,GAAA,GAACrF,GAAS,CAACH,GACf,CAAAoB,EAAW,EAAI,EACX,GAAA,CACF,MAAMqE,EAAM,MAAM/D,EAAO,gCAAgC1B,CAAW,GAAIG,CAAK,EACzEsF,GAAOA,EAAI,UAAY,GAEzBN,EAAaM,EAAI,aAAatB,EAAAsB,EAAI,OAAJ,YAAAtB,EAAU,YAAasB,CAAG,EAExDN,EAAa,IAAI,QAEZjB,EAAG,CACF,QAAA,MAAM,mCAAoCA,CAAC,EACnDiB,EAAa,IAAI,CAAA,QACjB,CACA/D,EAAW,EAAK,CAClB,EAAA,EAIIsE,EAAyB,SAAY,CACrC,GAAA,CACF,MAAMD,EAAM,MAAM/D,EAAO,iCAAkCvB,CAAK,EAChE,GAAIsF,GAAA,MAAAA,EAAK,SAAW,MAAM,QAAQA,EAAI,IAAI,EAAG,CAErC,MAAAE,MAAiB,IACnBF,EAAA,KAAK,QAASG,GAAW,OAC3B,MAAMpE,EAAYoE,EAAE,iBACdC,IAAc1B,EAAAyB,EAAE,gBAAF,YAAAzB,EAAiB,gBAAiB,WAAW3C,CAAS,GACtEA,GAAa,CAACmE,EAAW,IAAInE,CAAS,GAC7BmE,EAAA,IAAInE,EAAWqE,CAAW,CACvC,CACD,EAED,MAAMC,EAAQ,MAAM,KAAKH,EAAW,OAAQ,CAAA,EAC5CN,EAAqBS,CAAK,EAGtBA,EAAM,OAAS,GAAK,CAACR,GACJC,EAAAO,EAAM,CAAC,CAAC,CAE/B,QACOzE,EAAO,CACN,QAAA,MAAM,6BAA8BA,CAAK,CACnD,CAAA,EAGFU,EAAAA,UAAU,IAAM,CACFyD,IACWE,GAAA,EACtB,CAAC1F,EAAaG,CAAK,CAAC,EAEjB,MAAA4F,EAAcC,GACX,IAAI,KAAKA,CAAU,EAAE,mBAAmB,QAAS,CACtD,KAAM,UACN,MAAO,OACP,IAAK,UACL,KAAM,UACN,OAAQ,SAAA,CACT,EAGGC,EAAkB1C,GAAmB,CACzC,OAAQA,EAAQ,CACd,IAAK,WACH,OAAQN,EAAAA,IAAAU,EAAA,CAAM,UAAU,0BAA0B,SAAkB,oBAAA,CAAA,EACtE,IAAK,yBACH,OAAQV,EAAAA,IAAAU,EAAA,CAAM,UAAU,0BAA0B,SAAuB,yBAAA,CAAA,EAC3E,IAAK,yBACH,OAAQV,EAAAA,IAAAU,EAAA,CAAM,UAAU,wBAAwB,SAAqB,uBAAA,CAAA,EACvE,IAAK,YACH,OAAQV,EAAAA,IAAAU,EAAA,CAAM,UAAU,yBAAyB,SAAqB,uBAAA,CAAA,EACxE,QACE,OAAQV,EAAAA,IAAAU,EAAA,CAAM,UAAU,yBAA0B,SAAOJ,CAAA,CAAA,CAC7D,CAAA,EAGI2C,EAAU,SAAY,CACtB,GAAA,GAAC/F,GAAS,CAACH,GACf,CAAAkB,EAAc,EAAI,EACd,GAAA,CACF,MAAMmB,EAAQ,gCAAgCrC,CAAW,WAAY,CAAA,EAAIG,CAAK,EAC9E,MAAMqF,EAAY,CAAA,QAClB,CACAtE,EAAc,EAAK,CACrB,EAAA,EAGIiF,EAAS,SAAY,CACrB,GAAA,GAAChG,GAAS,CAACH,GACf,CAAAkB,EAAc,EAAI,EACd,GAAA,CACI,MAAAmB,EAAQ,gCAAgCrC,CAAW,UAAW,CAAE,iBAAkB,8BAAgCG,CAAK,EAC7H,MAAMqF,EAAY,CAAA,QAClB,CACAtE,EAAc,EAAK,CACrB,EAAA,EAGIkF,EAAqB,SAAY,CACjC,GAAA,GAACjG,GAAS,CAACH,GACf,CAAAkB,EAAc,EAAI,EACd,GAAA,CACF,MAAMmB,EAAQ,gCAAgCrC,CAAW,wBAAyB,CAAA,EAAIG,CAAK,EAC3F,MAAMqF,EAAY,CAAA,QAClB,CACAtE,EAAc,EAAK,CACrB,EAAA,EAGF,OAAIC,EAEA8B,EAAAA,IAAC,MAAI,CAAA,UAAU,iCACb,SAAAA,EAAAA,IAAC,MAAI,CAAA,UAAU,oBACb,SAAAD,EAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,+BAAgC,CAAA,EAC/CA,EAAAA,IAAC,MAAI,CAAA,UAAU,0BAA2B,CAAA,CAAA,EAC5C,EACF,CACF,CAAA,EAICiC,QAsBF,MAAI,CAAA,UAAU,iCACb,SAAClC,EAAA,KAAA,MAAA,CAAI,UAAU,8BAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAA,KAACI,EAAA,CACC,QAAQ,UACR,QAAS,IAAM4B,EAAS,0BAA0B,EAClD,UAAU,oDAEV,SAAA,CAAC/B,EAAAA,IAAAoD,EAAA,CAAU,UAAU,cAAe,CAAA,EAAE,SAAA,CAAA,CAExC,SACC,MACC,CAAA,SAAA,CAACpD,EAAA,IAAA,KAAA,CAAG,UAAU,mCAAmC,SAAyB,4BAAA,EACzEA,EAAA,IAAA,IAAA,CAAE,UAAU,qBAAqB,SAElC,sDAAA,CAAA,EACF,CAAA,EACF,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACC,EAAA,IAAAU,EAAA,CAAM,UAAU,8BAA8B,SAAa,gBAAA,EAC3DsC,EAAef,EAAU,MAAM,CAAA,EAClC,CAAA,EACF,EAGAlC,EAAAA,KAACS,EAAK,CAAA,UAAU,+BACd,SAAA,CAAAR,MAACqD,EACC,CAAA,SAAAtD,EAAAA,KAACuD,EAAU,CAAA,UAAU,yCACnB,SAAA,CAACtD,EAAAA,IAAAgB,EAAA,CAAS,UAAU,SAAU,CAAA,EAAE,qBAAA,CAAA,CAElC,CACF,CAAA,EACChB,MAAAS,EAAA,CACC,SAACV,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAAuD,GAAA,CAAK,UAAU,wBAAyB,CAAA,SACxC,MACC,CAAA,SAAA,CAAAvD,MAAC,MAAG,UAAU,8BAA+B,WAAUkB,EAAAe,EAAA,UAAA,YAAAf,EAAS,OAAQ,IAAI,EAC5EnB,EAAAA,KAAC,IAAE,CAAA,UAAU,wBAAwB,SAAA,CAAA,UAAMyD,EAAAvB,EAAU,UAAV,YAAAuB,EAAmB,MAAO,GAAA,EAAI,CAAA,EAC3E,CAAA,EACF,EACAzD,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAAyD,GAAA,CAAO,UAAU,wBAAyB,CAAA,SAC1C,MACC,CAAA,SAAA,CAAAzD,MAAC,KAAE,UAAU,4BAA6B,WAAU0D,EAAAzB,EAAA,SAAA,YAAAyB,EAAQ,UAAW,IAAI,QAC1E,IAAE,CAAA,UAAU,wBAAyB,WAAUC,EAAA1B,EAAA,SAAA,YAAA0B,EAAQ,OAAQ,IAAI,CAAA,EACtE,CAAA,EACF,CAAA,EACF,EACA5D,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAAgB,EAAA,CAAS,UAAU,wBAAyB,CAAA,SAC5C,MACC,CAAA,SAAA,CAAChB,EAAA,IAAA,IAAA,CAAE,UAAU,4BAA4B,SAAa,gBAAA,EACrDA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAyB,WAAU,cAAc,CAAA,EAChE,CAAA,EACF,EACAD,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAACC,EAAAA,IAAA4D,GAAA,CAAS,UAAU,wBAAyB,CAAA,SAC5C,MACC,CAAA,SAAA,CAAC5D,EAAA,IAAA,IAAA,CAAE,UAAU,4BAA4B,SAAiB,oBAAA,QACzD,IAAE,CAAA,UAAU,wBAAyB,SAAW8C,EAAAb,EAAU,UAAU,EAAE,CAAA,EACzE,CAAA,EACF,CAAA,EACF,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,SAGCzB,EACC,CAAA,SAAA,CAAAR,EAAAA,IAACqD,GACC,SAACrD,EAAA,IAAAsD,EAAA,CAAU,UAAU,iBAAiB,qCAAyB,CACjE,CAAA,SACC7C,EAEC,CAAA,SAAA,CAACV,EAAAA,KAAA,MAAA,CAAI,UAAU,OACb,SAAA,CAACC,EAAA,IAAA,QAAA,CAAM,UAAU,+CAA+C,SAEhE,mCAAA,EACCD,EAAA,KAAA8D,GAAA,CAAO,MAAOxB,EAAiB,cAAeC,EAC7C,SAAA,CAAAtC,EAAAA,IAAC8D,IAAc,UAAU,kBACvB,eAACC,GAAY,CAAA,YAAY,wBAAwB,CACnD,CAAA,EACC/D,EAAA,IAAAgE,GAAA,CACE,SAAkB7B,EAAA,IAAKzD,GACrBsB,EAAA,IAAAiE,GAAA,CAAyB,MAAOvF,EAC9B,SADcA,CAAA,EAAAA,CAEjB,CACD,EACH,CAAA,EACF,EACCsB,EAAA,IAAA,IAAA,CAAE,UAAU,6BAA6B,SAE1C,8DAAA,CAAA,EACF,EAGCqC,GACCrC,EAAA,IAAClD,GAAA,CACC,YAAamF,EAAU,GACvB,eAAgBI,EAChB,gBAAiB,IAAME,EAAY,CAAA,CACrC,CAAA,EAEJ,CAAA,EACF,EAGAxC,EAAAA,KAAC,MAAI,CAAA,UAAU,sCACX,SAAA,EAAAkC,EAAU,SAAW,YAAcA,EAAU,SAAW,cAEtDlC,EAAA,KAAAa,WAAA,CAAA,SAAA,CAAAb,OAACI,GAAO,QAAS+C,EAAQ,SAAUlF,EAAY,UAAU,yCACvD,SAAA,CAACgC,EAAAA,IAAAkE,GAAA,CAAQ,UAAU,cAAe,CAAA,EAAE,OAAA,EAEtC,SACC/D,EAAO,CAAA,QAAS8C,EAAS,SAAUjF,EAAY,UAAU,6CACxD,SAAA,CAACgC,EAAAA,IAAAW,EAAA,CAAY,UAAU,cAAe,CAAA,EAAE,SAAA,EAE1C,CAAA,EACF,GAEAsB,EAAU,SAAW,0BAA4BA,EAAU,SAAW,2BACrElC,EAAA,KAAAI,EAAA,CAAO,QAASgD,EAAoB,SAAUnF,EAAY,UAAU,2CACnE,SAAA,CAACgC,EAAAA,IAAAoB,EAAA,CAAK,UAAU,cAAe,CAAA,EAAE,sBAAA,EAEnC,CAAA,EAEJ,CAAA,CACF,CAAA,CACF,CAAA,EAzJEpB,EAAAA,IAAC,MAAI,CAAA,UAAU,iCACb,SAAAA,EAAAA,IAAC,MAAI,CAAA,UAAU,oBACb,SAAAD,EAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACC,EAAAA,IAAAgB,EAAA,CAAS,UAAU,sCAAuC,CAAA,EAC1DhB,EAAA,IAAA,KAAA,CAAG,UAAU,4CAA4C,SAAyB,4BAAA,EAClFA,EAAA,IAAA,IAAA,CAAE,UAAU,qBAAqB,SAAmE,sEAAA,EACrGD,EAAA,KAACI,EAAA,CACC,QAAS,IAAM4B,EAAS,0BAA0B,EAClD,UAAU,6CAEV,SAAA,CAAC/B,EAAAA,IAAAoD,EAAA,CAAU,UAAU,cAAe,CAAA,EAAE,sBAAA,CAAA,CAExC,CAAA,EACF,EACF,CACF,CAAA,CA4IN"}