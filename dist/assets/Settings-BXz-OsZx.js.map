{"version":3,"file":"Settings-BXz-OsZx.js","sources":["../../src/components/ui/tabs.tsx","../../src/pages/Settings.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Switch } from '@/components/ui/switch';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\nimport { Building, Users, Settings as SettingsIcon, Save, Upload, Download, Clipboard, Check, Plus, Edit, Crown, FileText, Trash2, FolderOpen, AlertTriangle } from 'lucide-react';\nimport { apiGet, apiPost, apiPut, apiDelete } from '../lib/api';\nimport { Dialog, DialogTrigger, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription, DialogClose } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogContent, AlertDialogHeader, AlertDialogTitle, AlertDialogDescription, AlertDialogFooter, AlertDialogAction } from '@/components/ui/alert-dialog';\nimport { Skeleton } from '@/components/ui/skeleton';\n\nconst CopyableText: React.FC<{ text: string; label?: string; className?: string }> = ({ text, label = 'Teks', className }) => {\n  const [copied, setCopied] = useState(false);\n  const [copiedOpen, setCopiedOpen] = useState(false);\n  const handleCopy = async (e?: React.MouseEvent | React.KeyboardEvent) => {\n    e?.preventDefault?.();\n    e?.stopPropagation?.();\n    try {\n      await navigator.clipboard.writeText(text);\n    } catch {\n      const textarea = document.createElement('textarea');\n      textarea.value = text;\n      textarea.style.position = 'fixed';\n      textarea.style.opacity = '0';\n      document.body.appendChild(textarea);\n      textarea.focus();\n      textarea.select();\n      try { document.execCommand('copy'); } catch {}\n      document.body.removeChild(textarea);\n    }\n    setCopied(true);\n    setCopiedOpen(true);\n    setTimeout(() => {\n      setCopied(false);\n      setCopiedOpen(false);\n    }, 1400);\n  };\n  return (\n    <>\n      <button\n        type=\"button\"\n        onClick={handleCopy}\n        onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') handleCopy(e); }}\n        className={`inline-flex items-center gap-1 cursor-pointer group text-left ${className || ''}`}\n        title={`Salin ${label}`}\n      >\n        <span>{text}</span>\n        {copied ? <Check className=\"w-4 h-4 text-green-600\" /> : <Clipboard className=\"w-4 h-4 text-gray-400 group-hover:text-green-600\" />}\n        <span aria-live=\"polite\" className=\"sr-only\">{copied ? `${label} disalin` : ''}</span>\n      </button>\n\n      <Dialog open={copiedOpen} onOpenChange={setCopiedOpen}>\n        <DialogContent className=\"max-w-sm min-w-[320px] px-4 py-3 pr-12 rounded-xl border shadow-lg\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"inline-flex h-6 w-6 items-center justify-center rounded-full bg-green-50 text-green-600 border border-green-500\">\n              <Check className=\"h-4 w-4\" />\n            </span>\n            <span className=\"text-sm font-semibold\">Berhasil menyalin {label}</span>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nconst EmployeesTable: React.FC<{ token: string | null }> = ({ token }) => {\n  const [employees, setEmployees] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [search, setSearch] = useState('');\n  const [debouncedSearch, setDebouncedSearch] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const pageSize = 20;\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editData, setEditData] = useState<any | null>(null);\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    const handler = setTimeout(() => setDebouncedSearch(search), 300);\n    return () => clearTimeout(handler);\n  }, [search]);\n\n  useEffect(() => {\n    if (!token) return;\n    setLoading(true);\n    apiGet('/api/employees', token)\n      .then(res => setEmployees(res.pegawai || []))\n      .catch(err => setError(err.message || 'Gagal mengambil data pegawai'))\n      .finally(() => setLoading(false));\n  }, [token]);\n\n  const filteredEmployees = employees.filter(emp =>\n    emp.nama?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\n    emp.nip?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\n    emp.unit_kerja?.toLowerCase().includes(debouncedSearch.toLowerCase())\n  );\n\n  // Pagination logic\n  const totalPages = Math.ceil(filteredEmployees.length / pageSize);\n  const paginatedEmployees = filteredEmployees.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n\n  // Windowing logic for page numbers\n  const getPageNumbers = () => {\n    const maxPagesToShow = 5;\n    if (totalPages <= maxPagesToShow) {\n      return Array.from({ length: totalPages }, (_, idx) => idx + 1);\n    }\n    let start = Math.max(1, currentPage - 2);\n    let end = Math.min(totalPages, currentPage + 2);\n    if (currentPage <= 3) {\n      end = maxPagesToShow;\n      start = 1;\n    } else if (currentPage >= totalPages - 2) {\n      end = totalPages;\n      start = totalPages - maxPagesToShow + 1;\n    }\n    return Array.from({ length: end - start + 1 }, (_, idx) => start + idx);\n  };\n  const pageNumbers = getPageNumbers();\n\n  const handlePageChange = (page: number) => {\n    if (page < 1 || page > totalPages) return;\n    setCurrentPage(page);\n  };\n\n  useEffect(() => {\n    setCurrentPage(1); // Reset ke halaman 1 jika search berubah\n  }, [debouncedSearch]);\n\n  if (loading) return <div className=\"py-8 text-center\"><Skeleton className=\"h-8 w-1/2 mx-auto mb-4\" /><Skeleton className=\"h-10 w-full mb-2\" /><Skeleton className=\"h-10 w-full mb-2\" /><Skeleton className=\"h-10 w-full mb-2\" /></div>;\n  if (error) return <div className=\"py-8 text-center text-error\">{error}</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Search */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1\">\n          <Input\n            placeholder=\"Cari pegawai...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"w-full\"\n          />\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setEditModalOpen(true)}\n            className=\"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-50\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            Tambah Pegawai\n          </Button>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"border rounded-lg overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">Nama</th>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">NIP</th>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">Unit Kerja</th>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">Jabatan</th>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">Pangkat/Gol</th>\n                <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-900\">Aksi</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {paginatedEmployees.map((employee) => (\n                <tr key={employee.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-4 py-3 text-sm text-gray-900\"><CopyableText text={employee.nama} label=\"Nama\" /></td>\n                  <td className=\"px-4 py-3 text-sm text-gray-900\">\n                    <CopyableText text={employee.nip} label=\"NIP\" className=\"font-mono\" />\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-900\">{employee.unit_kerja}</td>\n                  <td className=\"px-4 py-3 text-sm text-gray-900\">{employee.jabatan}</td>\n                  <td className=\"px-4 py-3 text-sm text-gray-900\">{employee.golongan}</td>\n                  <td className=\"px-4 py-3 text-sm text-gray-900\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setEditData(employee);\n                        setEditModalOpen(true);\n                      }}\n                      className=\"flex items-center gap-1\"\n                    >\n                      <Edit className=\"h-3 w-3\" />\n                      Edit\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-gray-700\">\n            Menampilkan {((currentPage - 1) * pageSize) + 1} sampai {Math.min(currentPage * pageSize, filteredEmployees.length)} dari {filteredEmployees.length} pegawai\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handlePageChange(currentPage - 1)}\n              disabled={currentPage === 1}\n              className=\"border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800 disabled:border-gray-300 disabled:text-gray-400\"\n            >\n              Sebelumnya\n            </Button>\n            {pageNumbers.map((page) => (\n              <Button\n                key={page}\n                variant={currentPage === page ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => handlePageChange(page)}\n                className={currentPage === page ? \"bg-green-600 hover:bg-green-700 text-white\" : \"\"}\n              >\n                {page}\n              </Button>\n            ))}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handlePageChange(currentPage + 1)}\n              disabled={currentPage === totalPages}\n              className=\"border-green-600 text-green-600 hover:bg-green-50 disabled:border-gray-300 disabled:text-gray-400\"\n            >\n              Selanjutnya\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Modal */}\n      <Dialog open={editModalOpen} onOpenChange={setEditModalOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>{editData ? 'Edit Pegawai' : 'Tambah Pegawai Baru'}</DialogTitle>\n            <DialogDescription>\n              {editData ? 'Edit informasi pegawai' : 'Masukkan informasi pegawai baru'}\n            </DialogDescription>\n          </DialogHeader>\n          <form onSubmit={async (e) => {\n            e.preventDefault();\n            setSaving(true);\n            try {\n              const formData = new FormData(e.currentTarget);\n              const data = {\n                nama: formData.get('nama') as string,\n                unit_kerja: formData.get('unit_kerja') as string,\n                jabatan: formData.get('jabatan') as string,\n                golongan: formData.get('golongan') as string,\n              };\n\n              const isEdit = !!editData;\n              // Saat edit, nip input disabled sehingga tidak ikut di FormData\n              const nipForPath = isEdit\n                ? (editData?.nip as string | undefined)\n                : (formData.get('nip') as string | null) || undefined;\n\n              if (isEdit) {\n                // Pastikan ada NIP untuk path\n                if (!nipForPath) {\n                  throw new Error('NIP tidak ditemukan untuk update');\n                }\n                // Jangan kirim nip pada update (backend tidak mengubah nip)\n                await apiPut(`/api/employees/${nipForPath}`, data, token);\n                toast({\n                  title: 'Berhasil',\n                  description: 'Data pegawai berhasil diperbarui',\n                });\n              } else {\n                // Saat create, pastikan NIP ada\n                const nipCreate = (formData.get('nip') as string | null) || undefined;\n                await apiPost('/api/employees', { ...data, nip: nipCreate }, token);\n                toast({\n                  title: 'Berhasil',\n                  description: 'Pegawai baru berhasil ditambahkan',\n                });\n              }\n\n              // Refresh data\n              const res = await apiGet('/api/employees', token);\n              setEmployees(res.pegawai || []);\n              setEditModalOpen(false);\n              setEditData(null);\n            } catch (err: any) {\n              toast({\n                title: 'Gagal',\n                description: err.message || 'Terjadi kesalahan',\n                variant: 'destructive',\n              });\n            } finally {\n              setSaving(false);\n            }\n          }}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"nama\">Nama Lengkap</Label>\n                <Input\n                  id=\"nama\"\n                  name=\"nama\"\n                  defaultValue={editData?.nama || ''}\n                  required\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"nip\">NIP</Label>\n                <Input\n                  id=\"nip\"\n                  name=\"nip\"\n                  defaultValue={editData?.nip || ''}\n                  required\n                  pattern=\"[0-9]{18}\"\n                  title=\"NIP harus 18 digit angka\"\n                  disabled={!!editData}\n                  readOnly={!!editData}\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"unit_kerja\">Unit Kerja</Label>\n                <Input\n                  id=\"unit_kerja\"\n                  name=\"unit_kerja\"\n                  defaultValue={editData?.unit_kerja || ''}\n                  required\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"jabatan\">Jabatan</Label>\n                <Input\n                  id=\"jabatan\"\n                  name=\"jabatan\"\n                  defaultValue={editData?.jabatan || ''}\n                  required\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"golongan\">Pangkat/Golongan</Label>\n                <Input\n                  id=\"golongan\"\n                  name=\"golongan\"\n                  defaultValue={editData?.golongan || ''}\n                  required\n                />\n              </div>\n            </div>\n            <DialogFooter className=\"mt-6\">\n              <DialogClose asChild>\n                              <Button \n                type=\"button\" \n                variant=\"outline\"\n                className=\"border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-900\"\n              >\n                Batal\n              </Button>\n              </DialogClose>\n              <Button type=\"submit\" disabled={saving} className=\"bg-green-600 hover:bg-green-700 text-white\">\n                {saving ? 'Menyimpan...' : (editData ? 'Update' : 'Simpan')}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nconst Settings = () => {\n  const { user, token } = useAuth();\n  const { toast } = useToast();\n  const [officeSettings, setOfficeSettings] = useState({\n    namakantor: '',\n    kabkota: '',\n    alamat: '',\n    telepon: '',\n    fax: '',\n    email: '',\n    website: ''\n  });\n  const [kanwilSettings, setKanwilSettings] = useState({\n    tingkat1: 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\n    tingkat2: 'KANTOR WILAYAH KEMENTERIAN AGAMA',\n    tingkat3: 'PROVINSI NUSA TENGGARA BARAT',\n    alamat: '',\n    telepon: '',\n    fax: '',\n    email: '',\n    website: ''\n  });\n  const [loadingOffice, setLoadingOffice] = useState(true);\n  const [errorOffice, setErrorOffice] = useState<string | null>(null);\n  const [officeId, setOfficeId] = useState<string | null>(null);\n  const [fieldError, setFieldError] = useState<string | null>(null);\n  const inputRefs = {\n    namakantor: React.useRef<HTMLInputElement>(null),\n    kabkota: React.useRef<HTMLInputElement>(null),\n    alamat: React.useRef<HTMLTextAreaElement>(null),\n    telepon: React.useRef<HTMLInputElement>(null),\n    email: React.useRef<HTMLInputElement>(null),\n    website: React.useRef<HTMLInputElement>(null),\n    fax: React.useRef<HTMLInputElement>(null),\n  };\n  const kanwilInputRefs = {\n    tingkat1: React.useRef<HTMLInputElement>(null),\n    tingkat2: React.useRef<HTMLInputElement>(null),\n    tingkat3: React.useRef<HTMLInputElement>(null),\n    alamat: React.useRef<HTMLTextAreaElement>(null),\n    telepon: React.useRef<HTMLInputElement>(null),\n    email: React.useRef<HTMLInputElement>(null),\n    website: React.useRef<HTMLInputElement>(null),\n    fax: React.useRef<HTMLInputElement>(null),\n  };\n  const [showOfficeModal, setShowOfficeModal] = useState(false);\n  const [officeModalSuccess, setOfficeModalSuccess] = useState<boolean | null>(null);\n  const [officeModalMessage, setOfficeModalMessage] = useState('');\n  const [showKanwilModal, setShowKanwilModal] = useState(false);\n  const [kanwilModalSuccess, setKanwilModalSuccess] = useState<boolean | null>(null);\n  const [kanwilModalMessage, setKanwilModalMessage] = useState('');\n\n  // Job Type Configuration state\n  const [jobConfigs, setJobConfigs] = useState<any[]>([]);\n  const [jobConfigLoading, setJobConfigLoading] = useState(true);\n  const [showJobConfigDialog, setShowJobConfigDialog] = useState(false);\n  const [editingJobConfig, setEditingJobConfig] = useState<any | null>(null);\n  const [jobConfigSaving, setJobConfigSaving] = useState(false);\n\n  // Job config form state\n  const [jobConfigForm, setJobConfigForm] = useState({\n    jenis_jabatan: '',\n    total_dokumen: 0,\n    required_files: [] as string[],\n    is_active: true\n  });\n\n  // Available file types\n  const availableFileTypes = [\n    { id: 'surat_pengantar', name: 'Surat Pengantar', category: 'Dokumen Pengantar' },\n    { id: 'surat_permohonan_dari_yang_bersangkutan', name: 'Surat Permohonan Dari Yang Bersangkutan', category: 'Dokumen Pengantar' },\n    { id: 'surat_keputusan_cpns', name: 'Surat Keputusan CPNS', category: 'Dokumen Kepegawaian' },\n    { id: 'surat_keputusan_pns', name: 'Surat Keputusan PNS', category: 'Dokumen Kepegawaian' },\n    { id: 'surat_keputusan_kenaikan_pangkat_terakhir', name: 'Surat Keputusan Kenaikan Pangkat Terakhir', category: 'Dokumen Kepegawaian' },\n    { id: 'surat_keputusan_jabatan_terakhir', name: 'Surat Keputusan Jabatan Terakhir', category: 'Dokumen Kepegawaian' },\n    { id: 'skp_2_tahun_terakhir', name: 'SKP 2 Tahun Terakhir', category: 'Dokumen Kepegawaian' },\n    { id: 'surat_keterangan_bebas_temuan_inspektorat', name: 'Surat Keterangan Bebas Temuan Yang Diterbitkan Inspektorat Jenderal Kementerian Agama', category: 'Dokumen Keterangan' },\n    { id: 'surat_keterangan_anjab_abk_instansi_asal', name: 'Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi asal', category: 'Dokumen Keterangan' },\n    { id: 'surat_keterangan_anjab_abk_instansi_penerima', name: 'Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi penerima', category: 'Dokumen Keterangan' },\n    { id: 'surat_pernyataan_tidak_hukuman_disiplin', name: 'Surat Pernyataan Tidak Pernah Dijatuhi Hukuman Disiplin Tingkat Sedang atau Berat Dalam 1 (satu) Tahun Terakhir Dari PPK', category: 'Dokumen Pernyataan' },\n    { id: 'surat_persetujuan_mutasi_asal', name: 'Surat Persetujuan Mutasi dari ASAL dengan menyebutkan jabatan yang akan diduduki', category: 'Dokumen Persetujuan' },\n    { id: 'surat_lolos_butuh_ppk', name: 'Surat Lolos Butuh dari Pejabat Pembina Kepegawaian instansi yang dituju', category: 'Dokumen Persetujuan' },\n    { id: 'peta_jabatan', name: 'Peta Jabatan', category: 'Dokumen Pendukung' },\n    { id: 'hasil_uji_kompetensi', name: 'Hasil Uji Kompetensi', category: 'Dokumen Pendukung' },\n    { id: 'hasil_evaluasi_pertimbangan_baperjakat', name: 'Hasil Evaluasi dan Pertimbangan (BAPERJAKAT)', category: 'Dokumen Pendukung' },\n    { id: 'anjab_abk_instansi_asal', name: 'Anjab/Abk Instansi Asal', category: 'Dokumen Pendukung' },\n    { id: 'anjab_abk_instansi_penerima', name: 'Anjab/Abk Instansi Penerima', category: 'Dokumen Pendukung' },\n    { id: 'surat_keterangan_tidak_tugas_belajar', name: 'Surat Keterangan Tidak Sedang Tugas Belajar', category: 'Dokumen Keterangan' },\n    { id: 'sptjm_pimpinan_satker_asal', name: 'SPTJM Pimpinan Satker dari Asal', category: 'Dokumen Pernyataan' },\n    { id: 'sptjm_pimpinan_satker_penerima', name: 'SPTJM Pimpinan Satker dari Penerima', category: 'Dokumen Pernyataan' },\n    { id: 'surat_rekomendasi_instansi_pembina', name: 'Surat Rekomendasi Instansi Pembina', category: 'Dokumen Rekomendasi' }\n  ];\n\n  // Load admin wilayah configs from database - hanya jika benar-benar diperlukan\n  useEffect(() => {\n    // Hanya jalankan jika user dan token sudah tersedia\n    if (!user || !token) return;\n    \n    if (user.role === 'admin') {\n      // Superadmin can CRUD\n      fetchAdminWilayahConfigs();\n      fetchAvailableJobTypes();\n    } else if (user.role === 'admin_wilayah') {\n      // Admin wilayah can only view\n      fetchAdminWilayahConfigs();\n    }\n  }, [user?.role, token, user?.id]); // Tambah user.id untuk memastikan user sudah fully loaded\n\n  // Separate useEffect for job configs to avoid conflicts\n  useEffect(() => {\n    // Hanya jalankan jika user dan token sudah tersedia\n    if (!user || !token) return;\n    \n    if (user.role === 'admin') {\n      fetchJobConfigs();\n    }\n  }, [token, user?.role, user?.id]);\n\n  // Load office settings - hanya jika user dan token tersedia\n  useEffect(() => {\n    if (!user || !token) return;\n    \n    setLoadingOffice(true);\n    apiGet('/api/offices', token)\n      .then(res => {\n        let office = null;\n        if (user?.office_id) {\n          office = res.offices?.find((o: any) => o.id === user.office_id);\n        }\n        if (!office && user?.kabkota) {\n          office = res.offices?.find((o: any) => o.kabkota === user.kabkota);\n        }\n        // Hapus fallback ke kantor lain, biarkan kosong jika tidak ada yang cocok\n        if (office) {\n          setOfficeId(office.id);\n          setOfficeSettings({\n            namakantor: office.namakantor || office.name || '',\n            kabkota: office.kabkota || '',\n            alamat: office.alamat || office.address || '',\n            telepon: office.telepon || office.phone || '',\n            fax: office.fax || '',\n            email: office.email || '',\n            website: office.website || ''\n          });\n        } else {\n          setOfficeId(null);\n          setOfficeSettings({\n            namakantor: '',\n            kabkota: '',\n            alamat: '',\n            telepon: '',\n            fax: '',\n            email: '',\n            website: ''\n          });\n        }\n      })\n      .catch((err) => {\n        console.error('Error loading office settings:', err);\n        setErrorOffice('Gagal mengambil data kantor');\n      })\n      .finally(() => setLoadingOffice(false));\n  }, [token, user?.id, user?.office_id, user?.kabkota]);\n\n  // Load Kanwil settings from localStorage\n  useEffect(() => {\n    const savedKanwilSettings = localStorage.getItem('kanwilSettings');\n    if (savedKanwilSettings) {\n      try {\n        const parsed = JSON.parse(savedKanwilSettings);\n        setKanwilSettings(prev => ({\n          ...prev,\n          tingkat1: parsed.tingkat1 || 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\n          tingkat2: parsed.tingkat2 || 'KANTOR WILAYAH KEMENTERIAN AGAMA',\n          tingkat3: parsed.tingkat3 || 'PROVINSI NUSA TENGGARA BARAT',\n          alamat: parsed.alamat || '',\n          telepon: parsed.telepon || '',\n          fax: parsed.fax || '',\n          email: parsed.email || '',\n          website: parsed.website || ''\n        }));\n      } catch (err) {\n        console.error('Error parsing kanwil settings:', err);\n      }\n    }\n  }, []);\n\n  const fetchJobConfigs = async () => {\n    try {\n      setJobConfigLoading(true);\n      const response = await apiGet('/api/job-type-configurations', token);\n      if (response.success) {\n        setJobConfigs(response.data);\n      }\n    } catch (error: any) {\n      console.error('Error fetching job configs:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal mengambil data konfigurasi jabatan\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setJobConfigLoading(false);\n    }\n  };\n\n  const handleSaveOfficeSettings = async () => {\n    setFieldError(null);\n    // Validasi field wajib\n    if (!officeSettings.alamat.trim()) {\n      setFieldError('alamat');\n      inputRefs.alamat.current?.focus();\n      toast({\n        title: 'Alamat wajib diisi.',\n        description: 'Silakan isi alamat kantor.',\n        variant: 'destructive',\n      });\n      return;\n    }\n    // Email opsional, tapi jika diisi harus valid\n    if (officeSettings.email && !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(officeSettings.email)) {\n      setFieldError('email');\n      inputRefs.email.current?.focus();\n      toast({\n        title: 'Format email tidak valid.',\n        description: 'Silakan isi email dengan format yang benar.',\n        variant: 'destructive',\n      });\n      return;\n    }\n    try {\n      const response = await apiPut(`/api/offices/${officeId}`, {\n        alamat: officeSettings.alamat,\n        telepon: officeSettings.telepon,\n        fax: officeSettings.fax,\n        email: officeSettings.email,\n        website: officeSettings.website\n      }, token);\n      setOfficeModalSuccess(true);\n      setOfficeModalMessage('Pengaturan kantor berhasil disimpan!');\n      setShowOfficeModal(true);\n    } catch (err: any) {\n      setOfficeModalSuccess(false);\n      setOfficeModalMessage('Gagal menyimpan pengaturan kantor. Silakan coba lagi.');\n      setShowOfficeModal(true);\n    }\n  };\n\n  const handleSaveKanwilSettings = async () => {\n    setFieldError(null);\n    // Validasi field wajib untuk Kanwil\n    if (!kanwilSettings.alamat.trim()) {\n      setFieldError('alamat');\n      kanwilInputRefs.alamat.current?.focus();\n      toast({\n        title: 'Alamat Kanwil wajib diisi.',\n        description: 'Silakan isi alamat Kantor Wilayah.',\n        variant: 'destructive',\n      });\n      return;\n    }\n    // Email opsional, tapi jika diisi harus valid\n    if (kanwilSettings.email && !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(kanwilSettings.email)) {\n      setFieldError('email');\n      kanwilInputRefs.email.current?.focus();\n      toast({\n        title: 'Format email tidak valid.',\n        description: 'Silakan isi email Kanwil dengan format yang benar.',\n        variant: 'destructive',\n      });\n      return;\n    }\n    try {\n      // Simpan pengaturan Kanwil ke localStorage (karena ini pengaturan khusus)\n      const kanwilData = {\n        tingkat1: kanwilSettings.tingkat1,\n        tingkat2: kanwilSettings.tingkat2,\n        tingkat3: kanwilSettings.tingkat3,\n        alamat: kanwilSettings.alamat,\n        telepon: kanwilSettings.telepon,\n        fax: kanwilSettings.fax,\n        email: kanwilSettings.email,\n        website: kanwilSettings.website\n      };\n      localStorage.setItem('kanwilSettings', JSON.stringify(kanwilData));\n      setKanwilModalSuccess(true);\n      setKanwilModalMessage('Pengaturan Kanwil berhasil disimpan! Data akan digunakan untuk template Kanwil.');\n      setShowKanwilModal(true);\n    } catch (err: any) {\n      setKanwilModalSuccess(false);\n      setKanwilModalMessage('Gagal menyimpan pengaturan Kanwil. Silakan coba lagi.');\n      setShowKanwilModal(true);\n    }\n  };\n\n  const handleExportData = () => {\n    // Implementasi export data\n    toast({\n      title: 'Fitur Export',\n      description: 'Fitur export data akan segera tersedia.',\n    });\n  };\n\n  const handleImportData = () => {\n    // Implementasi import data\n    toast({\n      title: 'Fitur Import',\n      description: 'Fitur import data akan segera tersedia.',\n    });\n  };\n\n  // Admin Wilayah Configuration state\n  const [adminWilayahConfigs, setAdminWilayahConfigs] = useState<any[]>([]);\n  const [adminWilayahConfigLoading, setAdminWilayahConfigLoading] = useState(true);\n  const [showAdminWilayahConfigDialog, setShowAdminWilayahConfigDialog] = useState(false);\n  const [editingAdminWilayahConfig, setEditingAdminWilayahConfig] = useState<any | null>(null);\n  const [adminWilayahConfigSaving, setAdminWilayahConfigSaving] = useState(false);\n  \n  // State untuk modal konfirmasi delete\n  const [showDeleteConfirmDialog, setShowDeleteConfirmDialog] = useState(false);\n  const [configToDelete, setConfigToDelete] = useState<any | null>(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n\n  // Admin Wilayah config form state\n  const [adminWilayahConfigForm, setAdminWilayahConfigForm] = useState({\n    jenis_jabatan_id: '',\n    name: '',\n    description: '',\n    selectedFiles: {} as Record<string, boolean>,\n    selectedVariant: '6.1',\n    is_active: true\n  });\n\n  // Available file types for admin wilayah (hardcoded like JobTypeConfiguration)\n  const adminWilayahAvailableFileTypes = [\n    { id: 'surat_rekomendasi_kanwil', name: 'Surat Rekomendasi Kanwil', category: 'Dokumen Kanwil', is_required: true, description: 'Surat rekomendasi dari Kanwil Provinsi' },\n    { id: 'surat_persetujuan_kepala_wilayah', name: 'Surat Persetujuan Kepala Wilayah', category: 'Dokumen Kanwil', is_required: true, description: 'Surat persetujuan dari Kepala Wilayah Kementerian Agama Provinsi' },\n    { id: 'surat_pengantar_permohonan_rekomendasi', name: 'Surat Pengantar Permohonan Rekomendasi', category: 'Dokumen Pengantar', is_required: true, description: 'Surat pengantar permohonan rekomendasi pindah tugas' },\n    { id: 'surat_pernyataan_tidak_tugas_belajar', name: 'Surat Pernyataan Tidak Sedang Menjalani Tugas Belajar', category: 'Dokumen Pernyataan', is_required: true, description: 'Surat pernyataan tidak sedang menjalani tugas belajar' },\n    { id: 'surat_pernyataan_tidak_ikatan_dinas', name: 'Surat Pernyataan Tidak Sedang Menjalani Ikatan Dinas', category: 'Dokumen Pernyataan', is_required: true, description: 'Surat pernyataan tidak sedang menjalani ikatan dinas' },\n    { id: 'surat_keterangan_kanwil', name: 'Surat Keterangan dari Kanwil', category: 'Dokumen Keterangan', is_required: true, description: 'Surat keterangan resmi dari Kanwil Provinsi' },\n    { id: 'surat_rekomendasi_kanwil_khusus', name: 'Surat Rekomendasi Khusus dari Kanwil', category: 'Dokumen Keterangan', is_required: true, description: 'Surat rekomendasi khusus dari Kanwil Provinsi' },\n    { id: 'surat_keterangan_bebas_temuan_inspektorat', name: 'Surat Keterangan Bebas Temuan (SKBT) - Inspektorat', category: 'Dokumen Kanwil', is_required: true, description: 'SKBT diterbitkan Inspektorat Jenderal Kemenag' },\n    { id: 'hasil_assessment', name: 'Hasil Assessment', category: 'Dokumen Kanwil', is_required: true, description: 'Dokumen hasil uji kompetensi/assessment dari Kanwil/otoritas terkait' }\n  ];\n\n  // Available job types for admin wilayah config\n  const [availableJobTypes, setAvailableJobTypes] = useState<any[]>([]);\n\n  const variantOptions = [\n    { value: '6.1', label: '6.1 - Permohonan Persetujuan/Rekomendasi Pengangkatan ke Dalam Jabatan Pengawas (Untuk Eselon)' },\n    { value: '6.2', label: '6.2 - Permohonan Pindah Tugas ke Dirjen Bimas Islam (Untuk Penghulu)' },\n    { value: '6.3', label: '6.3 - Permohonan Pindah Tugas ke Dirjen PENDIS (Untuk Guru, Pengawas, Kepala Madrasah)' },\n    { value: '6.4', label: '6.4 - Permohonan Pindah Tugas ke Kepala Biro SDM Sekjen Kemenag RI (Untuk Analis SDM dan Asesor)' },\n    { value: '6.5', label: '6.5 - Permohonan Pindah Tugas ke Kepala Biro Umum Sekjen Kemenag RI (Arsiparis, BARJAS)' },\n    { value: '6.6', label: '6.6 - Permohonan Pindah Tugas ke Kepala Biro Keuangan dan BMN Sekjen Kemenag RI (Untuk Analis Pengelolaan Keuangan APBN dan Pranata Keuangan APBN)' },\n    { value: '6.7', label: '6.7 - Permohonan Pindah Tugas ke Kepala Biro Perencanaan dan Penganggaran Sekjen Kemenag RI (Untuk Perencana)' },\n    { value: '6.8', label: '6.8 - Permohonan Pindah Tugas ke Kepala Biro Humas (Untuk Pranata Humas)' },\n    { value: '6.9', label: '6.9 - Permohonan Pindah Tugas ke Kepala BMP-PSDM Kemenag RI (Untuk Analis Kebijakan)' }\n  ];\n\n  // Job Configuration functions\n  const handleAddJobConfig = () => {\n    setJobConfigForm({\n      jenis_jabatan: '',\n      total_dokumen: 0,\n      required_files: [],\n      is_active: true\n    });\n    setEditingJobConfig(null);\n    setShowJobConfigDialog(true);\n  };\n\n  const handleEditJobConfig = (config: any) => {\n    setJobConfigForm({\n      jenis_jabatan: config.jenis_jabatan,\n      total_dokumen: config.required_files?.length || 0,\n      required_files: config.required_files || [],\n      is_active: config.is_active\n    });\n    setEditingJobConfig(config);\n    setShowJobConfigDialog(true);\n  };\n\n  const handleSaveJobConfig = async () => {\n    if (!jobConfigForm.jenis_jabatan.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Jenis jabatan wajib diisi\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (jobConfigForm.required_files.length === 0) {\n      toast({\n        title: \"Error\",\n        description: \"Pilih minimal satu dokumen yang diperlukan\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      setJobConfigSaving(true);\n      const payload = {\n        jenis_jabatan: jobConfigForm.jenis_jabatan,\n        min_dokumen: jobConfigForm.required_files.length,\n        max_dokumen: jobConfigForm.required_files.length,\n        required_files: jobConfigForm.required_files,\n        is_active: jobConfigForm.is_active\n      };\n\n      if (editingJobConfig) {\n        await apiPut(`/api/job-type-configurations/${editingJobConfig.id}`, payload, token);\n        toast({\n          title: \"Sukses\",\n          description: \"Konfigurasi jabatan berhasil diperbarui\",\n        });\n      } else {\n        await apiPost('/api/job-type-configurations', payload, token);\n        toast({\n          title: \"Sukses\",\n          description: \"Konfigurasi jabatan berhasil ditambahkan\",\n        });\n      }\n\n      setShowJobConfigDialog(false);\n      fetchJobConfigs();\n    } catch (error: any) {\n      console.error('Error saving job config:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal menyimpan konfigurasi jabatan\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setJobConfigSaving(false);\n    }\n  };\n\n  const handleDeleteJobConfig = async (configId: number) => {\n    try {\n      await apiDelete(`/api/job-type-configurations/${configId}`, token);\n      toast({\n        title: \"Sukses\",\n        description: \"Konfigurasi jabatan berhasil dihapus\",\n      });\n      fetchJobConfigs();\n    } catch (error: any) {\n      console.error('Error deleting job config:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal menghapus konfigurasi jabatan\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleFileTypeToggle = (fileTypeId: string) => {\n    setJobConfigForm(prev => {\n      const newRequiredFiles = prev.required_files.includes(fileTypeId)\n        ? prev.required_files.filter(id => id !== fileTypeId)\n        : [...prev.required_files, fileTypeId];\n      \n      return {\n        ...prev,\n        required_files: newRequiredFiles,\n        total_dokumen: newRequiredFiles.length\n      };\n    });\n  };\n\n  const handleSelectAll = () => {\n    const allFileTypeIds = availableFileTypes.map(fileType => fileType.id);\n    setJobConfigForm(prev => ({\n      ...prev,\n      required_files: allFileTypeIds,\n      total_dokumen: allFileTypeIds.length\n    }));\n    toast({\n      title: \"Berhasil\",\n      description: \"Semua dokumen telah dipilih\",\n    });\n  };\n\n  const handleDeselectAll = () => {\n    setJobConfigForm(prev => ({\n      ...prev,\n      required_files: [],\n      total_dokumen: 0\n    }));\n    toast({\n      title: \"Berhasil\",\n      description: \"Semua dokumen telah dihapus dari pilihan\",\n    });\n  };\n\n  // Admin Wilayah Configuration functions\n  const handleAddAdminWilayahConfig = () => {\n    // Only superadmin can add configs\n    if (user?.role !== 'admin') {\n      toast({\n        title: \"Error\",\n        description: \"Hanya superadmin yang dapat menambah konfigurasi\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setAdminWilayahConfigForm({\n      jenis_jabatan_id: '',\n      name: '',\n      description: '',\n      selectedFiles: {},\n      selectedVariant: '6.1',\n      is_active: true\n    });\n    setEditingAdminWilayahConfig(null);\n    setShowAdminWilayahConfigDialog(true);\n  };\n\n  const handleEditAdminWilayahConfig = (config: any) => {\n    // Only superadmin can edit configs\n    if (user?.role !== 'admin') {\n      toast({\n        title: \"Error\",\n        description: \"Hanya superadmin yang dapat mengedit konfigurasi\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const selectedFilesMap: Record<string, boolean> = {};\n    // Gunakan identifier file_type (bukan id DB) untuk mencentang checkbox yang tepat\n    if (Array.isArray(config.files)) {\n      config.files.forEach((file: any) => {\n        const key = file.file_type || file.id; // fallback untuk kompatibilitas lama\n        if (key) selectedFilesMap[String(key)] = true;\n      });\n    }\n    \n    setAdminWilayahConfigForm({\n      jenis_jabatan_id: config.jenis_jabatan_id,\n      name: config.name,\n      description: config.description,\n      selectedFiles: selectedFilesMap,\n      selectedVariant: '6.1', // Default value\n      is_active: config.is_active\n    });\n    setEditingAdminWilayahConfig(config);\n    setShowAdminWilayahConfigDialog(true);\n  };\n\n  const handleDeleteAdminWilayahConfig = async (config: any) => {\n    // Only superadmin can delete configs\n    if (user?.role !== 'admin') {\n      toast({\n        title: \"Error\",\n        description: \"Hanya superadmin yang dapat menghapus konfigurasi\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Set config yang akan dihapus dan buka modal konfirmasi\n    setConfigToDelete(config);\n    setShowDeleteConfirmDialog(true);\n  };\n\n  const confirmDeleteAdminWilayahConfig = async () => {\n    if (!configToDelete) return;\n\n    try {\n      setIsDeleting(true);\n      console.log('ðŸ—‘ï¸ Deleting config:', configToDelete);\n      console.log('ðŸ“ Files to delete:', configToDelete.files);\n      \n      // Delete all file configs for this job type using Promise.all\n      const deletePromises = configToDelete.files.map(async (file: any) => {\n        console.log(`ðŸ—‘ï¸ Deleting file config ID: ${file.id}, Type: ${file.file_type}`);\n        return apiDelete(`/api/admin-wilayah-file-config/${file.id}`, token);\n      });\n      \n      await Promise.all(deletePromises);\n\n      toast({\n        title: \"Berhasil\",\n        description: \"Konfigurasi admin wilayah berhasil dihapus\",\n      });\n      \n      // Tutup modal dan refresh data\n      setShowDeleteConfirmDialog(false);\n      setConfigToDelete(null);\n      fetchAdminWilayahConfigs(); // Refresh data from database\n    } catch (error: any) {\n      console.error('âŒ Error deleting admin wilayah config:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal menghapus konfigurasi admin wilayah\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const cancelDeleteAdminWilayahConfig = () => {\n    if (isDeleting) return; // Mencegah cancel saat sedang menghapus\n    setShowDeleteConfirmDialog(false);\n    setConfigToDelete(null);\n  };\n\n  // Handle escape key untuk modal konfirmasi\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && showDeleteConfirmDialog && !isDeleting) {\n        cancelDeleteAdminWilayahConfig();\n      }\n    };\n\n    if (showDeleteConfirmDialog) {\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [showDeleteConfirmDialog, isDeleting]);\n\n\n  const handleAdminWilayahFileToggle = (fileId: string) => {\n    setAdminWilayahConfigForm(prev => ({\n      ...prev,\n      selectedFiles: {\n        ...prev.selectedFiles,\n        [fileId]: !prev.selectedFiles[fileId]\n      }\n    }));\n  };\n\n  const handleAdminWilayahVariantChange = (value: string) => {\n    setAdminWilayahConfigForm(prev => ({\n      ...prev,\n      selectedVariant: value\n    }));\n  };\n\n  const handleSaveAdminWilayahConfig = async () => {\n    // Auto-fill name/description to reduce inputs\n    const selectedJob = availableJobTypes.find(j => j.id.toString() === adminWilayahConfigForm.jenis_jabatan_id);\n    const autoName = selectedJob ? `Konfigurasi ${selectedJob.jenis_jabatan}` : 'Konfigurasi Admin Wilayah';\n    const autoDesc = selectedJob ? `Konfigurasi file wajib untuk jabatan ${selectedJob.jenis_jabatan}` : 'Konfigurasi file wajib Admin Wilayah';\n\n    if (!adminWilayahConfigForm.jenis_jabatan_id) {\n      toast({\n        title: \"Error\",\n        description: \"Jenis jabatan wajib dipilih\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Patch local state defaults (without forcing extra inputs)\n    if (!adminWilayahConfigForm.name?.trim()) {\n      setAdminWilayahConfigForm(prev => ({ ...prev, name: autoName }));\n    }\n    if (!adminWilayahConfigForm.description?.trim()) {\n      setAdminWilayahConfigForm(prev => ({ ...prev, description: autoDesc }));\n    }\n\n    const selectedFileList = adminWilayahAvailableFileTypes.filter(file => adminWilayahConfigForm.selectedFiles[file.id]);\n    \n    if (selectedFileList.length === 0) {\n      toast({\n        title: \"Error\",\n        description: \"Pilih minimal satu file yang required\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      setAdminWilayahConfigSaving(true);\n\n      if (editingAdminWilayahConfig) {\n        // Update existing configs - delete old ones and create new ones\n        // First, delete all existing configs for this job type\n        const existingConfigs = adminWilayahConfigs.find(c => c.jenis_jabatan_id === parseInt(adminWilayahConfigForm.jenis_jabatan_id));\n        if (existingConfigs) {\n          console.log('ðŸ”„ Updating configs, deleting old ones:', existingConfigs.files);\n          \n          const deletePromises = existingConfigs.files.map(async (file: any) => {\n            console.log(`ðŸ—‘ï¸ Deleting old file config ID: ${file.id}, Type: ${file.file_type}`);\n            return apiDelete(`/api/admin-wilayah-file-config/${file.id}`, token);\n          });\n          \n          await Promise.all(deletePromises);\n        }\n\n        // Create new configs\n        for (const file of selectedFileList) {\n          await apiPost('/api/admin-wilayah-file-config', {\n            jenis_jabatan_id: parseInt(adminWilayahConfigForm.jenis_jabatan_id),\n            file_type: file.id,\n            display_name: file.name,\n            is_required: file.is_required,\n            description: file.description,\n            is_active: adminWilayahConfigForm.is_active\n          }, token);\n        }\n\n        toast({\n          title: \"Berhasil\",\n          description: \"Konfigurasi admin wilayah berhasil diperbarui\",\n        });\n      } else {\n        // Create new configs\n        for (const file of selectedFileList) {\n          await apiPost('/api/admin-wilayah-file-config', {\n            jenis_jabatan_id: parseInt(adminWilayahConfigForm.jenis_jabatan_id),\n            file_type: file.id,\n            display_name: file.name,\n            is_required: file.is_required,\n            description: file.description,\n            is_active: adminWilayahConfigForm.is_active\n          }, token);\n        }\n\n        toast({\n          title: \"Berhasil\",\n          description: \"Konfigurasi admin wilayah berhasil dibuat\",\n        });\n      }\n      \n      setShowAdminWilayahConfigDialog(false);\n      setEditingAdminWilayahConfig(null);\n      fetchAdminWilayahConfigs(); // Refresh data from database\n    } catch (error: any) {\n      console.error('Error saving admin wilayah config:', error);\n      toast({\n        title: \"Error\",\n        description: error?.message || \"Gagal menyimpan konfigurasi admin wilayah\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setAdminWilayahConfigSaving(false);\n    }\n  };\n\n  const fetchAdminWilayahConfigs = async () => {\n    try {\n      setAdminWilayahConfigLoading(true);\n      const response = await apiGet('/api/admin-wilayah-file-config', token);\n      \n      console.log('ðŸ“¡ API Response:', response);\n      \n      if (response?.success && Array.isArray(response.data)) {\n        console.log('ðŸ“Š Raw data from API:', response.data);\n        \n        // Transform API response to match frontend format\n        const transformedConfigs = response.data.map((config: any) => ({\n          id: config.id,\n          jenis_jabatan_id: config.jenis_jabatan_id,\n          name: config.jenis_jabatan?.jenis_jabatan || `Jabatan ${config.jenis_jabatan_id}`,\n          description: `Konfigurasi file wajib untuk jabatan ${config.jenis_jabatan?.jenis_jabatan || config.jenis_jabatan_id}`,\n          files: [{\n            id: config.id, // âœ… Gunakan config.id untuk delete\n            file_type: config.file_type, // âœ… Tambahkan field file_type\n            name: config.display_name,\n            description: config.description,\n            is_required: config.is_required,\n            is_active: config.is_active\n          }],\n          is_active: config.is_active,\n          created_at: config.created_at,\n          updated_at: config.updated_at\n        }));\n\n        console.log('ðŸ”„ Transformed configs:', transformedConfigs);\n\n        // Group by jenis_jabatan_id\n        const groupedConfigs = transformedConfigs.reduce((acc: any[], config: any) => {\n          const existingConfig = acc.find(c => c.jenis_jabatan_id === config.jenis_jabatan_id);\n          if (existingConfig) {\n            existingConfig.files.push(...config.files);\n          } else {\n            acc.push(config);\n          }\n          return acc;\n        }, []);\n\n        console.log('ðŸ“¦ Grouped configs:', groupedConfigs);\n        setAdminWilayahConfigs(groupedConfigs);\n      } else {\n        // If API fails, set empty array instead of crashing\n        console.warn('âŒ Admin wilayah config API response invalid:', response);\n        setAdminWilayahConfigs([]);\n      }\n          } catch (error: any) {\n        console.error('âŒ Error fetching admin wilayah configs:', error);\n        // Don't show error toast, just set empty array to prevent crash\n        setAdminWilayahConfigs([]);\n      } finally {\n        setAdminWilayahConfigLoading(false);\n      }\n  };\n\n  const fetchAvailableJobTypes = async () => {\n    try {\n      const response = await apiGet('/api/admin-wilayah-file-config/available-job-types', token);\n      if (response?.success && Array.isArray(response.data)) {\n        setAvailableJobTypes(response.data);\n      } else {\n        // If API fails, set empty array instead of crashing\n        console.warn('Available job types API response invalid:', response);\n        setAvailableJobTypes([]);\n      }\n    } catch (error: any) {\n      console.error('Error fetching available job types:', error);\n      // Don't show error toast, just set empty array to prevent crash\n      setAvailableJobTypes([]);\n    }\n  };\n\n  if (!user) {\n    return <div className=\"py-8 text-center\">Silakan login terlebih dahulu.</div>;\n  }\n\n  // Tambah loading state untuk mencegah render yang tidak perlu\n  if (!token) {\n    return <div className=\"py-8 text-center\">Memuat pengaturan...</div>;\n  }\n\n  const isAdmin = user?.role === 'admin';\n\n  return (\n    <div className=\"container mx-auto py-8 px-4\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Pengaturan</h1>\n        <p className=\"text-gray-600\">\n          Kelola pengaturan kantor, pegawai, dan sistem aplikasi\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"office\" className=\"space-y-6\">\n        <TabsList className={`grid w-full ${isAdmin ? 'grid-cols-5' : 'grid-cols-4'}`}>\n          <TabsTrigger value=\"office\" className=\"flex items-center space-x-2\">\n            <Building className=\"h-4 w-4\" />\n            <span>Kantor</span>\n          </TabsTrigger>\n          {isAdmin && (\n            <TabsTrigger value=\"job-config\" className=\"flex items-center space-x-2\">\n              <FileText className=\"h-4 w-4\" />\n              <span>Konfigurasi Jabatan</span>\n            </TabsTrigger>\n          )}\n          {isAdmin && (\n            <TabsTrigger value=\"admin-wilayah-config\" className=\"flex items-center space-x-2\">\n              <FolderOpen className=\"h-4 w-4 text-gray-600\" />\n              <span>Konfigurasi Berkas Admin Wilayah</span>\n            </TabsTrigger>\n          )}\n          <TabsTrigger value=\"employees\" className=\"flex items-center space-x-2\">\n            <Users className=\"h-4 w-4\" />\n            <span>Pegawai</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"system\" className=\"flex items-center space-x-2\">\n            <SettingsIcon className=\"h-4 w-4\" />\n            <span>Sistem</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"office\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Pengaturan Kantor</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {loadingOffice ? (\n                <div className=\"space-y-4\">\n                  <Skeleton className=\"h-6 w-1/3 mb-2\" />\n                  <Skeleton className=\"h-10 w-full mb-2\" />\n                  <Skeleton className=\"h-10 w-full mb-2\" />\n                  <Skeleton className=\"h-24 w-full mb-2\" />\n                  <Skeleton className=\"h-10 w-1/2 mb-2\" />\n                  <Skeleton className=\"h-10 w-1/2 mb-2\" />\n                  <Skeleton className=\"h-10 w-1/2 mb-2\" />\n                </div>\n              ) : errorOffice ? (\n                <div className=\"text-error\">{errorOffice}</div>\n              ) : (\n                <>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <Label htmlFor=\"namakantor\">Nama Kantor</Label>\n                      <Input\n                        id=\"namakantor\"\n                        ref={inputRefs.namakantor}\n                        value={officeSettings.namakantor}\n                        readOnly\n                        disabled\n                        className={fieldError === 'namakantor' ? 'border-red-500' : ''}\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"kabkota\">Kabupaten/Kota</Label>\n                      <Input\n                        id=\"kabkota\"\n                        ref={inputRefs.kabkota}\n                        value={officeSettings.kabkota}\n                        readOnly\n                        disabled\n                        className={fieldError === 'kabkota' ? 'border-red-500' : ''}\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"alamat\">Alamat</Label>\n                    <Textarea\n                      id=\"alamat\"\n                      ref={inputRefs.alamat}\n                      value={officeSettings.alamat}\n                      onChange={(e) => setOfficeSettings({\n                        ...officeSettings,\n                        alamat: e.target.value\n                      })}\n                      rows={3}\n                      className={fieldError === 'alamat' ? 'border-red-500' : ''}\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <Label htmlFor=\"telepon\">Telepon</Label>\n                      <Input\n                        id=\"telepon\"\n                        ref={inputRefs.telepon}\n                        value={officeSettings.telepon}\n                        onChange={(e) => setOfficeSettings({\n                          ...officeSettings,\n                          telepon: e.target.value\n                        })}\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"fax\">Fax</Label>\n                      <Input\n                        id=\"fax\"\n                        value={officeSettings.fax}\n                        onChange={(e) => setOfficeSettings({\n                          ...officeSettings,\n                          fax: e.target.value\n                        })}\n                        ref={inputRefs.fax}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <Label htmlFor=\"email\">Email</Label>\n                      <Input\n                        id=\"email\"\n                        ref={inputRefs.email}\n                        type=\"email\"\n                        value={officeSettings.email}\n                        onChange={(e) => setOfficeSettings({\n                          ...officeSettings,\n                          email: e.target.value\n                        })}\n                        placeholder=\"Contoh: kantor@kemenag.go.id\"\n                        className={fieldError === 'email' ? 'border-red-500' : ''}\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"website\">Website</Label>\n                      <Input\n                        id=\"website\"\n                        ref={inputRefs.website}\n                        value={officeSettings.website}\n                        onChange={(e) => setOfficeSettings({\n                          ...officeSettings,\n                          website: e.target.value\n                        })}\n                        placeholder=\"Contoh: kemenag.go.id\"\n                      />\n                    </div>\n                  </div>\n\n                  <Button onClick={handleSaveOfficeSettings} className=\"w-full bg-green-600 hover:bg-green-700 text-white\">\n                    <Save className=\"mr-2 h-4 w-4\" />\n                    Simpan Pengaturan Kantor\n                  </Button>\n                </>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {isAdmin && (\n          <TabsContent value=\"job-config\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex justify-between items-center\">\n                  <CardTitle>Konfigurasi Jabatan</CardTitle>\n                  <Button onClick={handleAddJobConfig} className=\"bg-green-600 hover:bg-green-700 text-white\">\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Tambah Konfigurasi\n                  </Button>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {jobConfigLoading ? (\n                  <div className=\"space-y-4\">\n                    <Skeleton className=\"h-6 w-1/3 mb-2\" />\n                    <Skeleton className=\"h-10 w-full mb-2\" />\n                    <Skeleton className=\"h-10 w-full mb-2\" />\n                    <Skeleton className=\"h-10 w-full mb-2\" />\n                  </div>\n                ) : jobConfigs.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <FileText className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Belum ada konfigurasi jabatan</h3>\n                    <p className=\"text-gray-500 mb-4\">Mulai dengan menambahkan konfigurasi jabatan pertama Anda.</p>\n                    <Button onClick={handleAddJobConfig} className=\"bg-green-600 hover:bg-green-700 text-white\">\n                      <Plus className=\"w-4 h-4 mr-2\" />\n                      Tambah Konfigurasi Pertama\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {jobConfigs.map((config) => (\n                      <div key={config.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                        <div className=\"flex justify-between items-start mb-3\">\n                          <div>\n                            <h3 className=\"font-medium text-gray-900\">{config.jenis_jabatan}</h3>\n                            <p className=\"text-sm text-gray-500\">\n                              {config.required_files?.length || 0} dokumen diperlukan\n                            </p>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Badge \n                              className={config.is_active \n                                ? \"bg-green-100 text-green-800 border-green-200 hover:bg-green-100\" \n                                : \"bg-red-100 text-red-800 border-red-200 hover:bg-red-100\"\n                              }\n                            >\n                              {config.is_active ? \"Aktif\" : \"Nonaktif\"}\n                            </Badge>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleEditJobConfig(config)}\n                              className=\"border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800\"\n                            >\n                              <Edit className=\"w-4 h-4\" />\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteJobConfig(config.id)}\n                              className=\"text-red-600 hover:text-red-700\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                        {config.required_files && config.required_files.length > 0 && (\n                          <div className=\"flex flex-wrap gap-1\">\n                            {config.required_files.map((fileId: string) => {\n                              const fileType = availableFileTypes.find(ft => ft.id === fileId);\n                              return fileType ? (\n                                <Badge key={fileId} variant=\"outline\" className=\"text-xs\">\n                                  {fileType.name}\n                                </Badge>\n                              ) : null;\n                            })}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n        )}\n\n        {isAdmin && (\n          <TabsContent value=\"admin-wilayah-config\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex justify-between items-center\">\n                  <CardTitle>Konfigurasi Berkas Admin Wilayah</CardTitle>\n                  {user?.role === 'admin' && (\n                    <Button onClick={handleAddAdminWilayahConfig} className=\"bg-green-600 hover:bg-green-700 text-white\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Tambah Konfigurasi\n                    </Button>\n                  )}\n                </div>\n              </CardHeader>\n              <CardContent>\n                {adminWilayahConfigLoading ? (\n                  <div className=\"space-y-4\">\n                    <Skeleton className=\"h-6 w-1/3 mb-2\" />\n                    <Skeleton className=\"h-32 w-full mb-2\" />\n                    <Skeleton className=\"h-32 w-full mb-2\" />\n                  </div>\n                ) : adminWilayahConfigs.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <FolderOpen className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Belum ada konfigurasi</h3>\n                    <p className=\"text-gray-600 mb-4\">\n                      {user?.role === 'admin' \n                        ? 'Buat konfigurasi pertama untuk admin wilayah'\n                        : 'Belum ada konfigurasi yang dibuat oleh superadmin'\n                      }\n                    </p>\n                    {user?.role === 'admin' && (\n                      <Button onClick={handleAddAdminWilayahConfig} className=\"bg-green-600 hover:bg-green-700 text-white\">\n                        <Plus className=\"h-4 w-4 mr-2\" />\n                        Tambah Konfigurasi\n                      </Button>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {adminWilayahConfigs.map((config) => (\n                      <Card key={config.id} className=\"border-green-200\">\n                        <CardHeader>\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <CardTitle className=\"text-green-800\">{config.name}</CardTitle>\n                              <p className=\"text-sm text-gray-600 mt-1\">{config.description}</p>\n                              <p className=\"text-xs text-gray-500 mt-1\">\n                                {config.files.length} berkas diperlukan\n                              </p>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge className={config.is_active ? \"bg-green-100 text-green-800\" : \"bg-gray-100 text-gray-800\"}>\n                                {config.is_active ? \"Aktif\" : \"Nonaktif\"}\n                              </Badge>\n                              {user?.role === 'admin' && (\n                                <>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => handleEditAdminWilayahConfig(config)}\n                                    className=\"text-green-600 border-green-200 hover:bg-green-50\"\n                                  >\n                                    <Edit className=\"h-4 w-4\" />\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => handleDeleteAdminWilayahConfig(config)}\n                                    className=\"text-red-600 border-red-200 hover:bg-red-50\"\n                                  >\n                                    <Trash2 className=\"h-4 w-4\" />\n                                  </Button>\n                                </>\n                              )}\n                            </div>\n                          </div>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {config.files.map((file: any) => (\n                              <Badge key={file.id} variant=\"outline\" className=\"text-xs\">\n                                {file.name}\n                              </Badge>\n                            ))}\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n        )}\n\n        <TabsContent value=\"employees\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Kelola Pegawai</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <EmployeesTable token={token} />\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"system\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Pengaturan Sistem</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <Button \n                  onClick={handleExportData} \n                  variant=\"outline\" \n                  className=\"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800\"\n                >\n                  <Download className=\"h-4 w-4\" />\n                  Export Data\n                </Button>\n                <Button \n                  onClick={handleImportData} \n                  variant=\"outline\" \n                  className=\"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800\"\n                >\n                  <Upload className=\"h-4 w-4\" />\n                  Import Data\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Office Settings Modal */}\n      <AlertDialog open={showOfficeModal} onOpenChange={setShowOfficeModal}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{officeModalSuccess ? 'Berhasil' : 'Gagal'}</AlertDialogTitle>\n            <AlertDialogDescription>{officeModalMessage}</AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogAction \n              onClick={() => setShowOfficeModal(false)}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              Tutup\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Kanwil Settings Modal */}\n      <AlertDialog open={showKanwilModal} onOpenChange={setShowKanwilModal}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{kanwilModalSuccess ? 'Berhasil' : 'Gagal'}</AlertDialogTitle>\n            <AlertDialogDescription>{kanwilModalMessage}</AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogAction \n              onClick={() => setShowKanwilModal(false)}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              Tutup\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Job Configuration Dialog */}\n      <Dialog open={showJobConfigDialog} onOpenChange={setShowJobConfigDialog}>\n        <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {editingJobConfig ? 'Edit Konfigurasi Jabatan' : 'Tambah Konfigurasi Jabatan Baru'}\n            </DialogTitle>\n            <DialogDescription>\n              {editingJobConfig ? 'Edit konfigurasi jabatan yang sudah ada' : 'Buat konfigurasi jabatan baru dengan dokumen yang diperlukan'}\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-6\">\n            {/* Basic Info */}\n            <div className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"jenis_jabatan\">Jenis Jabatan</Label>\n                <Input\n                  id=\"jenis_jabatan\"\n                  value={jobConfigForm.jenis_jabatan}\n                  onChange={(e) => setJobConfigForm({\n                    ...jobConfigForm,\n                    jenis_jabatan: e.target.value\n                  })}\n                  placeholder=\"Contoh: Kepala Seksi, Kepala Subbagian, dll\"\n                />\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <Switch\n                  id=\"is_active\"\n                  checked={jobConfigForm.is_active}\n                  onCheckedChange={(checked) => setJobConfigForm({\n                    ...jobConfigForm,\n                    is_active: checked\n                  })}\n                  className=\"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-200\"\n                />\n                <Label htmlFor=\"is_active\">Aktif</Label>\n              </div>\n            </div>\n\n            {/* File Types Selection */}\n            <div>\n              <div className=\"flex justify-between items-center mb-4\">\n                <Label>Dokumen yang Diperlukan</Label>\n                <div className=\"flex gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleSelectAll}\n                    className=\"border-green-600 text-green-600 hover:bg-green-50\"\n                  >\n                    Pilih Semua ({availableFileTypes.length})\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleDeselectAll}\n                    className=\"border-gray-600 text-gray-600 hover:bg-gray-50\"\n                  >\n                    Hapus Semua\n                  </Button>\n                </div>\n              </div>\n              <div className=\"mt-2 space-y-4\">\n                {Object.entries(\n                  availableFileTypes.reduce((acc, fileType) => {\n                    if (!acc[fileType.category]) {\n                      acc[fileType.category] = [];\n                    }\n                    acc[fileType.category].push(fileType);\n                    return acc;\n                  }, {} as Record<string, typeof availableFileTypes>)\n                ).map(([category, fileTypes]) => (\n                  <div key={category} className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-medium text-gray-900 mb-3\">{category}</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      {fileTypes.map((fileType) => (\n                        <div key={fileType.id} className=\"flex items-center space-x-2\">\n                          <Checkbox\n                            id={fileType.id}\n                            checked={jobConfigForm.required_files.includes(fileType.id)}\n                            onCheckedChange={() => handleFileTypeToggle(fileType.id)}\n                          />\n                          <Label htmlFor={fileType.id} className=\"text-sm cursor-pointer\">\n                            {fileType.name}\n                          </Label>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"mt-3 text-sm text-gray-500\">\n                Total dokumen yang dipilih: {jobConfigForm.required_files.length} / {availableFileTypes.length}\n              </div>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowJobConfigDialog(false)}\n              className=\"border-gray-300 text-gray-700 hover:bg-gray-50\"\n            >\n              Batal\n            </Button>\n            <Button\n              onClick={handleSaveJobConfig}\n              disabled={jobConfigSaving}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              {jobConfigSaving ? 'Menyimpan...' : (editingJobConfig ? 'Update' : 'Simpan')}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Admin Wilayah Configuration Dialog */}\n      <Dialog open={showAdminWilayahConfigDialog} onOpenChange={setShowAdminWilayahConfigDialog}>\n        <DialogContent className=\"max-w-6xl max-h-[80vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {editingAdminWilayahConfig ? 'Edit Konfigurasi Berkas Admin Wilayah' : 'Tambah Konfigurasi Berkas Admin Wilayah Baru'}\n            </DialogTitle>\n            <DialogDescription>\n              {editingAdminWilayahConfig \n                ? 'Edit konfigurasi berkas wajib untuk admin wilayah'\n                : 'Buat konfigurasi berkas wajib baru untuk admin wilayah'\n              }\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-6\">\n            {/* Active Status - dipindah ke atas */}\n            <div className=\"flex items-center space-x-2\">\n              <Switch\n                id=\"admin-wilayah-is-active\"\n                checked={adminWilayahConfigForm.is_active}\n                onCheckedChange={(checked) => setAdminWilayahConfigForm({\n                  ...adminWilayahConfigForm,\n                  is_active: checked\n                })}\n                className=\"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-200\"\n              />\n              <Label htmlFor=\"admin-wilayah-is-active\">Aktif</Label>\n            </div>\n\n            {/* Nama Konfigurasi */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"admin-wilayah-config-name\">Nama Konfigurasi *</Label>\n              <Input\n                id=\"admin-wilayah-config-name\"\n                value={adminWilayahConfigForm.name}\n                onChange={(e) => setAdminWilayahConfigForm({\n                  ...adminWilayahConfigForm,\n                  name: e.target.value\n                })}\n                placeholder=\"Contoh: Penghulu, Kepala Kantor, Kepala Seksi\"\n              />\n            </div>\n\n            {/* File Selection dengan 2 kolom */}\n            <div>\n              <Label>Pilih Berkas Wajib Admin Wilayah</Label>\n              <div className=\"mt-2 space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {adminWilayahAvailableFileTypes.map((file) => (\n                    <div\n                      key={file.id}\n                      className={`p-3 border rounded-lg transition-all duration-200 ${\n                        adminWilayahConfigForm.selectedFiles[file.id]\n                          ? 'border-green-200 bg-green-50'\n                          : 'border-gray-200 hover:border-green-300'\n                      }`}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <Checkbox\n                          checked={adminWilayahConfigForm.selectedFiles[file.id] || false}\n                          onCheckedChange={() => handleAdminWilayahFileToggle(file.id)}\n                          className=\"mt-1\"\n                        />\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3 mb-1\">\n                            <h4 className=\"font-medium text-gray-900 text-sm\">{file.name}</h4>\n                            {file.is_required && (\n                              <Badge className=\"bg-red-100 text-red-800 border-red-200 text-xs\">Wajib</Badge>\n                            )}\n                          </div>\n                          <p className=\"text-xs text-gray-600\">{file.description}</p>\n                          \n                          {/* Varian selector untuk file 6 */}\n                          {file.id === 'surat_rekomendasi_kanwil' && adminWilayahConfigForm.selectedFiles[file.id] && (\n                            <div className=\"mt-3\">\n                              <Label className=\"text-xs font-medium text-gray-700 mb-2 block\">\n                                Pilih Varian File 6:\n                              </Label>\n                              <Select \n                                value={adminWilayahConfigForm.selectedVariant} \n                                onValueChange={handleAdminWilayahVariantChange}\n                              >\n                                <SelectTrigger className=\"w-full focus:ring-green-500 focus:border-green-500\">\n                                  <SelectValue placeholder=\"Pilih varian 6.x...\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                  {variantOptions.map((option) => (\n                                    <SelectItem key={option.value} value={option.value}>\n                                      {option.label}\n                                    </SelectItem>\n                                  ))}\n                                </SelectContent>\n                              </Select>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Summary */}\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <h4 className=\"font-medium text-gray-900 mb-2\">Ringkasan Konfigurasi</h4>\n              <div className=\"space-y-2 text-sm text-gray-600\">\n                <p>Total berkas yang dipilih: {Object.values(adminWilayahConfigForm.selectedFiles).filter(Boolean).length}</p>\n                <p>Berkas wajib: {adminWilayahAvailableFileTypes.filter(f => f.is_required && adminWilayahConfigForm.selectedFiles[f.id]).length}</p>\n                {adminWilayahConfigForm.selectedFiles['surat_rekomendasi_kanwil'] && (\n                  <p>Varian berkas 6: {adminWilayahConfigForm.selectedVariant}</p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"jenis-jabatan\">Jenis Jabatan</Label>\n                <Select \n                  value={adminWilayahConfigForm.jenis_jabatan_id} \n                  onValueChange={(value) => setAdminWilayahConfigForm(prev => ({ ...prev, jenis_jabatan_id: value }))}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Pilih jenis jabatan\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {availableJobTypes.map((jobType) => (\n                      <SelectItem key={jobType.id} value={jobType.id.toString()}>\n                        {jobType.jenis_jabatan}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Nama Konfigurasi dan Deskripsi disembunyikan untuk menyederhanakan input */}\n              {/*\n              <div>\n                <Label htmlFor=\"config-name\">Nama Konfigurasi</Label>\n                <Input\n                  id=\"config-name\"\n                  value={adminWilayahConfigForm.name}\n                  onChange={(e) => setAdminWilayahConfigForm(prev => ({ ...prev, name: e.target.value }))}\n                  placeholder=\"Contoh: Konfigurasi Guru\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"config-description\">Deskripsi</Label>\n                <Textarea\n                  id=\"config-description\"\n                  value={adminWilayahConfigForm.description}\n                  onChange={(e) => setAdminWilayahConfigForm(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"Deskripsi konfigurasi file wajib\"\n                  rows={3}\n                />\n              </div>\n              */}\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowAdminWilayahConfigDialog(false)}\n              className=\"border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-900\"\n            >\n              Batal\n            </Button>\n            <Button\n              onClick={handleSaveAdminWilayahConfig}\n              disabled={adminWilayahConfigSaving}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              {adminWilayahConfigSaving ? 'Menyimpan...' : (editingAdminWilayahConfig ? 'Update' : 'Simpan')}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Modal Konfirmasi Delete */}\n      <Dialog \n        open={showDeleteConfirmDialog} \n        onOpenChange={(open) => {\n          // Mencegah modal tertutup saat sedang menghapus\n          if (!open && isDeleting) return;\n          setShowDeleteConfirmDialog(open);\n        }}\n      >\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"text-red-600\">Konfirmasi Penghapusan</DialogTitle>\n            <DialogDescription>\n              Apakah Anda yakin ingin menghapus konfigurasi berkas admin wilayah ini?\n            </DialogDescription>\n          </DialogHeader>\n          \n          {configToDelete && (\n            <div className=\"space-y-4\">\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                <h4 className=\"font-medium text-red-800 mb-2\">{configToDelete.name}</h4>\n                <p className=\"text-sm text-red-700 mb-2\">{configToDelete.description}</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {configToDelete.files.map((file: any) => (\n                    <Badge key={file.id} variant=\"outline\" className=\"text-xs border-red-200 text-red-700\">\n                      {file.name}\n                    </Badge>\n                  ))}\n                </div>\n                <p className=\"text-xs text-red-600 mt-2\">\n                  Total {configToDelete.files.length} berkas akan dihapus\n                </p>\n              </div>\n              \n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                <div className=\"flex items-start space-x-2\">\n                  <AlertTriangle className=\"h-4 w-4 text-yellow-600 mt-0.5\" />\n                  <div className=\"text-sm text-yellow-800\">\n                    <p className=\"font-medium\">Peringatan!</p>\n                    <p>Tindakan ini tidak dapat dibatalkan. Semua konfigurasi berkas untuk jenis jabatan ini akan dihapus secara permanen.</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <DialogFooter className=\"flex-col sm:flex-row gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={cancelDeleteAdminWilayahConfig}\n              disabled={isDeleting}\n              className=\"w-full sm:w-auto border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-900\"\n            >\n              Batal\n            </Button>\n            <Button\n              onClick={confirmDeleteAdminWilayahConfig}\n              disabled={isDeleting}\n              variant=\"destructive\"\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\n            >\n              {isDeleting ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Menghapus...\n                </>\n              ) : (\n                <>\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\n                  Hapus Permanen\n                </>\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"names":["Tabs","TabsPrimitive.Root","TabsList","React.forwardRef","className","props","ref","jsx","TabsPrimitive.List","cn","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","CopyableText","text","label","copied","setCopied","useState","copiedOpen","setCopiedOpen","handleCopy","e","_a","_b","textarea","jsxs","Fragment","Check","Clipboard","Dialog","DialogContent","EmployeesTable","token","employees","setEmployees","loading","setLoading","error","setError","search","setSearch","debouncedSearch","setDebouncedSearch","currentPage","setCurrentPage","pageSize","useAuth","toast","useToast","editModalOpen","setEditModalOpen","editData","setEditData","saving","setSaving","useEffect","handler","apiGet","res","err","filteredEmployees","emp","_c","totalPages","paginatedEmployees","pageNumbers","_","idx","start","end","handlePageChange","page","Skeleton","Input","Button","Plus","employee","Edit","DialogHeader","DialogTitle","DialogDescription","formData","data","isEdit","nipForPath","apiPut","nipCreate","apiPost","Label","DialogFooter","DialogClose","Settings","user","officeSettings","setOfficeSettings","kanwilSettings","setKanwilSettings","loadingOffice","setLoadingOffice","errorOffice","setErrorOffice","officeId","setOfficeId","fieldError","setFieldError","inputRefs","React","showOfficeModal","setShowOfficeModal","officeModalSuccess","setOfficeModalSuccess","officeModalMessage","setOfficeModalMessage","showKanwilModal","setShowKanwilModal","kanwilModalSuccess","setKanwilModalSuccess","kanwilModalMessage","setKanwilModalMessage","jobConfigs","setJobConfigs","jobConfigLoading","setJobConfigLoading","showJobConfigDialog","setShowJobConfigDialog","editingJobConfig","setEditingJobConfig","jobConfigSaving","setJobConfigSaving","jobConfigForm","setJobConfigForm","availableFileTypes","fetchAdminWilayahConfigs","fetchAvailableJobTypes","fetchJobConfigs","office","o","savedKanwilSettings","parsed","prev","response","handleSaveOfficeSettings","handleExportData","handleImportData","adminWilayahConfigs","setAdminWilayahConfigs","adminWilayahConfigLoading","setAdminWilayahConfigLoading","showAdminWilayahConfigDialog","setShowAdminWilayahConfigDialog","editingAdminWilayahConfig","setEditingAdminWilayahConfig","adminWilayahConfigSaving","setAdminWilayahConfigSaving","showDeleteConfirmDialog","setShowDeleteConfirmDialog","configToDelete","setConfigToDelete","isDeleting","setIsDeleting","adminWilayahConfigForm","setAdminWilayahConfigForm","adminWilayahAvailableFileTypes","availableJobTypes","setAvailableJobTypes","variantOptions","handleAddJobConfig","handleEditJobConfig","config","handleSaveJobConfig","payload","handleDeleteJobConfig","configId","apiDelete","handleFileTypeToggle","fileTypeId","newRequiredFiles","id","handleSelectAll","allFileTypeIds","fileType","handleDeselectAll","handleAddAdminWilayahConfig","handleEditAdminWilayahConfig","selectedFilesMap","file","key","handleDeleteAdminWilayahConfig","confirmDeleteAdminWilayahConfig","deletePromises","cancelDeleteAdminWilayahConfig","handleEscape","event","handleAdminWilayahFileToggle","fileId","handleAdminWilayahVariantChange","value","handleSaveAdminWilayahConfig","selectedJob","j","autoName","autoDesc","selectedFileList","existingConfigs","c","transformedConfigs","groupedConfigs","acc","existingConfig","isAdmin","Building","FileText","FolderOpen","Users","SettingsIcon","Card","CardHeader","CardTitle","CardContent","Textarea","Save","Badge","Trash2","ft","Download","Upload","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogAction","Switch","checked","category","fileTypes","Checkbox","Select","SelectTrigger","SelectValue","SelectContent","option","SelectItem","f","jobType","open","AlertTriangle"],"mappings":"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"}