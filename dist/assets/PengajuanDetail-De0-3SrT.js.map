{"version":3,"file":"PengajuanDetail-De0-3SrT.js","sources":["../../src/pages/PengajuanDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '@/components/ui/alert-dialog';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { \n  ArrowLeft, \n  Eye, \n  Download, \n  CheckCircle, \n  XCircle, \n  Clock, \n  FileText, \n  User, \n  Calendar,\n  AlertCircle,\n  Loader2,\n  Edit,\n  Send,\n  RefreshCw,\n  Trash2,\n  Printer,\n  CheckSquare,\n  XSquare,\n  Check,\n  X\n} from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { apiGet, apiPut, apiDelete } from '@/lib/api';\n\ninterface PengajuanFile {\n  id: string;\n  file_type: string;\n  file_name: string;\n  file_size: number;\n  upload_status: string;\n  verification_status: 'pending' | 'approved' | 'rejected';\n  verification_notes?: string;\n  verified_by?: string;\n  verified_at?: string;\n  blobUrl?: string;\n}\n\ninterface PengajuanData {\n  id: string;\n  user_id?: string;\n  created_by?: string;\n  pegawai: {\n    nama: string;\n    jabatan: string;\n    nip: string;\n  };\n  jenis_jabatan: string;\n  jabatan_id?: number;\n  total_dokumen: number;\n  status: 'draft' | 'submitted' | 'approved' | 'rejected';\n  catatan?: string;\n  rejection_reason?: string;\n  rejected_by?: string;\n  rejected_at?: string;\n  approved_by?: string;\n  approved_at?: string;\n  resubmitted_by?: string;\n  resubmitted_at?: string;\n  created_at: string;\n  updated_at: string;\n  files: PengajuanFile[];\n}\n\nconst PengajuanDetail: React.FC = () => {\n  const { pengajuanId } = useParams();\n  const navigate = useNavigate();\n  const { user, token, isAuthenticated } = useAuth();\n  const [pengajuan, setPengajuan] = useState<PengajuanData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [previewFile, setPreviewFile] = useState<PengajuanFile | null>(null);\n  const [showPreview, setShowPreview] = useState(false);\n  const [showApproveDialog, setShowApproveDialog] = useState(false);\n  const [showRejectDialog, setShowRejectDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [showPrintDialog, setShowPrintDialog] = useState(false);\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [approvalNote, setApprovalNote] = useState('');\n  const [rejectionReason, setRejectionReason] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [verifyingFile, setVerifyingFile] = useState<string | null>(null);\n  const [isScrolled, setIsScrolled] = useState(false);\n  \n\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/');\n      return;\n    }\n    if (pengajuanId) {\n      fetchPengajuanData();\n    }\n  }, [isAuthenticated, navigate, pengajuanId]);\n\n  // Deteksi scroll untuk floating sidebar\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      setIsScrolled(scrollTop > 50); // Mulai floating setelah scroll 50px\n    };\n\n    // Trigger initial check\n    handleScroll();\n    \n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const fetchPengajuanData = async () => {\n    try {\n      setLoading(true);\n      const response = await apiGet(`/api/pengajuan/${pengajuanId}`, token);\n      if (response.success) {\n        setPengajuan(response.data.pengajuan);\n      } else {\n        setError(response.message || 'Gagal mengambil data pengajuan');\n      }\n    } catch (error) {\n      console.error('Error fetching pengajuan data:', error);\n      setError('Terjadi kesalahan saat mengambil data pengajuan');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async () => {\n    try {\n      setSubmitting(true);\n      const response = await apiPut(`/api/pengajuan/${pengajuanId}/approve`, {\n        catatan: approvalNote\n      }, token);\n      \n      if (response.success) {\n        setSuccessMessage('Pengajuan berhasil disetujui!');\n        setShowSuccessDialog(true);\n        setShowApproveDialog(false);\n        setApprovalNote('');\n        await fetchPengajuanData();\n      } else {\n        setError(response.message || 'Gagal approve pengajuan');\n      }\n    } catch (error) {\n      console.error('Error approving pengajuan:', error);\n      setError('Terjadi kesalahan saat approve pengajuan');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleReject = async () => {\n    try {\n      setSubmitting(true);\n      const response = await apiPut(`/api/pengajuan/${pengajuanId}/reject`, {\n        rejection_reason: rejectionReason\n      }, token);\n      \n      if (response.success) {\n        setSuccessMessage('Pengajuan berhasil ditolak!');\n        setShowSuccessDialog(true);\n        setShowRejectDialog(false);\n        setRejectionReason('');\n        await fetchPengajuanData();\n      } else {\n        setError(response.message || 'Gagal reject pengajuan');\n      }\n    } catch (error) {\n      console.error('Error rejecting pengajuan:', error);\n      setError('Terjadi kesalahan saat reject pengajuan');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleResubmit = async () => {\n    try {\n      setSubmitting(true);\n      const response = await apiPut(`/api/pengajuan/${pengajuanId}/resubmit`, {}, token);\n      \n      if (response.success) {\n        setSuccessMessage('Pengajuan berhasil diajukan ulang!');\n        setShowSuccessDialog(true);\n        await fetchPengajuanData();\n      } else {\n        setError(response.message || 'Gagal resubmit pengajuan');\n      }\n    } catch (error) {\n      console.error('Error resubmitting pengajuan:', error);\n      setError('Terjadi kesalahan saat resubmit pengajuan');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      setSubmitting(true);\n      const response = await apiDelete(`/api/pengajuan/${pengajuanId}`, token);\n      \n      if (response.success) {\n        setSuccessMessage('Pengajuan berhasil dihapus!');\n        setShowSuccessDialog(true);\n        setShowDeleteDialog(false);\n        // Redirect setelah 2 detik agar user bisa lihat pesan sukses\n        setTimeout(() => {\n          navigate('/pengajuan');\n        }, 2000);\n      } else {\n        setError(response.message || 'Gagal menghapus pengajuan');\n        setShowDeleteDialog(false);\n      }\n    } catch (error) {\n      console.error('Error deleting pengajuan:', error);\n      setError('Terjadi kesalahan saat menghapus pengajuan');\n      setShowDeleteDialog(false);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig = {\n      draft: { label: 'Draft', className: 'bg-gray-100 text-gray-800', icon: Clock },\n      submitted: { label: 'Diajukan', className: 'bg-blue-100 text-blue-800', icon: FileText },\n      approved: { label: 'Disetujui', className: 'bg-green-100 text-green-800', icon: CheckCircle },\n      rejected: { label: 'Ditolak', className: 'bg-red-100 text-red-800', icon: XCircle },\n\n    };\n\n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.draft;\n    const Icon = config.icon;\n\n    return (\n      <Badge className={config.className}>\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {config.label}\n      </Badge>\n    );\n  };\n\n  const getJabatanDisplayName = (jenisJabatan: string): string => {\n    const jabatanMap: Record<string, string> = {\n      'guru': 'Guru',\n      'eselon_iv': 'Eselon IV',\n      'fungsional': 'Fungsional',\n      'pelaksana': 'Pelaksana'\n    };\n    \n    return jabatanMap[jenisJabatan] || jenisJabatan;\n  };\n\n  const getFileDisplayName = (fileType: string): string => {\n    const fileTypeMap: Record<string, string> = {\n      'surat_pengantar': 'Surat Pengantar',\n      'surat_permohonan_dari_yang_bersangkutan': 'Surat Permohonan Dari Yang Bersangkutan',\n      'surat_keputusan_cpns': 'Surat Keputusan CPNS',\n      'surat_keputusan_pns': 'Surat Keputusan PNS',\n      'surat_keputusan_kenaikan_pangkat_terakhir': 'Surat Keputusan Kenaikan Pangkat Terakhir',\n      'surat_keputusan_jabatan_terakhir': 'Surat Keputusan Jabatan Terakhir',\n      'skp_2_tahun_terakhir': 'SKP 2 Tahun Terakhir',\n      'surat_keterangan_bebas_temuan_inspektorat': 'Surat Keterangan Bebas Temuan Yang Diterbitkan Inspektorat Jenderal Kementerian Agama',\n      'surat_keterangan_anjab_abk_instansi_asal': 'Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi asal',\n      'surat_keterangan_anjab_abk_instansi_penerima': 'Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi penerima',\n      'surat_pernyataan_tidak_hukuman_disiplin': 'Surat Pernyataan Tidak Pernah Dijatuhi Hukuman Disiplin Tingkat Sedang atau Berat Dalam 1 (satu) Tahun Terakhir Dari PPK',\n      'surat_persetujuan_mutasi_asal': 'Surat Persetujuan Mutasi dari ASAL dengan menyebutkan jabatan yang akan diduduki',\n      'surat_lolos_butuh_ppk': 'Surat Lolos Butuh dari Pejabat Pembina Kepegawaian instansi yang dituju',\n      'peta_jabatan': 'Peta Jabatan',\n      'hasil_assessment': 'Hasil Assessment',\n      'anjab_abk_instansi_asal': 'Anjab/Abk Instansi Asal',\n      'anjab_abk_instansi_penerima': 'Anjab/Abk Instansi Penerima',\n      'surat_keterangan_tidak_tugas_belajar': 'Surat Keterangan Tidak Sedang Tugas Belajar',\n      'sptjm_pimpinan_satker_asal': 'SPTJM Pimpinan Satker dari Asal',\n      'sptjm_pimpinan_satker_penerima': 'SPTJM Pimpinan Satker dari Penerima',\n      'surat_rekomendasi_instansi_pembina': 'Surat Rekomendasi Instansi Pembina'\n    };\n    \n    return fileTypeMap[fileType] || fileType.replace(/_/g, ' ').toUpperCase();\n  };\n\n  // Fungsi untuk verifikasi file\n  const handleVerifyFile = async (fileId: string, verificationStatus: 'approved' | 'rejected', notes?: string) => {\n    try {\n      console.log('🔍 Debug handleVerifyFile:', { fileId, verificationStatus, notes, token });\n      setVerifyingFile(fileId);\n      \n      const requestData = {\n        verification_status: verificationStatus,\n        verification_notes: notes\n      };\n      console.log('📤 Request data:', requestData);\n      \n      const response = await apiPut(`/api/pengajuan/files/${fileId}/verify`, requestData, token);\n      console.log('📥 Response:', response);\n      \n      if (response.success) {\n        // Update local state immediately for smooth UX\n        setPengajuan(prev => {\n          if (!prev) return prev;\n          return {\n            ...prev,\n            files: prev.files.map(file => \n              file.id === fileId \n                ? { \n                    ...file, \n                    verification_status: verificationStatus,\n                    verified_by: user?.email || user?.id,\n                    verified_at: new Date().toISOString()\n                  }\n                : file\n            )\n          };\n        });\n      } else {\n        setError(response.message || 'Gagal verifikasi file');\n      }\n    } catch (error) {\n      console.error('❌ Error verifying file:', error);\n      setError('Terjadi kesalahan saat verifikasi file');\n    } finally {\n      setVerifyingFile(null);\n    }\n  };\n\n  // Fungsi untuk cetak laporan\n  const handlePrintReport = async () => {\n    try {\n      setSubmitting(true);\n      const response = await apiGet(`/api/pengajuan/${pengajuanId}/print-report`, token);\n      \n      if (response.success) {\n        // Generate dan cetak laporan\n        generatePrintReport(response.data);\n      } else {\n        setError(response.message || 'Gagal generate laporan');\n      }\n    } catch (error) {\n      console.error('Error generating print report:', error);\n      setError('Terjadi kesalahan saat generate laporan');\n    } finally {\n      setSubmitting(false);\n      setShowPrintDialog(false);\n    }\n  };\n\n  // Generate HTML untuk cetak\n  const generatePrintReport = (data: any) => {\n    const printWindow = window.open('', '_blank');\n    if (!printWindow) return;\n\n    const html = `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Laporan Pengajuan - ${data.pegawai.nama}</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { text-align: center; margin-bottom: 30px; }\n          .info { margin-bottom: 20px; }\n          .info table { width: 100%; border-collapse: collapse; }\n          .info td { padding: 5px; }\n          .info td:first-child { font-weight: bold; width: 150px; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; font-family: Arial, sans-serif; font-size: 10pt; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n          th { background-color: #f2f2f2; font-weight: bold; }\n          .checkbox { width: 20px; height: 20px; }\n          @media print { body { margin: 0; } }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <h2>LAPORAN PENGAJUAN JABATAN</h2>\n        </div>\n        \n        <div class=\"info\">\n          <table>\n            <tr><td>Nama</td><td>: ${data.pegawai.nama}</td></tr>\n            <tr><td>NIP</td><td>: ${data.pegawai.nip}</td></tr>\n            <tr><td>Jabatan</td><td>: ${data.pegawai.jabatan}</td></tr>\n            <tr><td>Status</td><td>: ${data.pengajuan.status}</td></tr>\n            <tr><td>Tanggal Approval</td><td>: ${new Date(data.pengajuan.approved_at).toLocaleDateString('id-ID')}</td></tr>\n          </table>\n        </div>\n\n        <table>\n          <thead>\n            <tr>\n              <th>No</th>\n              <th>Nama Berkas</th>\n              <th>Ada Berkas</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${data.files.map((file: any, index: number) => `\n              <tr>\n                <td>${index + 1}</td>\n                <td>${getFileDisplayName(file.file_type)}</td>\n                <td>\n                  <input type=\"checkbox\" class=\"checkbox\" ${file.verification_status === 'approved' ? 'checked' : ''} disabled>\n                </td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n        \n        <!-- Verification Footer -->\n        <div style=\"margin-top: 40px; padding: 15px; border-top: 2px solid #ddd; text-align: center; font-size: 10pt; color: #666;\">\n          <div style=\"margin-bottom: 8px; font-weight: bold;\">\n            ✓ Dokumen ini telah diverifikasi dan disetujui oleh Admin Kanwil\n          </div>\n          <div style=\"font-size: 9pt;\">\n            Tanggal Approval: ${data.approved_at ? new Date(data.approved_at).toLocaleDateString('id-ID') : new Date().toLocaleDateString('id-ID')}\n          </div>\n          <div style=\"font-size: 8pt; margin-top: 5px;\">\n            Sistem Informasi Generator Surat - Kementerian Agama\n          </div>\n        </div>\n      </body>\n      </html>\n    `;\n\n    printWindow.document.write(html);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('id-ID', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getFileSize = (bytes: number) => {\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const handlePreviewFile = async (file: PengajuanFile) => {\n    try {\n      // Fetch file dengan token authorization\n      const response = await fetch(`/api/pengajuan/files/${file.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error('Gagal mengambil file');\n      }\n      \n      // Convert ke blob\n      const blob = await response.blob();\n      const blobUrl = URL.createObjectURL(blob);\n      \n      // Set preview file dengan blob URL\n      setPreviewFile({\n        ...file,\n        blobUrl: blobUrl\n      });\n      setShowPreview(true);\n    } catch (error) {\n      console.error('Error previewing file:', error);\n      setError('Gagal preview file. Silakan coba lagi.');\n    }\n  };\n\n  const handleDownloadFile = (file: PengajuanFile) => {\n    window.open(`/api/pengajuan/files/${file.id}`, '_blank');\n  };\n\n  const isAdmin = user?.role === 'admin';\n  const canEdit = (pengajuan?.status === 'draft' || pengajuan?.status === 'rejected') && \n                  (isAdmin || pengajuan?.created_by === user?.id) && \n                  user?.role !== 'user'; // User dengan role 'user' tidak bisa edit\n  const canDelete = pengajuan?.status === 'draft' && user?.role !== 'user'; // User dengan role 'user' tidak bisa hapus\n  const canApprove = isAdmin && pengajuan?.status === 'submitted';\n  const canReject = isAdmin && pengajuan?.status === 'submitted';\n  // Tampilkan tombol Ajukan Ulang saat status ditolak, namun aktifkan hanya jika semua dokumen yang sebelumnya ditolak sudah diperbaiki (tidak ada yang statusnya 'rejected')\n  const canShowResubmit = pengajuan?.status === 'rejected' && user?.role !== 'user'; // User dengan role 'user' tidak bisa resubmit\n  \n\n  \n  // Check if all files are approved\n  // Untuk status 'submitted' setelah rejection, anggap file yang baru diupload sudah sesuai (karena user sudah memperbaiki)\n  const allFilesApproved = pengajuan?.files.every(file => \n    pengajuan.status === 'submitted' \n      ? (file.verification_status === 'approved' || file.verification_status === 'pending')\n      : file.verification_status === 'approved'\n  ) ?? false;\n  \n  const hasRejectedFiles = pengajuan?.files.some(file => file.verification_status === 'rejected') ?? false;\n  const resubmitEnabled = !hasRejectedFiles; // aktif jika tidak ada file yang masih ditolak\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <Card>\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"h-8 w-8 animate-spin mr-2\" />\n            <span>Memuat detail pengajuan...</span>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!pengajuan) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <Card>\n          <CardContent className=\"flex items-center justify-center py-12\">\n            <AlertCircle className=\"h-8 w-8 text-red-500 mr-2\" />\n            <span className=\"text-red-600\">Pengajuan tidak ditemukan</span>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <style dangerouslySetInnerHTML={{\n        __html: `\n          .sidebar-scroll::-webkit-scrollbar {\n            width: 8px;\n          }\n          .sidebar-scroll::-webkit-scrollbar-track {\n            background: #e2e8f0;\n            border-radius: 4px;\n          }\n          .sidebar-scroll::-webkit-scrollbar-thumb {\n            background: #94a3b8;\n            border-radius: 4px;\n          }\n          .sidebar-scroll::-webkit-scrollbar-thumb:hover {\n            background: #64748b;\n          }\n        `\n      }} />\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n                 <div className=\"flex items-center gap-4\">\n           <Button\n             variant=\"outline\"\n             onClick={() => navigate('/pengajuan')}\n             className=\"flex items-center gap-2\"\n           >\n             <ArrowLeft className=\"h-4 w-4\" />\n             Kembali ke Data Pengajuan\n           </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Detail Pengajuan</h1>\n            <p className=\"text-gray-600\">ID: {pengajuan.id}</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          {getStatusBadge(pengajuan.status)}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-600\">{error}</p>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Informasi Pengajuan */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Informasi Pegawai */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <User className=\"h-5 w-5\" />\n                Informasi Pegawai\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                 <div className=\"space-y-2\">\n                   <label className=\"text-sm font-medium text-gray-700\">Nama</label>\n                   <p className=\"text-gray-900 text-base\">{pengajuan.pegawai.nama}</p>\n                 </div>\n                 <div className=\"space-y-2\">\n                   <label className=\"text-sm font-medium text-gray-700\">NIP</label>\n                   <p className=\"text-gray-900 text-base\">{pengajuan.pegawai.nip}</p>\n                 </div>\n                 <div className=\"space-y-2\">\n                   <label className=\"text-sm font-medium text-gray-700\">Jabatan Saat Ini</label>\n                   <p className=\"text-gray-900 text-base\">{pengajuan.pegawai.jabatan}</p>\n                 </div>\n                 <div className=\"space-y-2\">\n                   <label className=\"text-sm font-medium text-gray-700\">Jenis Jabatan Target</label>\n                   <Badge variant=\"outline\" className=\"text-sm\">\n                     {getJabatanDisplayName(pengajuan.jenis_jabatan)}\n                   </Badge>\n                 </div>\n               </div>\n            </CardContent>\n          </Card>\n\n          {/* Dokumen yang Diupload */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <FileText className=\"h-5 w-5\" />\n                                 Dokumen yang Diupload\n                 <Badge variant=\"outline\" className=\"ml-2\">\n                   {pengajuan.files.length} / {pengajuan.total_dokumen}\n                 </Badge>\n                 {isAdmin && pengajuan.status === 'submitted' && (\n                   <Badge \n                     variant={allFilesApproved ? 'default' : 'destructive'}\n                     className={`ml-2 ${allFilesApproved ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}\n                   >\n                     {allFilesApproved ? 'Semua Dokumen Sesuai' : 'Ada Dokumen Tidak Sesuai'}\n                   </Badge>\n                 )}\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {pengajuan.files.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-500\">Belum ada dokumen yang diupload</p>\n                                     {canEdit && (\n                     <Button\n                       onClick={() => navigate(pengajuan.status === 'draft' ? `/pengajuan/${pengajuan.id}/upload` : `/pengajuan/${pengajuan.id}/edit`)}\n                       className=\"mt-4 bg-green-600 hover:bg-green-700 text-white\"\n                     >\n                       <Edit className=\"h-4 w-4 mr-2\" />\n                       {pengajuan.status === 'draft' ? 'Upload Dokumen' : 'Perbaiki Dokumen'}\n                     </Button>\n                   )}\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {pengajuan.files.map((file) => (\n                                         <div key={file.id} className=\"p-6 border rounded-lg\">\n                       <div className=\"flex items-center justify-between\">\n                         <div className=\"flex-1 space-y-2\">\n                           <h4 className=\"font-medium text-base\">{getFileDisplayName(file.file_type)}</h4>\n                           <p className=\"text-sm text-gray-600\">{file.file_name}</p>\n                           <p className=\"text-xs text-gray-500\">{getFileSize(file.file_size)}</p>\n                          \n                                                     {/* Status Verifikasi - Selalu tampilkan status */}\n                           <div className=\"mt-3 space-y-2\">\n                             <Badge \n                               variant={file.verification_status === 'approved' ? 'default' : 'destructive'}\n                               className={`transition-all duration-500 ease-in-out transform ${\n                                 file.verification_status === 'approved' \n                                   ? 'bg-green-100 text-green-800' \n                                   : file.verification_status === 'rejected'\n                                   ? 'bg-red-100 text-red-800'\n                                   : 'bg-gray-100 text-gray-800'\n                               }`}\n                             >\n                               {file.verification_status === 'approved' \n                                 ? 'Sesuai' \n                                 : file.verification_status === 'rejected'\n                                 ? 'Tidak Sesuai'\n                                 : 'Belum Diverifikasi'\n                               }\n                               {file.verified_by && ` - ${file.verified_by}`}\n                             </Badge>\n                             {file.verification_notes && (\n                               <p className=\"text-xs text-gray-600\">{file.verification_notes}</p>\n                             )}\n                           </div>\n                        </div>\n                        \n                                                 <div className=\"flex items-center gap-3\">\n                           {/* Switch Toggle Verifikasi - Hanya untuk Admin */}\n                           {isAdmin && (pengajuan.status === 'submitted' || pengajuan.status === 'rejected') && (\n                             <div className=\"flex items-center gap-3 mr-3\">\n                              {verifyingFile === file.id ? (\n                                <Loader2 className=\"h-4 w-4 animate-spin text-gray-500\" />\n                              ) : (\n                                                                                                   <div className=\"flex items-center gap-3 transition-all duration-500 ease-in-out\">\n                                    <div className=\"relative transform transition-all duration-500 ease-in-out hover:scale-105 active:scale-95\">\n                                      <Switch\n                                        id={`verify-${file.id}`}\n                                        checked={file.verification_status === 'approved'}\n                                        onCheckedChange={(checked) => {\n                                          const status = checked ? 'approved' : 'rejected';\n                                          handleVerifyFile(file.id, status);\n                                        }}\n                                        disabled={verifyingFile === file.id}\n                                        className={`transition-all duration-500 ease-in-out transform ${\n                                          file.verification_status === 'approved' \n                                            ? 'data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600' \n                                            : 'data-[state=unchecked]:bg-red-600 data-[state=unchecked]:border-red-600'\n                                        }`}\n                                      />\n                                    </div>\n                                                                       <Label \n                                      htmlFor={`verify-${file.id}`} \n                                      className={`text-sm font-medium cursor-pointer transition-all duration-500 ease-in-out transform hover:scale-105 ${\n                                        file.verification_status === 'approved' \n                                          ? 'text-green-700' \n                                          : file.verification_status === 'rejected'\n                                          ? 'text-red-700'\n                                          : 'text-gray-700'\n                                      }`}\n                                    >\n                                      {file.verification_status === 'approved' \n                                        ? 'Sesuai' \n                                        : file.verification_status === 'rejected'\n                                        ? 'Tidak Sesuai'\n                                        : 'Belum Diverifikasi'\n                                      }\n                                    </Label>\n                                 </div>\n                              )}\n                            </div>\n                          )}\n                          \n                                                     <Button\n                             size=\"sm\"\n                             variant=\"outline\"\n                             onClick={() => handlePreviewFile(file)}\n                             className=\"px-3 py-2\"\n                           >\n                             <Eye className=\"h-4 w-4 mr-2\" />\n                             Preview\n                           </Button>\n                           <Button\n                             size=\"sm\"\n                             variant=\"outline\"\n                             onClick={() => handleDownloadFile(file)}\n                             className=\"px-3 py-2\"\n                           >\n                             <Download className=\"h-4 w-4 mr-2\" />\n                             Download\n                           </Button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n                          {/* Sidebar */}\n          <div \n            className={`space-y-6 transition-all duration-300 ${\n              isScrolled ? 'lg:sticky lg:top-6 lg:z-40 lg:self-start sidebar-scroll' : ''\n            }`}\n                         style={isScrolled ? { \n               position: 'sticky', \n               top: '80px', \n               zIndex: 40,\n               maxHeight: 'calc(100vh - 120px)',\n               overflowY: 'scroll',\n               paddingRight: '12px'\n             } : {}}\n          >\n          {/* Timeline Status */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Calendar className=\"h-5 w-5\" />\n                Timeline Status\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-3\">\n                                 <div className=\"flex items-start gap-4\">\n                   <div className=\"w-2 h-2 bg-green-500 rounded-full mt-2\"></div>\n                   <div className=\"flex-1 space-y-1\">\n                     <p className=\"font-medium\">Dibuat</p>\n                     <p className=\"text-sm text-gray-600\">{formatDate(pengajuan.created_at)}</p>\n                   </div>\n                 </div>\n                \n                                 {pengajuan.status !== 'draft' && (\n                   <div className=\"flex items-start gap-4\">\n                     <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2\"></div>\n                     <div className=\"flex-1 space-y-1\">\n                       <p className=\"font-medium\">Diajukan</p>\n                       <p className=\"text-sm text-gray-600\">{formatDate(pengajuan.updated_at)}</p>\n                     </div>\n                   </div>\n                 )}\n\n                 {pengajuan.status === 'approved' && pengajuan.approved_at && (\n                   <div className=\"flex items-start gap-4\">\n                     <div className=\"w-2 h-2 bg-green-500 rounded-full mt-2\"></div>\n                     <div className=\"flex-1 space-y-1\">\n                       <p className=\"font-medium\">Disetujui</p>\n                       <p className=\"text-sm text-gray-600\">{formatDate(pengajuan.approved_at)}</p>\n                       {pengajuan.approved_by && (\n                         <p className=\"text-xs text-gray-500\">oleh {pengajuan.approved_by}</p>\n                       )}\n                     </div>\n                   </div>\n                 )}\n\n                 {pengajuan.status === 'rejected' && pengajuan.rejected_at && (\n                   <div className=\"flex items-start gap-4\">\n                     <div className=\"w-2 h-2 bg-red-500 rounded-full mt-2\"></div>\n                     <div className=\"flex-1 space-y-1\">\n                       <p className=\"font-medium\">Ditolak</p>\n                       <p className=\"text-sm text-gray-600\">{formatDate(pengajuan.rejected_at)}</p>\n                       {pengajuan.rejected_by && (\n                         <p className=\"text-xs text-gray-500\">oleh {pengajuan.rejected_by}</p>\n                       )}\n                     </div>\n                   </div>\n                 )}\n\n                 \n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Catatan */}\n          {(pengajuan.catatan || pengajuan.rejection_reason) && (\n            <Card>\n              <CardHeader>\n                <CardTitle>Catatan</CardTitle>\n              </CardHeader>\n              <CardContent>\n                                 {pengajuan.catatan && (\n                   <div className=\"mb-6\">\n                                           <p className=\"text-sm font-medium text-gray-700 mb-3\">Catatan Persetujuan:</p>\n                     <p className=\"text-sm text-gray-900 bg-green-50 p-4 rounded-lg leading-relaxed\">{pengajuan.catatan}</p>\n                   </div>\n                 )}\n                 {pengajuan.rejection_reason && (\n                   <div>\n                                           <p className=\"text-sm font-medium text-gray-700 mb-3\">Alasan Penolakan:</p>\n                     <p className=\"text-sm text-gray-900 bg-red-50 p-4 rounded-lg leading-relaxed\">{pengajuan.rejection_reason}</p>\n                   </div>\n                 )}\n              </CardContent>\n            </Card>\n          )}\n\n                     {/* Aksi */}\n           <Card>\n             <CardHeader>\n               <CardTitle>Aksi</CardTitle>\n             </CardHeader>\n                           <CardContent className=\"space-y-3\">\n                {canApprove && allFilesApproved && (\n                  <Button\n                    onClick={() => setShowApproveDialog(true)}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                  >\n                    <CheckCircle className=\"h-4 w-4 mr-2\" />\n                    Setujui\n                  </Button>\n                )}\n                \n                {canReject && (hasRejectedFiles || !allFilesApproved) && (\n                  <Button\n                    onClick={() => setShowRejectDialog(true)}\n                    variant=\"destructive\"\n                    className=\"w-full\"\n                  >\n                    <XCircle className=\"h-4 w-4 mr-2\" />\n                    Tolak\n                  </Button>\n                )}\n                \n                {canShowResubmit && (\n                  <Button\n                    onClick={handleResubmit}\n                    disabled={submitting || !resubmitEnabled}\n                    className=\"w-full bg-yellow-600 hover:bg-yellow-700 text-white\"\n                  >\n                    {submitting ? (\n                      <>\n                        <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                        Memproses...\n                      </>\n                    ) : (\n                      <>\n                        <RefreshCw className=\"h-4 w-4 mr-2\" />\n                        Ajukan Ulang\n                      </>\n                    )}\n                  </Button>\n                )}\n                \n                                 {canEdit && (\n                   <Button\n                     onClick={() => navigate(pengajuan.status === 'draft' ? `/pengajuan/${pengajuan.id}/upload` : `/pengajuan/${pengajuan.id}/edit`)}\n                     className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                   >\n                     <Edit className=\"h-4 w-4 mr-2\" />\n                     {pengajuan.status === 'draft' ? 'Upload Dokumen' : 'Perbaiki Dokumen'}\n                   </Button>\n                 )}\n                 \n                 \n                \n                {canDelete && (\n                  <Button\n                    onClick={() => setShowDeleteDialog(true)}\n                    variant=\"destructive\"\n                    className=\"w-full\"\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Hapus Pengajuan\n                  </Button>\n                )}\n                \n                {pengajuan.status === 'approved' && (\n                  <Button\n                    onClick={() => setShowPrintDialog(true)}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white\"\n                  >\n                    <Printer className=\"h-4 w-4 mr-2\" />\n                    Cetak Laporan\n                  </Button>\n                )}\n              </CardContent>\n           </Card>\n        </div>\n      </div>\n\n      {/* Approve Dialog */}\n      <Dialog open={showApproveDialog} onOpenChange={setShowApproveDialog}>\n        <DialogContent>\n          <DialogHeader>\n                         <DialogTitle>Setujui Pengajuan</DialogTitle>\n          </DialogHeader>\n                       <div className=\"space-y-4\">\n               <div className=\"space-y-2\">\n                 <label className=\"text-sm font-medium text-gray-700\">Catatan (Opsional)</label>\n                                   <Textarea\n                    value={approvalNote}\n                    onChange={(e) => setApprovalNote(e.target.value)}\n                    placeholder=\"Masukkan catatan persetujuan...\"\n                    rows={3}\n                    className=\"min-h-[80px]\"\n                  />\n               </div>\n            <div className=\"flex gap-3\">\n              <Button\n                onClick={() => setShowApproveDialog(false)}\n                variant=\"outline\"\n                className=\"flex-1\"\n                disabled={submitting}\n              >\n                Batal\n              </Button>\n              <Button\n                onClick={handleApprove}\n                disabled={submitting}\n                className=\"flex-1 bg-green-600 hover:bg-green-700 text-white\"\n              >\n                                 {submitting ? (\n                   <>\n                     <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                     Memproses...\n                   </>\n                 ) : (\n                   'Setujui'\n                 )}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n             {/* Delete Dialog */}\n       <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n         <AlertDialogContent>\n           <AlertDialogHeader>\n             <AlertDialogTitle>Hapus Pengajuan</AlertDialogTitle>\n             <AlertDialogDescription>\n               Apakah Anda yakin ingin menghapus pengajuan ini? Tindakan ini tidak dapat dibatalkan dan semua file yang diupload akan dihapus secara permanen.\n             </AlertDialogDescription>\n           </AlertDialogHeader>\n           <AlertDialogFooter>\n             <AlertDialogCancel disabled={submitting}>Batal</AlertDialogCancel>\n             <AlertDialogAction\n               onClick={handleDelete}\n               disabled={submitting}\n               className=\"bg-red-600 hover:bg-red-700 text-white\"\n             >\n               {submitting ? (\n                 <>\n                   <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                   Menghapus...\n                 </>\n               ) : (\n                 'Hapus Pengajuan'\n               )}\n             </AlertDialogAction>\n           </AlertDialogFooter>\n         </AlertDialogContent>\n       </AlertDialog>\n\n       {/* Print Report Dialog */}\n       <AlertDialog open={showPrintDialog} onOpenChange={setShowPrintDialog}>\n         <AlertDialogContent>\n           <AlertDialogHeader>\n             <AlertDialogTitle>Cetak Laporan</AlertDialogTitle>\n             <AlertDialogDescription>\n               Apakah Anda yakin ingin mencetak laporan pengajuan ini? Laporan akan dibuka di tab baru untuk dicetak.\n             </AlertDialogDescription>\n           </AlertDialogHeader>\n           <AlertDialogFooter>\n             <AlertDialogCancel disabled={submitting}>Batal</AlertDialogCancel>\n             <AlertDialogAction\n               onClick={handlePrintReport}\n               disabled={submitting}\n               className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n             >\n                                {submitting ? (\n                   <>\n                     <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                     Menyiapkan...\n                   </>\n                 ) : (\n                   <>\n                     <Printer className=\"h-4 w-4 mr-2\" />\n                     Cetak Laporan\n                   </>\n                 )}\n             </AlertDialogAction>\n           </AlertDialogFooter>\n         </AlertDialogContent>\n       </AlertDialog>\n\n       {/* Reject Dialog */}\n       <Dialog open={showRejectDialog} onOpenChange={setShowRejectDialog}>\n        <DialogContent>\n          <DialogHeader>\n                         <DialogTitle>Tolak Pengajuan</DialogTitle>\n          </DialogHeader>\n                     <div className=\"space-y-4\">\n             <div className=\"space-y-2\">\n                               <label className=\"text-sm font-medium text-gray-700\">Alasan Penolakan *</label>\n                                 <Textarea\n                    value={rejectionReason}\n                    onChange={(e) => setRejectionReason(e.target.value)}\n                    placeholder=\"Masukkan alasan penolakan...\"\n                    rows={3}\n                    required\n                    className=\"min-h-[80px]\"\n                  />\n             </div>\n            <div className=\"flex gap-3\">\n              <Button\n                onClick={() => setShowRejectDialog(false)}\n                variant=\"outline\"\n                className=\"flex-1\"\n                disabled={submitting}\n              >\n                Batal\n              </Button>\n              <Button\n                onClick={handleReject}\n                disabled={submitting || !rejectionReason.trim()}\n                variant=\"destructive\"\n                className=\"flex-1\"\n              >\n                                 {submitting ? (\n                   <>\n                     <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                     Memproses...\n                   </>\n                 ) : (\n                   'Tolak'\n                 )}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n             {/* Preview Modal */}\n       <Dialog open={showPreview} onOpenChange={(open) => {\n         setShowPreview(open);\n         // Cleanup blob URL when modal closes\n         if (!open && previewFile?.blobUrl) {\n           URL.revokeObjectURL(previewFile.blobUrl);\n         }\n       }}>\n         <DialogContent className=\"max-w-4xl\">\n           <DialogHeader>\n             <DialogTitle>Preview File: {previewFile?.file_name}</DialogTitle>\n           </DialogHeader>\n           <div className=\"mt-4\">\n             {previewFile && (\n               <div className=\"border rounded-lg overflow-hidden bg-white\">\n                 <div className=\"bg-green-600 text-white px-4 py-2 flex items-center justify-between\">\n                   <span className=\"font-medium\">{previewFile.file_name}</span>\n                 </div>\n                 <iframe\n                   src={previewFile.blobUrl || `/api/pengajuan/files/${previewFile.id}`}\n                   className=\"w-full h-96 border-0\"\n                   title=\"File Preview\"\n                 />\n               </div>\n             )}\n           </div>\n         </DialogContent>\n       </Dialog>\n\n       {/* Success Dialog */}\n       <AlertDialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\n         <AlertDialogContent>\n           <AlertDialogHeader>\n             <AlertDialogTitle className=\"flex items-center gap-2\">\n               <CheckCircle className=\"h-5 w-5 text-green-600\" />\n               Berhasil!\n             </AlertDialogTitle>\n             <AlertDialogDescription className=\"text-green-700\">\n               {successMessage}\n             </AlertDialogDescription>\n           </AlertDialogHeader>\n           <AlertDialogFooter>\n             <AlertDialogAction\n               onClick={() => setShowSuccessDialog(false)}\n               className=\"bg-green-600 hover:bg-green-700 text-white\"\n             >\n               OK\n             </AlertDialogAction>\n           </AlertDialogFooter>\n         </AlertDialogContent>\n       </AlertDialog>\n\n       \n     </div>\n   );\n };\n\n export default PengajuanDetail;\n"],"names":["PengajuanDetail","pengajuanId","useParams","navigate","useNavigate","user","token","isAuthenticated","useAuth","pengajuan","setPengajuan","useState","loading","setLoading","error","setError","previewFile","setPreviewFile","showPreview","setShowPreview","showApproveDialog","setShowApproveDialog","showRejectDialog","setShowRejectDialog","showDeleteDialog","setShowDeleteDialog","showPrintDialog","setShowPrintDialog","showSuccessDialog","setShowSuccessDialog","successMessage","setSuccessMessage","approvalNote","setApprovalNote","rejectionReason","setRejectionReason","submitting","setSubmitting","verifyingFile","setVerifyingFile","isScrolled","setIsScrolled","useEffect","fetchPengajuanData","handleScroll","scrollTop","response","apiGet","handleApprove","apiPut","handleReject","handleResubmit","handleDelete","apiDelete","getStatusBadge","status","statusConfig","Clock","FileText","CheckCircle","XCircle","config","Icon","jsxs","Badge","jsx","getJabatanDisplayName","jenisJabatan","getFileDisplayName","fileType","handleVerifyFile","fileId","verificationStatus","notes","requestData","prev","file","handlePrintReport","generatePrintReport","data","printWindow","html","index","formatDate","dateString","getFileSize","bytes","sizes","i","handlePreviewFile","blob","blobUrl","handleDownloadFile","isAdmin","canEdit","canDelete","canApprove","canReject","canShowResubmit","allFilesApproved","hasRejectedFiles","resubmitEnabled","Card","CardContent","Loader2","Button","ArrowLeft","CardHeader","CardTitle","User","Edit","Switch","checked","Label","Eye","Download","Calendar","Fragment","RefreshCw","Trash2","Printer","Dialog","DialogContent","DialogHeader","DialogTitle","Textarea","e","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","open","AlertCircle"],"mappings":"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"}