import{j as e,ao as h,ak as v,a7 as N,a2 as d}from"./ui-vendor-B7g5fNgE.js";import{r}from"./react-vendor-BNG1zHOu.js";import{a as w}from"./index-BcuwhLii.js";const M=()=>{const[s,u]=r.useState(null),[c,o]=r.useState(""),[m,x]=r.useState(!1);r.useEffect(()=>{n();const a=setInterval(n,3e4);return()=>clearInterval(a)},[]),r.useEffect(()=>{if(s!=null&&s.endTime){const a=()=>{const i=new Date().getTime(),t=new Date(s.endTime).getTime()-i;if(t>0){const f=Math.floor(t/864e5),j=Math.floor(t%(1e3*60*60*24)/(1e3*60*60)),y=Math.floor(t%(1e3*60*60)/(1e3*60)),p=Math.floor(t%(1e3*60)/1e3);o(`${f}d ${j}h ${y}m ${p}s`)}else o("Waktu maintenance telah berakhir")};a();const l=setInterval(a,1e3);return()=>clearInterval(l)}},[s==null?void 0:s.endTime]);const n=async()=>{try{x(!0);const a=await w("/api/maintenance/status");u(a)}catch(a){console.error("Error fetching maintenance status:",a)}finally{x(!1)}},b=()=>{n()};return e.jsx("div",{className:"h-screen w-screen bg-white flex items-center justify-center overflow-hidden",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden h-full",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-full",children:[e.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:"Mode Maintenance"}),e.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"SI-IMUT"})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("p",{className:"text-xl text-gray-800 leading-relaxed font-medium",children:(s==null?void 0:s.message)||"Sistem sedang dalam mode maintenance untuk perbaikan dan peningkatan."})}),(s==null?void 0:s.startTime)&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 mb-2",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-base",children:"Maintenance Dimulai:"})]}),e.jsx("p",{className:"text-gray-800 text-base font-medium",children:new Date(s.startTime).toLocaleString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(s==null?void 0:s.endTime)&&c&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-800 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-bold text-lg",children:"Estimasi Selesai:"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:c.split(" ").map((a,l)=>{const i=a.match(/(\d+)([a-zA-Z]+)/),g=i?i[1]:"0",t=["Hari","Jam","Menit","Detik"];return e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:g}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:t[l]})]})},l)})}),e.jsx("p",{className:"text-gray-700 text-base text-center font-medium",children:new Date(s.endTime).toLocaleString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:b,disabled:m,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors duration-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5 animate-spin"}),"Memeriksa..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5"}),"Periksa Status"]})}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 hover:border-gray-400 transition-colors duration-200",children:[e.jsx(d,{className:"w-5 h-5"}),"Muat Ulang"]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-gray-600 text-base",children:"Terima kasih atas kesabaran Anda. Kami sedang bekerja untuk memberikan pengalaman yang lebih baik."})})]}),e.jsx("div",{className:"bg-gray-50 p-8 md:p-12 flex items-center justify-center relative",children:e.jsxs("div",{className:"relative z-10 max-w-md w-full",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"bg-gray-200 rounded-2xl p-4 shadow-lg",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-4/5"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/5"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),e.jsx("div",{className:"bg-gray-100 rounded-lg p-3 border border-gray-200",children:e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Sistem sedang diperbaiki"})})]})}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-yellow-400 h-6 w-12 border border-gray-800",style:{background:"repeating-linear-gradient(45deg, #fbbf24, #fbbf24 3px, #000 3px, #000 6px)"}})})]}),e.jsx("div",{className:"absolute top-4 right-4 w-10 h-10 text-gray-400 opacity-60",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full animate-spin",style:{animationDuration:"3s"},children:e.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.04 4.95,18.95L7.44,17.95C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.95L19.05,18.95C19.27,19.04 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})})}),e.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 text-gray-400 opacity-60",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full animate-spin",style:{animationDuration:"4s",animationDirection:"reverse"},children:e.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.04 4.95,18.95L7.44,17.95C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.95L19.05,18.95C19.27,19.04 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})})}),e.jsx("div",{className:"absolute top-1/2 right-8 w-12 h-12 text-gray-500 opacity-70",children:e.jsx(h,{className:"w-full h-full"})}),e.jsx("div",{className:"absolute bottom-8 right-8 w-6 h-10 bg-orange-500 transform rotate-12 opacity-80"})]})})]})})})})};export{M as default};
//# sourceMappingURL=MaintenancePage-C_p4xDkh.js.map
