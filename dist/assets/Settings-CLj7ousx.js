import{j as e,ah as sa,ai as ia,aj as na,ak as Aa,al as Ka,a0 as Re,am as Me,K as Ea,a3 as Da,an as Ta,ao as ie,ap as be,aq as qe,ar as Fa,a1 as Ba,q as Ie,as as Ra}from"./ui-vendor-DiY4nm-6.js";import{r as n,c as b}from"./react-vendor-C8WR5ETM.js";import{c as we,u as ta,d as ra,a as U,S as f,I as k,B as g,b as se,D as ce,e as me,f as ke,g as ye,h as ve,i as Ne,j as _e,k as oe,l as Ma,m as fe}from"./index-9P-lsB0e.js";import{C as I,a as J,b as O,c as W}from"./card-Cu65o8DU.js";import{L as x}from"./label-OXHhtbJU.js";import{T as Je}from"./textarea--GNqmhgS.js";import{C as Oe}from"./checkbox-YLZNAaF0.js";import{S as We}from"./switch-C3jbKxcn.js";import{S as Ge,a as Le,b as Ue,c as Ve,d as $e}from"./select-DvMzFKrW.js";import{A as He,a as ze,b as Ye,c as Qe,d as Xe,e as Ze,f as ea}from"./alert-dialog-eX3gEOOO.js";const qa=Aa,la=n.forwardRef(({className:i,...d},t)=>e.jsx(sa,{ref:t,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...d}));la.displayName=sa.displayName;const G=n.forwardRef(({className:i,...d},t)=>e.jsx(ia,{ref:t,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...d}));G.displayName=ia.displayName;const L=n.forwardRef(({className:i,...d},t)=>e.jsx(na,{ref:t,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...d}));L.displayName=na.displayName;const aa=({text:i,label:d="Teks",className:t})=>{const[c,y]=n.useState(!1),[V,D]=n.useState(!1),K=async j=>{var C,R;(C=j==null?void 0:j.preventDefault)==null||C.call(j),(R=j==null?void 0:j.stopPropagation)==null||R.call(j);try{await navigator.clipboard.writeText(i)}catch{const u=document.createElement("textarea");u.value=i,u.style.position="fixed",u.style.opacity="0",document.body.appendChild(u),u.focus(),u.select();try{document.execCommand("copy")}catch{}document.body.removeChild(u)}y(!0),D(!0),setTimeout(()=>{y(!1),D(!1)},1400)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:K,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&K(j)},className:`inline-flex items-center gap-1 cursor-pointer group text-left ${t||""}`,title:`Salin ${d}`,children:[e.jsx("span",{children:i}),c?e.jsx(Ie,{className:"w-4 h-4 text-green-600"}):e.jsx(Ra,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600"}),e.jsx("span",{"aria-live":"polite",className:"sr-only",children:c?`${d} disalin`:""})]}),e.jsx(ce,{open:V,onOpenChange:D,children:e.jsx(me,{className:"max-w-sm min-w-[320px] px-4 py-3 pr-12 rounded-xl border shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-green-50 text-green-600 border border-green-500",children:e.jsx(Ie,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-semibold",children:["Berhasil menyalin ",d]})]})})})]})},Ia=({token:i})=>{const[d,t]=n.useState([]),[c,y]=n.useState(!0),[V,D]=n.useState(null),[K,j]=n.useState(""),[C,R]=n.useState(""),[u,$]=n.useState(1),P=20;ta();const{toast:T}=ra(),[_,M]=n.useState(!1),[m,ne]=n.useState(null),[H,te]=n.useState(!1);n.useEffect(()=>{const r=setTimeout(()=>R(K),300);return()=>clearTimeout(r)},[K]),n.useEffect(()=>{i&&(y(!0),U("/api/employees",i).then(r=>t(r.pegawai||[])).catch(r=>D(r.message||"Gagal mengambil data pegawai")).finally(()=>y(!1)))},[i]);const F=d.filter(r=>{var p,S,E;return((p=r.nama)==null?void 0:p.toLowerCase().includes(C.toLowerCase()))||((S=r.nip)==null?void 0:S.toLowerCase().includes(C.toLowerCase()))||((E=r.unit_kerja)==null?void 0:E.toLowerCase().includes(C.toLowerCase()))}),w=Math.ceil(F.length/P),re=F.slice((u-1)*P,u*P),Ce=(()=>{if(w<=5)return Array.from({length:w},(E,q)=>q+1);let p=Math.max(1,u-2),S=Math.min(w,u+2);return u<=3?(S=5,p=1):u>=w-2&&(S=w,p=w-5+1),Array.from({length:S-p+1},(E,q)=>p+q)})(),z=r=>{r<1||r>w||$(r)};return n.useEffect(()=>{$(1)},[C]),c?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(f,{className:"h-8 w-1/2 mx-auto mb-4"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"})]}):V?e.jsx("div",{className:"py-8 text-center text-error",children:V}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(k,{placeholder:"Cari pegawai...",value:K,onChange:r=>j(r.target.value),className:"w-full"})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(g,{variant:"outline",onClick:()=>M(!0),className:"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-50",children:[e.jsx(ie,{className:"h-4 w-4"}),"Tambah Pegawai"]})})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Nama"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"NIP"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Unit Kerja"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Jabatan"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Pangkat/Gol"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:re.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.jsx(aa,{text:r.nama,label:"Nama"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.jsx(aa,{text:r.nip,label:"NIP",className:"font-mono"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.unit_kerja}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.jabatan}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.golongan}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>{ne(r),M(!0)},className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-3 w-3"}),"Edit"]})})]},r.id))})]})})}),w>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan ",(u-1)*P+1," sampai ",Math.min(u*P,F.length)," dari ",F.length," pegawai"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>z(u-1),disabled:u===1,className:"border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800 disabled:border-gray-300 disabled:text-gray-400",children:"Sebelumnya"}),Ce.map(r=>e.jsx(g,{variant:u===r?"default":"outline",size:"sm",onClick:()=>z(r),className:u===r?"bg-green-600 hover:bg-green-700 text-white":"",children:r},r)),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>z(u+1),disabled:u===w,className:"border-green-600 text-green-600 hover:bg-green-50 disabled:border-gray-300 disabled:text-gray-400",children:"Selanjutnya"})]})]}),e.jsx(ce,{open:_,onOpenChange:M,children:e.jsxs(me,{className:"max-w-2xl",children:[e.jsxs(ke,{children:[e.jsx(ye,{children:m?"Edit Pegawai":"Tambah Pegawai Baru"}),e.jsx(ve,{children:m?"Edit informasi pegawai":"Masukkan informasi pegawai baru"})]}),e.jsxs("form",{onSubmit:async r=>{r.preventDefault(),te(!0);try{const p=new FormData(r.currentTarget),S={nama:p.get("nama"),nip:p.get("nip"),unit_kerja:p.get("unit_kerja"),jabatan:p.get("jabatan"),golongan:p.get("golongan")};m?(await _e(`/api/employees/${m.id}`,S,i),T({title:"Berhasil",description:"Data pegawai berhasil diperbarui"})):(await oe("/api/employees",S,i),T({title:"Berhasil",description:"Pegawai baru berhasil ditambahkan"}));const E=await U("/api/employees",i);t(E.pegawai||[]),M(!1),ne(null)}catch(p){T({title:"Gagal",description:p.message||"Terjadi kesalahan",variant:"destructive"})}finally{te(!1)}},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"nama",children:"Nama Lengkap"}),e.jsx(k,{id:"nama",name:"nama",defaultValue:(m==null?void 0:m.nama)||"",required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"nip",children:"NIP"}),e.jsx(k,{id:"nip",name:"nip",defaultValue:(m==null?void 0:m.nip)||"",required:!0,pattern:"[0-9]{18}",title:"NIP harus 18 digit angka"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"unit_kerja",children:"Unit Kerja"}),e.jsx(k,{id:"unit_kerja",name:"unit_kerja",defaultValue:(m==null?void 0:m.unit_kerja)||"",required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"jabatan",children:"Jabatan"}),e.jsx(k,{id:"jabatan",name:"jabatan",defaultValue:(m==null?void 0:m.jabatan)||"",required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"golongan",children:"Pangkat/Golongan"}),e.jsx(k,{id:"golongan",name:"golongan",defaultValue:(m==null?void 0:m.golongan)||"",required:!0})]})]}),e.jsxs(Ne,{className:"mt-6",children:[e.jsx(Ma,{asChild:!0,children:e.jsx(g,{type:"button",variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-900",children:"Batal"})}),e.jsx(g,{type:"submit",disabled:H,className:"bg-green-600 hover:bg-green-700 text-white",children:H?"Menyimpan...":m?"Update":"Simpan"})]})]})]})})]})},Ya=()=>{const{user:i,token:d}=ta(),{toast:t}=ra(),[c,y]=n.useState({namakantor:"",kabkota:"",alamat:"",telepon:"",fax:"",email:"",website:""}),[V,D]=n.useState({tingkat1:"KEMENTERIAN AGAMA REPUBLIK INDONESIA",tingkat2:"KANTOR WILAYAH KEMENTERIAN AGAMA",tingkat3:"PROVINSI NUSA TENGGARA BARAT",alamat:"",telepon:"",fax:"",email:"",website:""}),[K,j]=n.useState(!0),[C,R]=n.useState(null),[u,$]=n.useState(null),[P,T]=n.useState(null),_={namakantor:b.useRef(null),kabkota:b.useRef(null),alamat:b.useRef(null),telepon:b.useRef(null),email:b.useRef(null),website:b.useRef(null),fax:b.useRef(null)};b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null);const[M,m]=n.useState(!1),[ne,H]=n.useState(null),[te,F]=n.useState(""),[w,re]=n.useState(!1),[Se,Ce]=n.useState(null),[z,r]=n.useState(""),[p,S]=n.useState([]),[E,q]=n.useState(!0),[da,Y]=n.useState(!1),[Q,Pe]=n.useState(null),[Ae,Ke]=n.useState(!1),[v,B]=n.useState({jenis_jabatan:"",total_dokumen:0,required_files:[],is_active:!0}),X=[{id:"surat_pengantar",name:"Surat Pengantar",category:"Dokumen Pengantar"},{id:"surat_permohonan_dari_yang_bersangkutan",name:"Surat Permohonan Dari Yang Bersangkutan",category:"Dokumen Pengantar"},{id:"surat_keputusan_cpns",name:"Surat Keputusan CPNS",category:"Dokumen Kepegawaian"},{id:"surat_keputusan_pns",name:"Surat Keputusan PNS",category:"Dokumen Kepegawaian"},{id:"surat_keputusan_kenaikan_pangkat_terakhir",name:"Surat Keputusan Kenaikan Pangkat Terakhir",category:"Dokumen Kepegawaian"},{id:"surat_keputusan_jabatan_terakhir",name:"Surat Keputusan Jabatan Terakhir",category:"Dokumen Kepegawaian"},{id:"skp_2_tahun_terakhir",name:"SKP 2 Tahun Terakhir",category:"Dokumen Kepegawaian"},{id:"surat_keterangan_bebas_temuan_inspektorat",name:"Surat Keterangan Bebas Temuan Yang Diterbitkan Inspektorat Jenderal Kementerian Agama",category:"Dokumen Keterangan"},{id:"surat_keterangan_anjab_abk_instansi_asal",name:"Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi asal",category:"Dokumen Keterangan"},{id:"surat_keterangan_anjab_abk_instansi_penerima",name:"Surat Keterangan Anjab dan ABK terhadap jabatan PNS dari instansi penerima",category:"Dokumen Keterangan"},{id:"surat_pernyataan_tidak_hukuman_disiplin",name:"Surat Pernyataan Tidak Pernah Dijatuhi Hukuman Disiplin Tingkat Sedang atau Berat Dalam 1 (satu) Tahun Terakhir Dari PPK",category:"Dokumen Pernyataan"},{id:"surat_persetujuan_mutasi_asal",name:"Surat Persetujuan Mutasi dari ASAL dengan menyebutkan jabatan yang akan diduduki",category:"Dokumen Persetujuan"},{id:"surat_lolos_butuh_ppk",name:"Surat Lolos Butuh dari Pejabat Pembina Kepegawaian instansi yang dituju",category:"Dokumen Persetujuan"},{id:"peta_jabatan",name:"Peta Jabatan",category:"Dokumen Pendukung"},{id:"hasil_uji_kompetensi",name:"Hasil Uji Kompetensi",category:"Dokumen Pendukung"},{id:"hasil_evaluasi_pertimbangan_baperjakat",name:"Hasil Evaluasi dan Pertimbangan (BAPERJAKAT)",category:"Dokumen Pendukung"},{id:"anjab_abk_instansi_asal",name:"Anjab/Abk Instansi Asal",category:"Dokumen Pendukung"},{id:"anjab_abk_instansi_penerima",name:"Anjab/Abk Instansi Penerima",category:"Dokumen Pendukung"},{id:"surat_keterangan_tidak_tugas_belajar",name:"Surat Keterangan Tidak Sedang Tugas Belajar",category:"Dokumen Keterangan"},{id:"sptjm_pimpinan_satker_asal",name:"SPTJM Pimpinan Satker dari Asal",category:"Dokumen Pernyataan"},{id:"sptjm_pimpinan_satker_penerima",name:"SPTJM Pimpinan Satker dari Penerima",category:"Dokumen Pernyataan"},{id:"surat_rekomendasi_instansi_pembina",name:"Surat Rekomendasi Instansi Pembina",category:"Dokumen Rekomendasi"}];n.useEffect(()=>{!i||!d||(i.role==="admin"?(de(),Ca()):i.role==="admin_wilayah"&&de())},[i==null?void 0:i.role,d,i==null?void 0:i.id]),n.useEffect(()=>{!i||!d||i.role==="admin"&&ue()},[d,i==null?void 0:i.role,i==null?void 0:i.id]),n.useEffect(()=>{!i||!d||(j(!0),U("/api/offices",d).then(a=>{var l,o;let s=null;i!=null&&i.office_id&&(s=(l=a.offices)==null?void 0:l.find(N=>N.id===i.office_id)),!s&&(i!=null&&i.kabkota)&&(s=(o=a.offices)==null?void 0:o.find(N=>N.kabkota===i.kabkota)),s?($(s.id),y({namakantor:s.namakantor||s.name||"",kabkota:s.kabkota||"",alamat:s.alamat||s.address||"",telepon:s.telepon||s.phone||"",fax:s.fax||"",email:s.email||"",website:s.website||""})):($(null),y({namakantor:"",kabkota:"",alamat:"",telepon:"",fax:"",email:"",website:""}))}).catch(a=>{console.error("Error loading office settings:",a),R("Gagal mengambil data kantor")}).finally(()=>j(!1)))},[d,i==null?void 0:i.id,i==null?void 0:i.office_id,i==null?void 0:i.kabkota]),n.useEffect(()=>{const a=localStorage.getItem("kanwilSettings");if(a)try{const s=JSON.parse(a);D(l=>({...l,tingkat1:s.tingkat1||"KEMENTERIAN AGAMA REPUBLIK INDONESIA",tingkat2:s.tingkat2||"KANTOR WILAYAH KEMENTERIAN AGAMA",tingkat3:s.tingkat3||"PROVINSI NUSA TENGGARA BARAT",alamat:s.alamat||"",telepon:s.telepon||"",fax:s.fax||"",email:s.email||"",website:s.website||""}))}catch(s){console.error("Error parsing kanwil settings:",s)}},[]);const ue=async()=>{try{q(!0);const a=await U("/api/job-type-configurations",d);a.success&&S(a.data)}catch(a){console.error("Error fetching job configs:",a),t({title:"Error",description:"Gagal mengambil data konfigurasi jabatan",variant:"destructive"})}finally{q(!1)}},oa=async()=>{var a,s;if(T(null),!c.alamat.trim()){T("alamat"),(a=_.alamat.current)==null||a.focus(),t({title:"Alamat wajib diisi.",description:"Silakan isi alamat kantor.",variant:"destructive"});return}if(c.email&&!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(c.email)){T("email"),(s=_.email.current)==null||s.focus(),t({title:"Format email tidak valid.",description:"Silakan isi email dengan format yang benar.",variant:"destructive"});return}try{const l=await _e(`/api/offices/${u}`,{alamat:c.alamat,telepon:c.telepon,fax:c.fax,email:c.email,website:c.website},d);H(!0),F("Pengaturan kantor berhasil disimpan!"),m(!0)}catch{H(!1),F("Gagal menyimpan pengaturan kantor. Silakan coba lagi."),m(!0)}},ca=()=>{t({title:"Fitur Export",description:"Fitur export data akan segera tersedia."})},ma=()=>{t({title:"Fitur Import",description:"Fitur import data akan segera tersedia."})},[ge,he]=n.useState([]),[ua,Ee]=n.useState(!0),[ga,Z]=n.useState(!1),[le,xe]=n.useState(null),[De,Te]=n.useState(!1),[h,A]=n.useState({jenis_jabatan_id:"",name:"",description:"",selectedFiles:{},selectedVariant:"6.1",is_active:!0}),je=[{id:"surat_rekomendasi_kanwil",name:"Surat Rekomendasi Kanwil",category:"Dokumen Kanwil",is_required:!0,description:"Surat rekomendasi dari Kanwil Provinsi"},{id:"surat_persetujuan_kepala_wilayah",name:"Surat Persetujuan Kepala Wilayah",category:"Dokumen Kanwil",is_required:!0,description:"Surat persetujuan dari Kepala Wilayah Kementerian Agama Provinsi"},{id:"surat_pengantar_permohonan_rekomendasi",name:"Surat Pengantar Permohonan Rekomendasi",category:"Dokumen Pengantar",is_required:!0,description:"Surat pengantar permohonan rekomendasi pindah tugas"},{id:"surat_pernyataan_tidak_tugas_belajar",name:"Surat Pernyataan Tidak Sedang Menjalani Tugas Belajar",category:"Dokumen Pernyataan",is_required:!0,description:"Surat pernyataan tidak sedang menjalani tugas belajar"},{id:"surat_pernyataan_tidak_ikatan_dinas",name:"Surat Pernyataan Tidak Sedang Menjalani Ikatan Dinas",category:"Dokumen Pernyataan",is_required:!0,description:"Surat pernyataan tidak sedang menjalani ikatan dinas"},{id:"surat_keterangan_kanwil",name:"Surat Keterangan dari Kanwil",category:"Dokumen Keterangan",is_required:!0,description:"Surat keterangan resmi dari Kanwil Provinsi"},{id:"surat_rekomendasi_kanwil_khusus",name:"Surat Rekomendasi Khusus dari Kanwil",category:"Dokumen Keterangan",is_required:!0,description:"Surat rekomendasi khusus dari Kanwil Provinsi"}],[ha,pe]=n.useState([]),xa=[{value:"6.1",label:"6.1 - Permohonan Persetujuan/Rekomendasi Pengangkatan ke Dalam Jabatan Pengawas (Untuk Eselon)"},{value:"6.2",label:"6.2 - Permohonan Pindah Tugas ke Dirjen Bimas Islam (Untuk Penyuluh Agama Islam)"},{value:"6.3",label:"6.3 - Permohonan Pindah Tugas ke Dirjen PENDIS (Untuk Guru, Pengawas, Kepala Madrasah)"},{value:"6.4",label:"6.4 - Permohonan Pindah Tugas ke Kepala Biro SDM Sekjen Kemenag RI (Untuk Analis SDM dan Asesor)"},{value:"6.5",label:"6.5 - Permohonan Pindah Tugas ke Kepala Biro Umum Sekjen Kemenag RI (Arsiparis, BARJAS)"},{value:"6.6",label:"6.6 - Permohonan Pindah Tugas ke Kepala Biro Keuangan dan BMN Sekjen Kemenag RI (Untuk Analis Pengelolaan Keuangan APBN dan Pranata Keuangan APBN)"},{value:"6.7",label:"6.7 - Permohonan Pindah Tugas ke Kepala Biro Perencanaan dan Penganggaran Sekjen Kemenag RI (Untuk Perencana)"},{value:"6.8",label:"6.8 - Permohonan Pindah Tugas ke Kepala Biro Humas (Untuk Pranata Humas)"},{value:"6.9",label:"6.9 - Permohonan Pindah Tugas ke Kepala BMP-PSDM Kemenag RI (Untuk Analis Kebijakan)"}],Fe=()=>{B({jenis_jabatan:"",total_dokumen:0,required_files:[],is_active:!0}),Pe(null),Y(!0)},ja=a=>{var s;B({jenis_jabatan:a.jenis_jabatan,total_dokumen:((s=a.required_files)==null?void 0:s.length)||0,required_files:a.required_files||[],is_active:a.is_active}),Pe(a),Y(!0)},pa=async()=>{if(!v.jenis_jabatan.trim()){t({title:"Error",description:"Jenis jabatan wajib diisi",variant:"destructive"});return}if(v.required_files.length===0){t({title:"Error",description:"Pilih minimal satu dokumen yang diperlukan",variant:"destructive"});return}try{Ke(!0);const a={jenis_jabatan:v.jenis_jabatan,min_dokumen:v.required_files.length,max_dokumen:v.required_files.length,required_files:v.required_files,is_active:v.is_active};Q?(await _e(`/api/job-type-configurations/${Q.id}`,a,d),t({title:"Sukses",description:"Konfigurasi jabatan berhasil diperbarui"})):(await oe("/api/job-type-configurations",a,d),t({title:"Sukses",description:"Konfigurasi jabatan berhasil ditambahkan"})),Y(!1),ue()}catch(a){console.error("Error saving job config:",a),t({title:"Error",description:"Gagal menyimpan konfigurasi jabatan",variant:"destructive"})}finally{Ke(!1)}},fa=async a=>{try{await fe(`/api/job-type-configurations/${a}`,d),t({title:"Sukses",description:"Konfigurasi jabatan berhasil dihapus"}),ue()}catch(s){console.error("Error deleting job config:",s),t({title:"Error",description:"Gagal menghapus konfigurasi jabatan",variant:"destructive"})}},ba=a=>{B(s=>{const l=s.required_files.includes(a)?s.required_files.filter(o=>o!==a):[...s.required_files,a];return{...s,required_files:l,total_dokumen:l.length}})},ka=()=>{const a=X.map(s=>s.id);B(s=>({...s,required_files:a,total_dokumen:a.length})),t({title:"Berhasil",description:"Semua dokumen telah dipilih"})},ya=()=>{B(a=>({...a,required_files:[],total_dokumen:0})),t({title:"Berhasil",description:"Semua dokumen telah dihapus dari pilihan"})},Be=()=>{if((i==null?void 0:i.role)!=="admin"){t({title:"Error",description:"Hanya superadmin yang dapat menambah konfigurasi",variant:"destructive"});return}A({jenis_jabatan_id:"",name:"",description:"",selectedFiles:{},selectedVariant:"6.1",is_active:!0}),xe(null),Z(!0)},va=a=>{if((i==null?void 0:i.role)!=="admin"){t({title:"Error",description:"Hanya superadmin yang dapat mengedit konfigurasi",variant:"destructive"});return}const s={};a.files.forEach(l=>{s[l.id]=!0}),A({jenis_jabatan_id:a.jenis_jabatan_id,name:a.name,description:a.description,selectedFiles:s,selectedVariant:"6.1",is_active:a.is_active}),xe(a),Z(!0)},Na=async a=>{if((i==null?void 0:i.role)!=="admin"){t({title:"Error",description:"Hanya superadmin yang dapat menghapus konfigurasi",variant:"destructive"});return}if(window.confirm("Apakah Anda yakin ingin menghapus konfigurasi ini?"))try{for(const s of a.files)try{await fe(`/api/admin-wilayah-file-config/${s.id}`,d)}catch(l){console.error("Error deleting file config:",l)}t({title:"Berhasil",description:"Konfigurasi admin wilayah berhasil dihapus"}),de()}catch(s){console.error("Error deleting admin wilayah config:",s),t({title:"Error",description:(s==null?void 0:s.message)||"Gagal menghapus konfigurasi admin wilayah",variant:"destructive"})}},_a=a=>{A(s=>({...s,selectedFiles:{...s.selectedFiles,[a]:!s.selectedFiles[a]}}))},wa=a=>{A(s=>({...s,selectedVariant:a}))},Sa=async()=>{if(!h.jenis_jabatan_id||!h.name.trim()){t({title:"Error",description:"Jenis jabatan dan nama konfigurasi wajib diisi",variant:"destructive"});return}const a=je.filter(s=>h.selectedFiles[s.id]);if(a.length===0){t({title:"Error",description:"Pilih minimal satu file yang required",variant:"destructive"});return}try{if(Te(!0),le){const s=ge.find(l=>l.jenis_jabatan_id===parseInt(h.jenis_jabatan_id));if(s)for(const l of s.files)try{await fe(`/api/admin-wilayah-file-config/${l.id}`,d)}catch(o){console.error("Error deleting old config:",o)}for(const l of a)await oe("/api/admin-wilayah-file-config",{jenis_jabatan_id:parseInt(h.jenis_jabatan_id),file_type:l.id,display_name:l.name,is_required:l.is_required,description:l.description,is_active:h.is_active},d);t({title:"Berhasil",description:"Konfigurasi admin wilayah berhasil diperbarui"})}else{for(const s of a)await oe("/api/admin-wilayah-file-config",{jenis_jabatan_id:parseInt(h.jenis_jabatan_id),file_type:s.id,display_name:s.name,is_required:s.is_required,description:s.description,is_active:h.is_active},d);t({title:"Berhasil",description:"Konfigurasi admin wilayah berhasil dibuat"})}Z(!1),xe(null),de()}catch(s){console.error("Error saving admin wilayah config:",s),t({title:"Error",description:(s==null?void 0:s.message)||"Gagal menyimpan konfigurasi admin wilayah",variant:"destructive"})}finally{Te(!1)}},de=async()=>{try{Ee(!0);const a=await U("/api/admin-wilayah-file-config",d);if(a!=null&&a.success&&Array.isArray(a.data)){const l=a.data.map(o=>{var N,ae;return{id:o.id,jenis_jabatan_id:o.jenis_jabatan_id,name:((N=o.jenis_jabatan)==null?void 0:N.jenis_jabatan)||`Jabatan ${o.jenis_jabatan_id}`,description:`Konfigurasi file wajib untuk jabatan ${((ae=o.jenis_jabatan)==null?void 0:ae.jenis_jabatan)||o.jenis_jabatan_id}`,files:[{id:o.file_type,name:o.display_name,description:o.description,is_required:o.is_required,is_active:o.is_active}],is_active:o.is_active,created_at:o.created_at,updated_at:o.updated_at}}).reduce((o,N)=>{const ae=o.find(Pa=>Pa.jenis_jabatan_id===N.jenis_jabatan_id);return ae?ae.files.push(...N.files):o.push(N),o},[]);he(l)}else console.warn("Admin wilayah config API response invalid:",a),he([])}catch(a){console.error("Error fetching admin wilayah configs:",a),he([])}finally{Ee(!1)}},Ca=async()=>{try{const a=await U("/api/admin-wilayah-file-config/available-job-types",d);a!=null&&a.success&&Array.isArray(a.data)?pe(a.data):(console.warn("Available job types API response invalid:",a),pe([]))}catch(a){console.error("Error fetching available job types:",a),pe([])}};if(!i)return e.jsx("div",{className:"py-8 text-center",children:"Silakan login terlebih dahulu."});if(!d)return e.jsx("div",{className:"py-8 text-center",children:"Memuat pengaturan..."});const ee=(i==null?void 0:i.role)==="admin";return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pengaturan"}),e.jsx("p",{className:"text-gray-600",children:"Kelola pengaturan kantor, pegawai, dan sistem aplikasi"})]}),e.jsxs(qa,{defaultValue:"office",className:"space-y-6",children:[e.jsxs(la,{className:`grid w-full ${ee?"grid-cols-5":"grid-cols-4"}`,children:[e.jsxs(G,{value:"office",className:"flex items-center space-x-2",children:[e.jsx(Ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Kantor"})]}),ee&&e.jsxs(G,{value:"job-config",className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:"Konfigurasi Jabatan"})]}),ee&&e.jsxs(G,{value:"admin-wilayah-config",className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{children:"Konfigurasi Berkas Admin Wilayah"})]}),e.jsxs(G,{value:"employees",className:"flex items-center space-x-2",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Pegawai"})]}),e.jsxs(G,{value:"system",className:"flex items-center space-x-2",children:[e.jsx(Da,{className:"h-4 w-4"}),e.jsx("span",{children:"Sistem"})]})]}),e.jsx(L,{value:"office",children:e.jsxs(I,{children:[e.jsx(J,{children:e.jsx(O,{children:"Pengaturan Kantor"})}),e.jsx(W,{className:"space-y-4",children:K?e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{className:"h-6 w-1/3 mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-24 w-full mb-2"}),e.jsx(f,{className:"h-10 w-1/2 mb-2"}),e.jsx(f,{className:"h-10 w-1/2 mb-2"}),e.jsx(f,{className:"h-10 w-1/2 mb-2"})]}):C?e.jsx("div",{className:"text-error",children:C}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"namakantor",children:"Nama Kantor"}),e.jsx(k,{id:"namakantor",ref:_.namakantor,value:c.namakantor,readOnly:!0,disabled:!0,className:P==="namakantor"?"border-red-500":""})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"kabkota",children:"Kabupaten/Kota"}),e.jsx(k,{id:"kabkota",ref:_.kabkota,value:c.kabkota,readOnly:!0,disabled:!0,className:P==="kabkota"?"border-red-500":""})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"alamat",children:"Alamat"}),e.jsx(Je,{id:"alamat",ref:_.alamat,value:c.alamat,onChange:a=>y({...c,alamat:a.target.value}),rows:3,className:P==="alamat"?"border-red-500":""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"telepon",children:"Telepon"}),e.jsx(k,{id:"telepon",ref:_.telepon,value:c.telepon,onChange:a=>y({...c,telepon:a.target.value})})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"fax",children:"Fax"}),e.jsx(k,{id:"fax",value:c.fax,onChange:a=>y({...c,fax:a.target.value}),ref:_.fax})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(k,{id:"email",ref:_.email,type:"email",value:c.email,onChange:a=>y({...c,email:a.target.value}),placeholder:"Contoh: kantor@kemenag.go.id",className:P==="email"?"border-red-500":""})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"website",children:"Website"}),e.jsx(k,{id:"website",ref:_.website,value:c.website,onChange:a=>y({...c,website:a.target.value}),placeholder:"Contoh: kemenag.go.id"})]})]}),e.jsxs(g,{onClick:oa,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Ta,{className:"mr-2 h-4 w-4"}),"Simpan Pengaturan Kantor"]})]})})]})}),ee&&e.jsx(L,{value:"job-config",children:e.jsxs(I,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(O,{children:"Konfigurasi Jabatan"}),e.jsxs(g,{onClick:Fe,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Tambah Konfigurasi"]})]})}),e.jsx(W,{className:"space-y-4",children:E?e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{className:"h-6 w-1/3 mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"}),e.jsx(f,{className:"h-10 w-full mb-2"})]}):p.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Re,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum ada konfigurasi jabatan"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Mulai dengan menambahkan konfigurasi jabatan pertama Anda."}),e.jsxs(g,{onClick:Fe,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Tambah Konfigurasi Pertama"]})]}):e.jsx("div",{className:"space-y-4",children:p.map(a=>{var s;return e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:a.jenis_jabatan}),e.jsxs("p",{className:"text-sm text-gray-500",children:[((s=a.required_files)==null?void 0:s.length)||0," dokumen diperlukan"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:a.is_active?"bg-green-100 text-green-800 border-green-200 hover:bg-green-100":"bg-red-100 text-red-800 border-red-200 hover:bg-red-100",children:a.is_active?"Aktif":"Nonaktif"}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>ja(a),className:"border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>fa(a.id),className:"text-red-600 hover:text-red-700",children:e.jsx(qe,{className:"w-4 h-4"})})]})]}),a.required_files&&a.required_files.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:a.required_files.map(l=>{const o=X.find(N=>N.id===l);return o?e.jsx(se,{variant:"outline",className:"text-xs",children:o.name},l):null})})]},a.id)})})})]})}),ee&&e.jsx(L,{value:"admin-wilayah-config",children:e.jsxs(I,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(O,{children:"Konfigurasi Berkas Admin Wilayah"}),(i==null?void 0:i.role)==="admin"&&e.jsxs(g,{onClick:Be,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Tambah Konfigurasi"]})]})}),e.jsx(W,{children:ua?e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{className:"h-6 w-1/3 mb-2"}),e.jsx(f,{className:"h-32 w-full mb-2"}),e.jsx(f,{className:"h-32 w-full mb-2"})]}):ge.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Me,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum ada konfigurasi"}),e.jsx("p",{className:"text-gray-600 mb-4",children:(i==null?void 0:i.role)==="admin"?"Buat konfigurasi pertama untuk admin wilayah":"Belum ada konfigurasi yang dibuat oleh superadmin"}),(i==null?void 0:i.role)==="admin"&&e.jsxs(g,{onClick:Be,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Tambah Konfigurasi"]})]}):e.jsx("div",{className:"space-y-4",children:ge.map(a=>e.jsxs(I,{className:"border-green-200",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-green-800",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.files.length," berkas diperlukan"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:a.is_active?"Aktif":"Nonaktif"}),(i==null?void 0:i.role)==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{size:"sm",variant:"outline",onClick:()=>va(a),className:"text-green-600 border-green-200 hover:bg-green-50",children:e.jsx(be,{className:"h-4 w-4"})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>Na(a),className:"text-red-600 border-red-200 hover:bg-red-50",children:e.jsx(qe,{className:"h-4 w-4"})})]})]})]})}),e.jsx(W,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:a.files.map(s=>e.jsx(se,{variant:"outline",className:"text-xs",children:s.name},s.id))})})]},a.id))})})]})}),e.jsx(L,{value:"employees",children:e.jsxs(I,{children:[e.jsx(J,{children:e.jsx(O,{children:"Kelola Pegawai"})}),e.jsx(W,{children:e.jsx(Ia,{token:d})})]})}),e.jsx(L,{value:"system",children:e.jsxs(I,{children:[e.jsx(J,{children:e.jsx(O,{children:"Pengaturan Sistem"})}),e.jsx(W,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(g,{onClick:ca,variant:"outline",className:"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800",children:[e.jsx(Fa,{className:"h-4 w-4"}),"Export Data"]}),e.jsxs(g,{onClick:ma,variant:"outline",className:"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-100 hover:text-green-800",children:[e.jsx(Ba,{className:"h-4 w-4"}),"Import Data"]})]})})]})})]}),e.jsx(He,{open:M,onOpenChange:m,children:e.jsxs(ze,{children:[e.jsxs(Ye,{children:[e.jsx(Qe,{children:ne?"Berhasil":"Gagal"}),e.jsx(Xe,{children:te})]}),e.jsx(Ze,{children:e.jsx(ea,{onClick:()=>m(!1),className:"bg-green-600 hover:bg-green-700 text-white",children:"Tutup"})})]})}),e.jsx(He,{open:w,onOpenChange:re,children:e.jsxs(ze,{children:[e.jsxs(Ye,{children:[e.jsx(Qe,{children:Se?"Berhasil":"Gagal"}),e.jsx(Xe,{children:z})]}),e.jsx(Ze,{children:e.jsx(ea,{onClick:()=>re(!1),className:"bg-green-600 hover:bg-green-700 text-white",children:"Tutup"})})]})}),e.jsx(ce,{open:da,onOpenChange:Y,children:e.jsxs(me,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(ke,{children:[e.jsx(ye,{children:Q?"Edit Konfigurasi Jabatan":"Tambah Konfigurasi Jabatan Baru"}),e.jsx(ve,{children:Q?"Edit konfigurasi jabatan yang sudah ada":"Buat konfigurasi jabatan baru dengan dokumen yang diperlukan"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"jenis_jabatan",children:"Jenis Jabatan"}),e.jsx(k,{id:"jenis_jabatan",value:v.jenis_jabatan,onChange:a=>B({...v,jenis_jabatan:a.target.value}),placeholder:"Contoh: Kepala Seksi, Kepala Subbagian, dll"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"is_active",checked:v.is_active,onCheckedChange:a=>B({...v,is_active:a}),className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-200"}),e.jsx(x,{htmlFor:"is_active",children:"Aktif"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(x,{children:"Dokumen yang Diperlukan"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{type:"button",variant:"outline",size:"sm",onClick:ka,className:"border-green-600 text-green-600 hover:bg-green-50",children:["Pilih Semua (",X.length,")"]}),e.jsx(g,{type:"button",variant:"outline",size:"sm",onClick:ya,className:"border-gray-600 text-gray-600 hover:bg-gray-50",children:"Hapus Semua"})]})]}),e.jsx("div",{className:"mt-2 space-y-4",children:Object.entries(X.reduce((a,s)=>(a[s.category]||(a[s.category]=[]),a[s.category].push(s),a),{})).map(([a,s])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:a}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(l=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{id:l.id,checked:v.required_files.includes(l.id),onCheckedChange:()=>ba(l.id)}),e.jsx(x,{htmlFor:l.id,className:"text-sm cursor-pointer",children:l.name})]},l.id))})]},a))}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Total dokumen yang dipilih: ",v.required_files.length," / ",X.length]})]})]}),e.jsxs(Ne,{children:[e.jsx(g,{variant:"outline",onClick:()=>Y(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Batal"}),e.jsx(g,{onClick:pa,disabled:Ae,className:"bg-green-600 hover:bg-green-700 text-white",children:Ae?"Menyimpan...":Q?"Update":"Simpan"})]})]})}),e.jsx(ce,{open:ga,onOpenChange:Z,children:e.jsxs(me,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(ke,{children:[e.jsx(ye,{children:le?"Edit Konfigurasi Berkas Admin Wilayah":"Tambah Konfigurasi Berkas Admin Wilayah Baru"}),e.jsx(ve,{children:le?"Edit konfigurasi berkas wajib untuk admin wilayah":"Buat konfigurasi berkas wajib baru untuk admin wilayah"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{id:"admin-wilayah-is-active",checked:h.is_active,onCheckedChange:a=>A({...h,is_active:a}),className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-200"}),e.jsx(x,{htmlFor:"admin-wilayah-is-active",children:"Aktif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"admin-wilayah-config-name",children:"Nama Konfigurasi *"}),e.jsx(k,{id:"admin-wilayah-config-name",value:h.name,onChange:a=>A({...h,name:a.target.value}),placeholder:"Contoh: Penghulu, Kepala Kantor, Kepala Seksi"})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Pilih Berkas Wajib Admin Wilayah"}),e.jsx("div",{className:"mt-2 space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:je.map(a=>e.jsx("div",{className:`p-3 border rounded-lg transition-all duration-200 ${h.selectedFiles[a.id]?"border-green-200 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Oe,{checked:h.selectedFiles[a.id]||!1,onCheckedChange:()=>_a(a.id),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:a.name}),a.is_required&&e.jsx(se,{className:"bg-red-100 text-red-800 border-red-200 text-xs",children:"Wajib"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:a.description}),a.id==="surat_rekomendasi_kanwil"&&h.selectedFiles[a.id]&&e.jsxs("div",{className:"mt-3",children:[e.jsx(x,{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Pilih Varian File 6:"}),e.jsxs(Ge,{value:h.selectedVariant,onValueChange:wa,children:[e.jsx(Le,{className:"w-full focus:ring-green-500 focus:border-green-500",children:e.jsx(Ue,{placeholder:"Pilih varian 6.x..."})}),e.jsx(Ve,{children:xa.map(s=>e.jsx($e,{value:s.value,children:s.label},s.value))})]})]})]})]})},a.id))})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Ringkasan Konfigurasi"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:["Total berkas yang dipilih: ",Object.values(h.selectedFiles).filter(Boolean).length]}),e.jsxs("p",{children:["Berkas wajib: ",je.filter(a=>a.is_required&&h.selectedFiles[a.id]).length]}),h.selectedFiles.surat_rekomendasi_kanwil&&e.jsxs("p",{className:"text-blue-600",children:["ðŸ“‹ Surat Rekomendasi Kanwil: Varian ",h.selectedVariant,e.jsx("span",{className:"text-gray-500 ml-1",children:"(dihitung sebagai 1 berkas)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ Catatan: Varian 6.1-6.9 untuk Surat Rekomendasi Kanwil dihitung sebagai 1 berkas"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"jenis-jabatan",children:"Jenis Jabatan"}),e.jsxs(Ge,{value:h.jenis_jabatan_id,onValueChange:a=>A(s=>({...s,jenis_jabatan_id:a})),children:[e.jsx(Le,{children:e.jsx(Ue,{placeholder:"Pilih jenis jabatan"})}),e.jsx(Ve,{children:ha.map(a=>e.jsx($e,{value:a.id.toString(),children:a.jenis_jabatan},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"config-name",children:"Nama Konfigurasi"}),e.jsx(k,{id:"config-name",value:h.name,onChange:a=>A(s=>({...s,name:a.target.value})),placeholder:"Contoh: Konfigurasi Guru"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"config-description",children:"Deskripsi"}),e.jsx(Je,{id:"config-description",value:h.description,onChange:a=>A(s=>({...s,description:a.target.value})),placeholder:"Deskripsi konfigurasi file wajib",rows:3})]})]})]}),e.jsxs(Ne,{children:[e.jsx(g,{variant:"outline",onClick:()=>Z(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-200 hover:text-gray-900",children:"Batal"}),e.jsx(g,{onClick:Sa,disabled:De,className:"bg-green-600 hover:bg-green-700 text-white",children:De?"Menyimpan...":le?"Update":"Simpan"})]})]})})]})};export{Ya as default};
//# sourceMappingURL=Settings-CLj7ousx.js.map
