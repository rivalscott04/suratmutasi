{"version":3,"mappings":"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","names":["m","require$$0","createRoot","createTooltipContext","createTooltipScope","createContextScope","createPopperScope","usePopperScope","PROVIDER_NAME","DEFAULT_DELAY_DURATION","TOOLTIP_OPEN","TooltipProviderContextProvider","useTooltipProviderContext","TooltipProvider","props","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","children","isOpenDelayedRef","React.useRef","isPointerInTransitRef","skipDelayTimerRef","React.useEffect","skipDelayTimer","jsx","React.useCallback","inTransit","TOOLTIP_NAME","TooltipContextProvider","useTooltipContext","TRIGGER_NAME","TooltipTrigger","React.forwardRef","forwardedRef","triggerProps","context","providerContext","popperScope","ref","composedRefs","useComposedRefs","isPointerDownRef","hasPointerMoveOpenedRef","handlePointerUp","PopperPrimitive.Anchor","Primitive","composeEventHandlers","event","PORTAL_NAME","PortalProvider","usePortalContext","CONTENT_NAME","TooltipContent","portalContext","forceMount","side","contentProps","Presence","TooltipContentImpl","TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","React.useState","trigger","onClose","content","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","currentTarget","exitPoint","exitSide","getExitSideFromRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","target","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","isPointInPolygon","VisuallyHiddenContentContextProvider","useVisuallyHiddenContentContext","Slottable","createSlottable","ariaLabel","onEscapeKeyDown","onPointerDownOutside","handleScroll","DismissableLayer","jsxs","PopperPrimitive.Content","VisuallyHiddenPrimitive.Root","ARROW_NAME","TooltipArrow","arrowProps","PopperPrimitive.Arrow","point","rect","top","bottom","right","left","padding","polygon","x","y","inside","j","ii","jj","xi","yi","xj","yj","points","newPoints","a","b","getHullPresorted","upperHull","i","p","q","r","lowerHull","Provider","Content2","cn","inputs","twMerge","clsx","generateUrl","path","formatTanggalIndonesia","tanggal","bulanIndo","d","formatKabKota","str","s","TooltipPrimitive.Provider","className","sideOffset","TooltipPrimitive.Content","Subscribable","listener","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","aItemsSet","equalItems","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","_a","__privateAdd","_focused","_cleanup","_setup","__privateSet","onFocus","__privateGet","setup","focused","isFocused","focusManager","OnlineManager","_online","onOnline","onlineListener","offlineListener","online","onlineManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","config","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","error","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","retry","retryDelay","delay","shouldRetry","defaultScheduler","cb","createNotifyManager","queue","transactions","notifyFn","callback","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","Removable","_gcTimeout","newGcTime","Query","_Query_instances","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","getDefaultState","newData","__privateMethod","dispatch_fn","state","setStateOptions","promise","_b","observer","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context2","_c","_d","_f","_e","_h","_g","_j","_i","_l","_k","action","reducer","fetchState","newState","hasData","initialDataUpdatedAt","QueryCache","_queries","client","queryHash","queryInMap","defaultedFilters","queries","Mutation","_Mutation_instances","_observers","_mutationCache","variables","onContinue","restored","isPaused","_n","_m","_p","_o","_r","_q","_t","_s","MutationCache","_mutations","_scopes","_mutationId","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","foundMutation","pausedMutations","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","getBaseUrl","apiFetch","method","url","token","headers","fullUrl","res","contentType","responseData","refreshRes","refreshData","err","errorMessage","apiGet","apiPost","apiPut","apiDelete","AuthContext","createContext","AuthProvider","user","setUser","useState","originalUser","setOriginalUser","setToken","originalToken","setOriginalToken","loading","setLoading","useEffect","newToken","storedToken","storedOriginalToken","storedOriginalUser","logout","login","email","password","refreshUser","updateToken","impersonateUser","userId","isAdminKanwil","stopImpersonating","isImpersonating","useAuth","useContext","buttonVariants","cva","Button","variant","size","asChild","Comp","Slot","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","ChevronRight","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogClose","DialogPrimitive.Close","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","X","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","React","is","objectIs","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useIsHydrated","useSyncExternalStore","AVATAR_NAME","createAvatarContext","createAvatarScope","AvatarProvider","useAvatarContext","Avatar","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","timerId","resolveLoadingStatus","image","referrerPolicy","crossOrigin","isHydrated","imageRef","loadingStatus","setLoadingStatus","updateStatus","handleLoad","handleError","Root","Image","Fallback","AvatarPrimitive.Root","AvatarPrimitive.Image","AvatarPrimitive.Fallback","Input","badgeVariants","Badge","NavigationBar","location","useLocation","isMobileMenuOpen","setIsMobileMenuOpen","showLogoutModal","setShowLogoutModal","showImpersonateModal","setShowImpersonateModal","showStopImpersonateModal","setShowStopImpersonateModal","showStopSuccessModal","setShowStopSuccessModal","selectedUser","setSelectedUser","availableUsers","setAvailableUsers","loadingUsers","setLoadingUsers","showUserSelectionModal","setShowUserSelectionModal","userSearchTerm","setUserSearchTerm","navigationItems","isAdmin","isAdminWilayah","isUser","Home","FileText","Upload","UserCog","Settings","fetchAvailableUsers","response","filteredUsers","u","handleLogoutClick","handleLogoutConfirm","handleImpersonateClick","handleUserSelection","handleImpersonateConfirm","handleStopImpersonatingClick","handleStopImpersonatingConfirm","Fragment","Link","e","UserCheck","UserX","Icon","n","Users","LogOut","Menu","AlertTriangle","Search","Loader2","User","selectedUserData","ArrowLeft","CheckCircle","Skeleton","TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","dispatch","t","toast","listeners","memoryState","id","update","dismiss","open","useToast","setState","ToastProvider","ToastPrimitives.Provider","ToastViewport","ToastPrimitives.Viewport","toastVariants","Toast","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","Toaster","toasts","title","description","AppLayout","showOfficeModal","setShowOfficeModal","offices","setOffices","ErrorBoundary","Component","__publicField","errorInfo","Dashboard","lazy","TemplateSelection","TemplateForm","NotFound","Index","LetterDetail","Letters","LetterPrintPreview","PengajuanSelect","PengajuanFileUpload","PengajuanIndex","PengajuanDetail","PengajuanEdit","JobTypeConfiguration","AdminWilayahDashboard","AdminWilayahUploadPage","SKForm","PageLoading","queryClient","ProtectedRoute","Navigate","AdminRoute","AdminOperatorRoute","AdminOrUserRoute","AdminWilayahRoute","AppRoutes","Routes","Route","Suspense","AppInner","showSessionExpiredModal","setShowSessionExpiredModal","navigate","useNavigate","currentPath","handleGlobalError","handleUnhandledRejection","originalFetch","Lock","App","BrowserRouter","_args"],"ignoreList":[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,24,25,26,27],"sources":["../../node_modules/react-dom/client.js","../../node_modules/@radix-ui/react-tooltip/dist/index.mjs","../../src/lib/utils.ts","../../src/components/ui/tooltip.tsx","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../src/lib/api.ts","../../src/contexts/AuthContext.tsx","../../src/components/ui/button.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/dialog.tsx","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs","../../node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/components/ui/avatar.tsx","../../src/components/ui/input.tsx","../../src/components/ui/badge.tsx","../../src/components/NavigationBar.tsx","../../src/components/ui/skeleton.tsx","../../src/hooks/use-toast.ts","../../src/components/ui/toast.tsx","../../src/components/ui/toaster.tsx","../../src/components/AppLayout.tsx","../../src/components/ErrorBoundary.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","\"use client\";\n\n// src/tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n// Helper function to generate URLs that respect the basename\r\nexport function generateUrl(path: string) {\r\n  const basename = import.meta.env.MODE === 'production' ? '/FE' : '';\r\n  return `${basename}${path}`;\r\n}\r\n\r\n// Fungsi untuk mengkonversi tanggal ke format Indonesia dengan nama bulan\r\nexport function formatTanggalIndonesia(tanggal: string) {\r\n  if (!tanggal) return '';\r\n  const bulanIndo = [\r\n    '', 'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',\r\n    'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'\r\n  ];\r\n  let d, m, y;\r\n  if (/\\d{4}-\\d{2}-\\d{2}/.test(tanggal)) {\r\n    // yyyy-mm-dd\r\n    [y, m, d] = tanggal.split('-');\r\n    return `${parseInt(d, 10)} ${bulanIndo[parseInt(m, 10)]} ${y}`;\r\n  } else if (/\\d{2}-\\d{2}-\\d{4}/.test(tanggal)) {\r\n    // dd-mm-yyyy\r\n    [d, m, y] = tanggal.split('-');\r\n    return `${parseInt(d, 10)} ${bulanIndo[parseInt(m, 10)]} ${y}`;\r\n  } else {\r\n    return tanggal;\r\n  }\r\n}\r\n\r\n\r\n\r\n// Format nama kabupaten/kota agar rapi (Kota Mataram, Kabupaten Lombok Timur)\r\nexport function formatKabKota(str: string): string {\r\n  if (!str) return '';\r\n  return str\r\n    .toLowerCase()\r\n    .replace(/^(kota|kabupaten)/, (m) => m.charAt(0).toUpperCase() + m.slice(1))\r\n    .replace(/(^| )([a-z])/g, (s) => s.toUpperCase());\r\n}\r\n\r\nexport function getKanwilSettings() {\r\n  try {\r\n    const savedSettings = localStorage.getItem('kanwilSettings');\r\n    if (savedSettings) {\r\n      const parsed = JSON.parse(savedSettings);\r\n      return {\r\n        tingkat1: parsed.tingkat1 || 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\r\n        tingkat2: parsed.tingkat2 || 'KANTOR WILAYAH KEMENTERIAN AGAMA',\r\n        tingkat3: parsed.tingkat3 || 'PROVINSI NUSA TENGGARA BARAT',\r\n        alamat: parsed.alamat || '',\r\n        telepon: parsed.telepon || '',\r\n        fax: parsed.fax || '',\r\n        email: parsed.email || '',\r\n        website: parsed.website || ''\r\n      };\r\n    }\r\n  } catch (err) {\r\n    console.error('Error parsing kanwil settings:', err);\r\n  }\r\n\r\n  // Default values if no settings found\r\n  return {\r\n    tingkat1: 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\r\n    tingkat2: 'KANTOR WILAYAH KEMENTERIAN AGAMA',\r\n    tingkat3: 'PROVINSI NUSA TENGGARA BARAT',\r\n    alamat: '',\r\n    telepon: '',\r\n    fax: '',\r\n    email: '',\r\n    website: ''\r\n  };\r\n}\r\n\r\n// Role-based permission utilities\r\nexport const canCreate = (userRole: string): boolean => {\r\n  return ['admin', 'operator'].includes(userRole);\r\n};\r\n\r\nexport const canEdit = (userRole: string): boolean => {\r\n  return ['admin', 'operator'].includes(userRole);\r\n};\r\n\r\nexport const canDelete = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const canManageUsers = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const canManageSettings = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const isViewOnly = (userRole: string): boolean => {\r\n  return userRole === 'user';\r\n};\r\n","import * as React from \"react\"\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst TooltipProvider = TooltipPrimitive.Provider\r\n\r\nconst Tooltip = TooltipPrimitive.Root\r\n\r\nconst TooltipTrigger = TooltipPrimitive.Trigger\r\n\r\nconst TooltipContent = React.forwardRef<\r\n  React.ElementRef<typeof TooltipPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <TooltipPrimitive.Content\r\n    ref={ref}\r\n    sideOffset={sideOffset}\r\n    className={cn(\r\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    const aItemsSet = new Set(aItems);\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if ((!array && aItemsSet.has(key) || array) && a[key] === void 0 && b[key] === void 0) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/notifyManager.ts\nvar defaultScheduler = (cb) => setTimeout(cb, 0);\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","// Helper API untuk request ke backend dengan JWT\nimport { useAuth } from '@/contexts/AuthContext';\n\n// Environment configuration - simplified\nconst getBaseUrl = () => {\n  // Use environment variable if available, otherwise detect based on hostname\n  const apiUrl = import.meta.env.VITE_API_URL;\n  \n  if (apiUrl) {\n    return apiUrl;\n  }\n  \n  // Fallback: detect based on hostname\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:3001';\n  }\n\n  // Production default: use same-origin with relative path (to be reverse-proxied, e.g., /api)\n  // This avoids mixed content when the app is served over HTTPS\n  return '';\n};\n\n// Get current environment for logging\nconst getCurrentEnvironment = () => {\n  const apiUrl = import.meta.env.VITE_API_URL;\n  \n  if (apiUrl) {\n    return apiUrl.includes('localhost') ? 'development' : 'production';\n  }\n  \n  return window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' \n    ? 'development' \n    : 'production';\n};\n\nexport async function apiFetch(method: string, url: string, options: { data?: any; token?: string; headers?: any } = {}) {\n  const { data, token, headers = {} } = options;\n  \n  const fullUrl = getBaseUrl() + url;\n  const fetchOptions: RequestInit = {\n    method,\n    headers: {\n      ...headers,\n    },\n    credentials: 'include', // penting agar cookie refresh token dikirim\n  };\n\n  if (token) {\n    fetchOptions.headers = {\n      ...fetchOptions.headers,\n      Authorization: `Bearer ${token}`,\n    };\n  }\n\n  if (data) {\n    // Jika data adalah FormData, biarkan browser set Content-Type boundary otomatis\n    if (typeof FormData !== 'undefined' && data instanceof FormData) {\n      fetchOptions.body = data as any;\n    } else {\n      fetchOptions.headers = {\n        'Content-Type': 'application/json',\n        ...fetchOptions.headers,\n      };\n      fetchOptions.body = JSON.stringify(data);\n    }\n  }\n\n  let res = await fetch(fullUrl, fetchOptions);\n  let contentType = res.headers.get('content-type');\n  let responseData;\n\n  if (contentType && contentType.includes('application/json')) {\n    responseData = await res.json();\n  } else {\n    responseData = await res.text();\n  }\n  \n  // Handle authentication errors (401) and authorization errors (403) that might indicate session expiry\n  // Hanya handle jika bukan endpoint auth dan bukan request yang sudah di-retry\n  if ((res.status === 401 || res.status === 403) && \n      url !== '/api/auth/refresh' && \n      url !== '/api/auth/me' && // Jangan retry /api/auth/me untuk mencegah infinite loop\n      !url.includes('/api/auth/')) {\n    \n    try {\n      // Tambah delay kecil untuk mencegah race condition\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      const refreshRes = await fetch(getBaseUrl() + '/api/auth/refresh', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      \n      if (refreshRes.ok) {\n        const refreshData = await refreshRes.json();\n        if (refreshData.token) {\n          localStorage.setItem('token', refreshData.token);\n          // Update AuthContext jika ada\n          if (window.dispatchTokenUpdate) {\n            window.dispatchTokenUpdate(refreshData.token);\n          }\n          // Retry request dengan token baru\n          fetchOptions.headers = {\n            ...fetchOptions.headers,\n            Authorization: `Bearer ${refreshData.token}`,\n          };\n          res = await fetch(fullUrl, fetchOptions);\n          contentType = res.headers.get('content-type');\n          if (contentType && contentType.includes('application/json')) {\n            responseData = await res.json();\n          } else {\n            responseData = await res.text();\n          }\n          if (!res.ok) throw new Error(responseData?.message || res.statusText);\n          return responseData;\n        }\n      }\n      // Jika refresh gagal, trigger modal sesi berakhir global\n      if (window.showSessionExpiredModal) {\n        window.showSessionExpiredModal();\n      }\n      throw new Error('Sesi berakhir, silakan login kembali');\n    } catch (err) {\n      // Pastikan error message konsisten\n      const errorMessage = err instanceof Error ? err.message : 'Sesi berakhir, silakan login kembali';\n      if (window.showSessionExpiredModal) {\n        window.showSessionExpiredModal();\n      }\n      throw new Error(errorMessage);\n    }\n  }\n  \n  if (!res.ok) {\n    throw new Error(responseData?.message || res.statusText);\n  }\n  return responseData;\n}\n\nexport const apiGet = (url: string, token?: string, headers?: any) => apiFetch('GET', url, { token, headers });\nexport const apiPost = (url: string, data?: any, token?: string, headers?: any) => apiFetch('POST', url, { data, token, headers });\nexport const apiPut = (url: string, data?: any, token?: string, headers?: any) => apiFetch('PUT', url, { data, token, headers });\nexport const apiDelete = (url: string, token?: string, headers?: any) => apiFetch('DELETE', url, { token, headers }); ","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { apiPost, apiGet } from '../lib/api';\n\ninterface User {\n  id: string;\n  email: string;\n  full_name: string;\n  role: 'admin' | 'operator' | 'user' | 'admin_wilayah';\n  office_id?: string | null;\n  wilayah?: string | null;\n  kabkota?: string;\n  original_admin_id?: string; // For impersonation tracking\n  impersonating?: boolean;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  originalUser: User | null; // User asli sebelum impersonate\n  token: string | null;\n  loading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => void;\n  refreshUser: () => Promise<void>;\n  isAuthenticated: boolean;\n  isImpersonating: boolean;\n  isAdminKanwil: boolean; // Admin kanwil yang bisa impersonate\n  impersonateUser: (userId: string) => Promise<void>;\n  stopImpersonating: () => Promise<void>;\n  updateToken: (newToken: string) => void;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [originalUser, setOriginalUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [originalToken, setOriginalToken] = useState<string | null>(null); // token admin asli\n  const [loading, setLoading] = useState(true);\n\n  // Setup window functions untuk refresh token\n  useEffect(() => {\n    // Fungsi untuk update token dari API layer\n    window.dispatchTokenUpdate = (newToken: string) => {\n      setToken(newToken);\n      localStorage.setItem('token', newToken);\n    };\n\n    return () => {\n      delete window.dispatchTokenUpdate;\n    };\n  }, []);\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem('token');\n    const storedOriginalToken = localStorage.getItem('originalToken');\n    const storedOriginalUser = localStorage.getItem('originalUser');\n    \n    if (storedToken) {\n      setToken(storedToken);\n      \n      // Restore original token and user if they exist (for impersonation)\n      if (storedOriginalToken && storedOriginalUser) {\n        try {\n          setOriginalToken(storedOriginalToken);\n          setOriginalUser(JSON.parse(storedOriginalUser));\n        } catch (error) {\n          console.error('Error parsing stored original user:', error);\n          // Clear invalid stored data\n          localStorage.removeItem('originalToken');\n          localStorage.removeItem('originalUser');\n        }\n      }\n      \n      // Fetch user data with better error handling\n      apiGet('/api/auth/me', storedToken)\n        .then((res) => {\n          setUser(res.user);\n          // Jika user sudah login dan tidak ada originalUser, set originalUser\n          if (!originalUser && !storedOriginalUser) {\n            setOriginalUser(res.user);\n          }\n        })\n        .catch((error) => {\n          console.error('Error fetching user:', error);\n          // Don't logout immediately, let the global error handler deal with it\n          // Only logout if it's a clear authentication error\n          if (error.message?.includes('Sesi berakhir') || error.message?.includes('Unauthorized')) {\n            logout();\n          }\n        })\n        .finally(() => setLoading(false));\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    setLoading(true);\n    try {\n      const res = await apiPost('/api/auth/login', { email, password });\n      setToken(res.token);\n      setUser(res.user);\n      setOriginalUser(res.user); // Set original user saat login\n      setOriginalToken(null); // Reset impersonate\n      localStorage.setItem('token', res.token);\n      \n      // Clean up impersonation data from localStorage\n      localStorage.removeItem('originalToken');\n      localStorage.removeItem('originalUser');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logout = () => {\n    setToken(null);\n    setUser(null);\n    setOriginalUser(null);\n    setOriginalToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('originalToken');\n    localStorage.removeItem('originalUser');\n  };\n\n  const refreshUser = async () => {\n    if (!token) return;\n    setLoading(true);\n    try {\n      const res = await apiGet('/api/auth/me', token);\n      setUser(res.user);\n      // Jangan update originalUser saat refresh\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fungsi untuk update token (dipanggil dari API layer)\n  const updateToken = (newToken: string) => {\n    setToken(newToken);\n    localStorage.setItem('token', newToken);\n  };\n\n  // Impersonate: request token baru ke backend, simpan token admin asli, set token impersonate\n  const impersonateUser = async (userId: string) => {\n    if (!token || !isAdminKanwil) {\n      throw new Error('Only admin kanwil can impersonate');\n    }\n    setLoading(true);\n    try {\n      // Simpan token admin asli jika belum\n      if (!originalToken) {\n        setOriginalToken(token);\n        localStorage.setItem('originalToken', token);\n      }\n      \n      // Simpan original user jika belum\n      if (!originalUser) {\n        setOriginalUser(user);\n        localStorage.setItem('originalUser', JSON.stringify(user));\n      }\n      \n      const res = await apiPost('/api/auth/impersonate', { userId }, token);\n      setToken(res.token);\n      setUser(res.user);\n      localStorage.setItem('token', res.token);\n      \n      console.log('Impersonation started:', res.impersonation);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Stop impersonate: call backend then restore token admin asli\n  const stopImpersonating = async () => {\n    if (!token || (!user?.impersonating && !originalToken)) {\n      console.log('No impersonation to stop:', { \n        hasToken: !!token, \n        userImpersonating: user?.impersonating, \n        hasOriginalToken: !!originalToken \n      });\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      console.log('Stopping impersonation...');\n      // Call backend to stop impersonation\n      const res = await apiPost('/api/auth/stop-impersonate', {}, token);\n      \n      // Restore admin token\n      setToken(res.token);\n      setUser(res.user);\n      setOriginalToken(null);\n      localStorage.setItem('token', res.token);\n      \n      // Clean up localStorage\n      localStorage.removeItem('originalToken');\n      localStorage.removeItem('originalUser');\n      \n      console.log('Impersonation stopped successfully');\n    } catch (error) {\n      console.error('Error stopping impersonation:', error);\n      // Fallback: restore from stored token\n      if (originalToken && originalUser) {\n        console.log('Using fallback restore');\n        setToken(originalToken);\n        setUser(originalUser);\n        setOriginalToken(null);\n        localStorage.setItem('token', originalToken);\n        \n        // Clean up localStorage\n        localStorage.removeItem('originalToken');\n        localStorage.removeItem('originalUser');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n    const isImpersonating = !!originalToken || !!user?.impersonating;\n  const isAdminKanwil = user?.role === 'admin' && user?.office_id === null;\n\n  return (\n    <AuthContext.Provider value={{ \n      user, \n      originalUser,\n      token,\n      loading,\n      login,\n      logout,\n      refreshUser,\n      isAuthenticated: !!user && !!token,\n      isImpersonating,\n      isAdminKanwil,\n      impersonateUser,\n      stopImpersonating,\n      updateToken\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n\n// Extend Window interface untuk TypeScript\ndeclare global {\n  interface Window {\n    dispatchTokenUpdate?: (token: string) => void;\n  }\n}\n","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}\r\n","import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-[9999] bg-black/20 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 duration-200\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-[10000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}\r\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","// src/use-is-hydrated.tsx\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction useIsHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  useIsHydrated\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useIsHydrated } from \"@radix-ui/react-use-is-hydrated\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n","import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n","import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { apiGet } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { \n  Home, \n  FileText, \n  Settings, \n  LogOut, \n  Menu, \n  X,\n  AlertTriangle,\n  UserCheck,\n  Users,\n  UserX,\n  Loader2,\n  UserCog,\n  Upload,\n  CheckCircle,\n  Search,\n  ArrowLeft,\n  User\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\n\n\ninterface User {\n  id: string;\n  email: string;\n  full_name: string;\n  role: 'admin' | 'operator' | 'user';\n  office_id?: string;\n}\n\nconst NavigationBar = () => {\n  const { user, originalUser, isImpersonating, impersonateUser, stopImpersonating, logout, token, loading, isAdminKanwil } = useAuth();\n  const location = useLocation();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n  const [showImpersonateModal, setShowImpersonateModal] = useState(false);\n  const [showStopImpersonateModal, setShowStopImpersonateModal] = useState(false);\n  const [showStopSuccessModal, setShowStopSuccessModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [availableUsers, setAvailableUsers] = useState<User[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [showUserSelectionModal, setShowUserSelectionModal] = useState(false);\n  const [userSearchTerm, setUserSearchTerm] = useState('');\n\n\n  // Navigation items berdasarkan role\n  const getNavigationItems = () => {\n    const isAdmin = isImpersonating ? originalUser?.role === 'admin' : user?.role === 'admin';\n    // Saat impersonate, gunakan role user yang sedang diimpersonate untuk menentukan menu yang tampil\n    const isAdminWilayah = user?.role === 'admin_wilayah';\n    const isUser = user?.role === 'user';\n    const isOperator = user?.role === 'operator';\n\n    // Base menu untuk semua role selain user biasa\n    const items = [\n      { name: 'Dashboard', href: '/dashboard', icon: Home },\n      { name: 'Template Generator', href: '/generator', icon: FileText },\n      { name: 'Riwayat Surat', href: '/letters', icon: FileText },\n      { name: 'Data Pengajuan', href: '/pengajuan', icon: Upload },\n    ];\n\n    // SK Generator hanya untuk user dan admin (bukan operator dan admin_wilayah)\n    if (isUser || isAdmin) {\n      items.splice(2, 0, { name: 'SK Generator', href: '/generator/sk', icon: FileText });\n    }\n\n    if (isAdmin) {\n      items.push({ name: 'Management User', href: '/users', icon: UserCog });\n    }\n\n    // Tambahkan menu khusus admin wilayah DI ATAS base menu (biarkan ada 2 dashboard bila dibutuhkan)\n    if (isAdminWilayah) {\n      items.unshift({ name: 'Dashboard Admin Wilayah', href: '/admin-wilayah/dashboard', icon: Home });\n      // Menu Upload File diarahkan ke dashboard untuk memilih pengajuan terlebih dahulu\n      items.push({ name: 'Upload File', href: '/admin-wilayah/dashboard', icon: Upload });\n    }\n\n    items.push({ name: 'Settings', href: '/settings', icon: Settings });\n\n    return items;\n  };\n\n  const navigationItems = getNavigationItems();\n\n  // Fetch available users untuk impersonate\n  useEffect(() => {\n    if (showUserSelectionModal && isAdminKanwil) {\n      fetchAvailableUsers();\n    }\n  }, [showUserSelectionModal, isAdminKanwil]);\n\n  const fetchAvailableUsers = async () => {\n    if (!token) return;\n    \n    setLoadingUsers(true);\n    try {\n      console.log(' Fetching users for impersonation...');\n      const response = await apiGet('/api/users', token);\n      console.log(' Raw users response:', response);\n      \n      // Filter out current user dan admin lain\n      const filteredUsers = response.users.filter((u: User) => \n        u.id !== originalUser?.id && u.role !== 'admin'\n      );\n      console.log(' Filtered users:', filteredUsers);\n      setAvailableUsers(filteredUsers);\n    } catch (error) {\n      console.error(' Failed to fetch users:', error);\n      setAvailableUsers([]);\n    } finally {\n      setLoadingUsers(false);\n    }\n  };\n\n  // Deteksi active, support /letters dan /letters/:id, serta /pengajuan dan /pengajuan/:id\n  const isActive = (path: string) => {\n    if (path === '/letters') {\n      return location.pathname.startsWith('/letters');\n    }\n    if (path === '/pengajuan') {\n      return location.pathname.startsWith('/pengajuan');\n    }\n    return location.pathname === path;\n  };\n\n  const handleLogoutClick = () => {\n    setShowLogoutModal(true);\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleLogoutConfirm = () => {\n    logout();\n    setShowLogoutModal(false);\n  };\n\n  const handleImpersonateClick = () => {\n    setShowUserSelectionModal(true); // Buka modal selection dulu\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleUserSelection = (userId: string) => {\n    setSelectedUser(userId);\n    setShowUserSelectionModal(false);\n    setShowImpersonateModal(true);\n  };\n\n  const filteredUsers = availableUsers.filter(user =>\n    user.full_name.toLowerCase().includes(userSearchTerm.toLowerCase()) ||\n    user.email.toLowerCase().includes(userSearchTerm.toLowerCase())\n  );\n\n  const handleImpersonateConfirm = async () => {\n    if (selectedUser) {\n      try {\n        await impersonateUser(selectedUser);\n        setShowImpersonateModal(false);\n        setSelectedUser('');\n      } catch (error) {\n        console.error('Failed to impersonate user:', error);\n        alert('Failed to impersonate user. Please try again.');\n      }\n    }\n  };\n\n  const handleStopImpersonatingClick = () => {\n    setShowStopImpersonateModal(true);\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleStopImpersonatingConfirm = async () => {\n    try {\n      await stopImpersonating();\n      setShowStopImpersonateModal(false);\n      setShowStopSuccessModal(true);\n      \n      // Auto close success modal after 3 seconds\n      setTimeout(() => {\n        setShowStopSuccessModal(false);\n      }, 3000);\n    } catch (error) {\n      console.error('Failed to stop impersonating:', error);\n      alert('Failed to stop impersonating. Please try again.');\n    }\n  };\n\n  return (\n    <>\n      <nav className=\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo and Brand */}\n            <div className=\"flex items-center\">\n              <Link to=\"/dashboard\" className=\"flex items-center space-x-3\">\n                <img \n                  src=\"/FE/logo-kemenag.png\"\n                  alt=\"Kementerian Agama\" \n                  className=\"h-8 w-8\"\n                  onError={(e) => {\n                    console.error('Logo Kemenag not found');\n                    e.currentTarget.style.display = 'none';\n                  }}\n                />\n                <div className=\"hidden sm:block\">\n                  <h1 className=\"text-lg font-semibold text-green-700\">\n                    Si Imut\n                  </h1>\n                  <p className=\"text-xs text-gray-600\">\n                    Sistem Informasi Mutasi\n                  </p>\n                </div>\n              </Link>\n            </div>\n\n            {/* Impersonate Indicator */}\n            {isImpersonating && (\n              <div className=\"hidden md:flex items-center bg-blue-50 border border-blue-200 rounded-lg px-3 py-1\">\n                <UserCheck className=\"w-4 h-4 text-blue-600 mr-2\" />\n                <span className=\"text-sm text-blue-700\">\n                  Impersonating: {user?.full_name}\n                </span>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={handleStopImpersonatingClick}\n                  className=\"ml-2 h-6 px-2 text-blue-600 hover:text-blue-700\"\n                >\n                  <UserX className=\"w-3 h-3\" />\n                </Button>\n              </div>\n            )}\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden md:flex items-center space-x-8\">\n              {navigationItems.map((item) => {\n                const Icon = item.icon;\n                return (\n                  <Link\n                    key={item.name}\n                    to={item.href}\n                    className={cn(\n                      \"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n                      isActive(item.href)\n                        ? \"bg-green-100 text-green-700\"\n                        : \"text-gray-600 hover:text-green-700 hover:bg-green-50\"\n                    )}\n                  >\n                    <Icon className=\"h-4 w-4\" />\n                    <span>{item.name}</span>\n                  </Link>\n                );\n              })}\n              \n\n            </div>\n\n            {/* User Menu */}\n            <div className=\"flex items-center space-x-4\">\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarFallback className=\"bg-green-100 text-green-700\">\n                        {loading ? (\n                          <span className=\"animate-pulse w-6 h-6 block bg-green-200 rounded-full mx-auto\" />\n                        ) : user?.full_name ? (\n                          user.full_name.split(' ').map(n => n[0]).join('').toUpperCase()\n                        ) : (\n                          '?'\n                        )}\n                      </AvatarFallback>\n                    </Avatar>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent className=\"w-64\" align=\"end\">\n                  <DropdownMenuLabel className=\"font-normal\">\n                    <div className=\"flex flex-col space-y-1\">\n                      <p className=\"text-sm font-semibold leading-none\">{user?.full_name}</p>\n                      <p className=\"text-xs leading-none text-muted-foreground\">{user?.email}</p>\n                      {isAdminKanwil ? (\n                        <p className=\"text-xs leading-none text-blue-600 font-medium\">\n                           Admin Kanwil (All Access)\n                        </p>\n                      ) : (\n                        <p className=\"text-xs leading-none text-gray-500\">Role: {user?.role}</p>\n                      )}\n                      {user?.office_id && !isAdminKanwil && <p className=\"text-xs leading-none text-gray-500\">Office ID: {user.office_id}</p>}\n                      {isImpersonating && (\n                        <p className=\"text-xs leading-none text-blue-600\">\n                          Impersonating as {user?.full_name}\n                        </p>\n                      )}\n                    </div>\n                  </DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  {/* Stop Impersonating option */}\n                  {isImpersonating && (\n                    <>\n                      <DropdownMenuItem onClick={handleStopImpersonatingClick} className=\"text-blue-600\">\n                        <UserX className=\"mr-2 h-4 w-4\" />\n                        <span>Stop Impersonating</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                    </>\n                  )}\n                  {/* Impersonate option hanya untuk admin kanwil */}\n                  {isAdminKanwil && !isImpersonating && (\n                    <>\n                      <DropdownMenuItem onClick={handleImpersonateClick} className=\"text-blue-600\">\n                        <Users className=\"mr-2 h-4 w-4\" />\n                        <span>Impersonate User</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                    </>\n                  )}\n                  <DropdownMenuItem onClick={handleLogoutClick} className=\"text-red-600\">\n                    <LogOut className=\"mr-2 h-4 w-4\" />\n                    <span>Logout</span>\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              {/* Mobile menu button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"md:hidden\"\n                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n              >\n                {isMobileMenuOpen ? (\n                  <X className=\"h-5 w-5\" />\n                ) : (\n                  <Menu className=\"h-5 w-5\" />\n                )}\n              </Button>\n            </div>\n          </div>\n\n          {/* Mobile Navigation */}\n          {isMobileMenuOpen && (\n            <div className=\"md:hidden\">\n              <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t\">\n\n                \n                {navigationItems.map((item) => {\n                  const Icon = item.icon;\n                  return (\n                    <Link\n                      key={item.name}\n                      to={item.href}\n                      className={cn(\n                        \"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium\",\n                        isActive(item.href)\n                          ? \"bg-green-100 text-green-700\"\n                          : \"text-gray-600 hover:text-green-700 hover:bg-green-50\"\n                      )}\n                      onClick={() => setIsMobileMenuOpen(false)}\n                    >\n                      <Icon className=\"h-5 w-5\" />\n                      <span>{item.name}</span>\n                    </Link>\n                  );\n                })}\n                {/* Stop Impersonating option untuk mobile */}\n                {isImpersonating && (\n                  <button\n                    onClick={handleStopImpersonatingClick}\n                    className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 w-full\"\n                  >\n                    <UserX className=\"h-5 w-5\" />\n                    <span>Stop Impersonating</span>\n                  </button>\n                )}\n                {/* Impersonate option untuk mobile */}\n                {isAdminKanwil && !isImpersonating && (\n                  <button\n                    onClick={handleImpersonateClick}\n                    className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 w-full\"\n                  >\n                    <Users className=\"h-5 w-5\" />\n                    <span>Impersonate User</span>\n                  </button>\n                )}\n                <button\n                  onClick={handleLogoutClick}\n                  className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 w-full\"\n                >\n                  <LogOut className=\"h-5 w-5\" />\n                  <span>Logout</span>\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* Logout Confirmation Modal */}\n      <Dialog open={showLogoutModal} onOpenChange={setShowLogoutModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"w-5 h-5 text-orange-500\" />\n              Konfirmasi Logout\n            </DialogTitle>\n            <DialogDescription>\n              Apakah Anda yakin ingin keluar dari sistem? Anda perlu login kembali untuk mengakses aplikasi.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowLogoutModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleLogoutConfirm}\n              className=\"bg-red-600 hover:bg-red-700 text-white\"\n            >\n              Logout\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* User Selection Modal */}\n      <Dialog open={showUserSelectionModal} onOpenChange={setShowUserSelectionModal}>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserCheck className=\"w-5 h-5 text-blue-500\" />\n              Pilih User untuk Impersonate\n            </DialogTitle>\n            <DialogDescription>\n              Pilih user yang ingin Anda impersonate dari daftar di bawah ini.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {/* Search Input */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <Input\n                placeholder=\"Cari user...\"\n                value={userSearchTerm}\n                onChange={(e) => setUserSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n\n            {/* User List */}\n            <div className=\"max-h-96 overflow-y-auto border rounded-lg\">\n              {loadingUsers ? (\n                <div className=\"flex items-center justify-center py-8\">\n                  <Loader2 className=\"w-6 h-6 animate-spin mr-2\" />\n                  <span className=\"text-sm text-gray-500\">Loading users...</span>\n                </div>\n              ) : availableUsers.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">\n                  Tidak ada user yang tersedia untuk impersonation\n                </div>\n              ) : filteredUsers.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">\n                  Tidak ada user yang cocok dengan pencarian\n                </div>\n              ) : (\n                <div className=\"divide-y\">\n                  {filteredUsers.map((user) => (\n                    <div\n                      key={user.id}\n                      className=\"p-4 hover:bg-gray-50 cursor-pointer transition-colors\"\n                      onClick={() => handleUserSelection(user.id)}\n                    >\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\n                          <User className=\"w-4 h-4 text-blue-600\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"font-medium text-sm\">{user.full_name}</div>\n                          <div className=\"text-xs text-gray-500\">{user.email}</div>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {user.role}\n                            </Badge>\n                            <span className=\"text-xs text-gray-500\">\n                              {user.office_id || 'No Office'}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowUserSelectionModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Impersonate User Modal (Modified) */}\n      <Dialog open={showImpersonateModal} onOpenChange={setShowImpersonateModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserCheck className=\"w-5 h-5 text-blue-500\" />\n              Impersonate User\n            </DialogTitle>\n            <DialogDescription>\n              Konfirmasi untuk impersonate user yang dipilih.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {selectedUser && (\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <User className=\"w-4 h-4 text-blue-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    {(() => {\n                      const selectedUserData = availableUsers.find(u => u.id === selectedUser);\n                      return selectedUserData ? (\n                        <>\n                          <div className=\"font-medium text-sm\">{selectedUserData.full_name}</div>\n                          <div className=\"text-xs text-gray-500\">{selectedUserData.email}</div>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {selectedUserData.role}\n                            </Badge>\n                            <span className=\"text-xs text-gray-500\">\n                              {selectedUserData.office_id || 'No Office'}\n                            </span>\n                          </div>\n                        </>\n                      ) : (\n                        <div className=\"text-sm text-gray-500\">User tidak ditemukan</div>\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            <div className=\"flex items-center justify-center\">\n              <Button \n                onClick={() => {\n                  setShowImpersonateModal(false);\n                  setShowUserSelectionModal(true);\n                }}\n                variant=\"outline\"\n                className=\"w-full\"\n              >\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Pilih User Lain\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowImpersonateModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleImpersonateConfirm}\n              disabled={!selectedUser}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n            >\n              Impersonate\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Stop Impersonate Confirmation Modal */}\n      <Dialog open={showStopImpersonateModal} onOpenChange={setShowStopImpersonateModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserX className=\"w-5 h-5 text-blue-500\" />\n              Stop Impersonating\n            </DialogTitle>\n            <DialogDescription>\n              Anda sedang mengakses sistem sebagai <strong>{user?.full_name}</strong>. \n              Apakah Anda yakin ingin kembali ke akun admin Anda?\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 my-4\">\n            <div className=\"flex items-center\">\n              <UserCheck className=\"w-4 h-4 text-blue-600 mr-2\" />\n              <span className=\"text-sm text-blue-700\">\n                Setelah stop impersonate, Anda akan kembali ke akun: <strong>{originalUser?.full_name}</strong>\n              </span>\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowStopImpersonateModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleStopImpersonatingConfirm}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n            >\n              Ya, Stop Impersonating\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Stop Impersonate Success Modal */}\n      <Dialog open={showStopSuccessModal} onOpenChange={setShowStopSuccessModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-5 h-5 text-green-500\" />\n              Stop Impersonating Berhasil\n            </DialogTitle>\n            <DialogDescription>\n              Anda telah berhasil kembali ke akun admin Anda.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-3 my-4\">\n            <div className=\"flex items-center\">\n              <UserCheck className=\"w-4 h-4 text-green-600 mr-2\" />\n              <span className=\"text-sm text-green-700\">\n                Sekarang Anda mengakses sistem sebagai: <strong>{originalUser?.full_name}</strong>\n              </span>\n            </div>\n          </div>\n          <div className=\"flex justify-end\">\n            <Button \n              onClick={() => setShowStopSuccessModal(false)}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              OK\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default NavigationBar;\n","import { cn } from \"@/lib/utils\"\r\n\r\nfunction Skeleton({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n","import * as React from \"react\"\r\n\r\nimport type {\r\n  ToastActionElement,\r\n  ToastProps,\r\n} from \"@/components/ui/toast\"\r\n\r\nconst TOAST_LIMIT = 1\r\nconst TOAST_REMOVE_DELAY = 1000000\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string\r\n  title?: React.ReactNode\r\n  description?: React.ReactNode\r\n  action?: ToastActionElement\r\n}\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const\r\n\r\nlet count = 0\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\r\n  return count.toString()\r\n}\r\n\r\ntype ActionType = typeof actionTypes\r\n\r\ntype Action =\r\n  | {\r\n      type: ActionType[\"ADD_TOAST\"]\r\n      toast: ToasterToast\r\n    }\r\n  | {\r\n      type: ActionType[\"UPDATE_TOAST\"]\r\n      toast: Partial<ToasterToast>\r\n    }\r\n  | {\r\n      type: ActionType[\"DISMISS_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n  | {\r\n      type: ActionType[\"REMOVE_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n\r\ninterface State {\r\n  toasts: ToasterToast[]\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId)\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    })\r\n  }, TOAST_REMOVE_DELAY)\r\n\r\n  toastTimeouts.set(toastId, timeout)\r\n}\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      }\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      }\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action\r\n\r\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\r\n      // but I'll keep it here for simplicity\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId)\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id)\r\n        })\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t\r\n        ),\r\n      }\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      }\r\n  }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = []\r\n\r\nlet memoryState: State = { toasts: [] }\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action)\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState)\r\n  })\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId()\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    })\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss()\r\n      },\r\n    },\r\n  })\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  }\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState)\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState)\r\n    return () => {\r\n      const index = listeners.indexOf(setState)\r\n      if (index > -1) {\r\n        listeners.splice(index, 1)\r\n      }\r\n    }\r\n  }, [state])\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  }\r\n}\r\n\r\nexport { useToast, toast }\r\n","import * as React from \"react\"\r\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ToastProvider = ToastPrimitives.Provider\r\n\r\nconst ToastViewport = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Viewport\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed top-0 z-[10000] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\r\n\r\nconst toastVariants = cva(\r\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border bg-background text-foreground\",\r\n        destructive:\r\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Toast = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\r\n    VariantProps<typeof toastVariants>\r\n>(({ className, variant, ...props }, ref) => {\r\n  return (\r\n    <ToastPrimitives.Root\r\n      ref={ref}\r\n      className={cn(toastVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nToast.displayName = ToastPrimitives.Root.displayName\r\n\r\nconst ToastAction = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Action>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Action\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nToastAction.displayName = ToastPrimitives.Action.displayName\r\n\r\nconst ToastClose = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Close>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Close\r\n    ref={ref}\r\n    className={cn(\r\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\r\n      className\r\n    )}\r\n    toast-close=\"\"\r\n    {...props}\r\n  >\r\n    <X className=\"h-4 w-4\" />\r\n  </ToastPrimitives.Close>\r\n))\r\nToastClose.displayName = ToastPrimitives.Close.displayName\r\n\r\nconst ToastTitle = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Title>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Title\r\n    ref={ref}\r\n    className={cn(\"text-sm font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastTitle.displayName = ToastPrimitives.Title.displayName\r\n\r\nconst ToastDescription = React.forwardRef<\r\n  React.ElementRef<typeof ToastPrimitives.Description>,\r\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <ToastPrimitives.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm opacity-90\", className)}\r\n    {...props}\r\n  />\r\n))\r\nToastDescription.displayName = ToastPrimitives.Description.displayName\r\n\r\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\r\n\r\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\r\n\r\nexport {\r\n  type ToastProps,\r\n  type ToastActionElement,\r\n  ToastProvider,\r\n  ToastViewport,\r\n  Toast,\r\n  ToastTitle,\r\n  ToastDescription,\r\n  ToastClose,\r\n  ToastAction,\r\n}\r\n","import { useToast } from \"@/hooks/use-toast\"\r\nimport {\r\n  Toast,\r\n  ToastClose,\r\n  ToastDescription,\r\n  ToastProvider,\r\n  ToastTitle,\r\n  ToastViewport,\r\n} from \"@/components/ui/toast\"\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast()\r\n\r\n  return (\r\n    <ToastProvider>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast key={id} {...props}>\r\n            <div className=\"grid gap-1\">\r\n              {title && <ToastTitle>{title}</ToastTitle>}\r\n              {description && (\r\n                <ToastDescription>{description}</ToastDescription>\r\n              )}\r\n            </div>\r\n            {action}\r\n            <ToastClose />\r\n          </Toast>\r\n        )\r\n      })}\r\n      <ToastViewport />\r\n    </ToastProvider>\r\n  )\r\n}\r\n","\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport NavigationBar from './NavigationBar';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';\r\nimport { Select, SelectTrigger, SelectContent, SelectItem, SelectValue } from '@/components/ui/select';\r\nimport { apiGet, apiPut } from '@/lib/api';\r\nimport { Button } from './ui/button';\r\nimport { Toaster } from '@/components/ui/toaster';\r\n\r\ninterface AppLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AppLayout: React.FC<AppLayoutProps> = ({ children }) => {\r\n  const { user, token, refreshUser } = useAuth();\r\n  const [showOfficeModal, setShowOfficeModal] = useState(false);\r\n  const [offices, setOffices] = useState<any[]>([]);\r\n  const [selectedOffice, setSelectedOffice] = useState<string>('');\r\n  const [saving, setSaving] = useState(false);\r\n  const [notif, setNotif] = useState<{ success: boolean; message: string } | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (user && !user.office_id) {\r\n      setShowOfficeModal(true);\r\n      if (token) {\r\n        apiGet('/api/offices', token).then(res => setOffices(res.offices || []));\r\n      }\r\n    } else {\r\n      setShowOfficeModal(false);\r\n    }\r\n  }, [user, token]);\r\n\r\n  const handleSaveOffice = async () => {\r\n    if (!selectedOffice || !user || !token) return;\r\n    setSaving(true);\r\n    try {\r\n      await apiPut(`/api/users/${user.id}/office`, { office_id: selectedOffice }, token);\r\n      await refreshUser();\r\n      setNotif({ success: true, message: 'Kantor berhasil dipilih dan terhubung ke akun Anda.' });\r\n      setShowOfficeModal(false);\r\n    } catch (err: any) {\r\n      setNotif({ success: false, message: 'Gagal menghubungkan kantor: ' + (err.message || 'Terjadi kesalahan.') });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!user && token) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"h-16 bg-white border-b border-gray-200\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex justify-between items-center h-16\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <Skeleton className=\"h-8 w-8 rounded\" />\r\n                <div className=\"space-y-1\">\r\n                  <Skeleton className=\"h-4 w-32\" />\r\n                  <Skeleton className=\"h-3 w-24\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-4\">\r\n                <Skeleton className=\"h-8 w-8 rounded-full\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          <div className=\"space-y-4\">\r\n            <Skeleton className=\"h-8 w-48\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n          </div>\r\n        </div>\r\n        <Toaster />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <NavigationBar />\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {children}\r\n      </main>\r\n      <Toaster />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppLayout;\r\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    // Check if error is related to 403 Forbidden\r\n    if (error.message.includes('403') || error.message.includes('Forbidden')) {\r\n      // Show session expired modal instead of error boundary\r\n      if (window.showSessionExpiredModal) {\r\n        window.showSessionExpiredModal();\r\n      }\r\n      return { hasError: false };\r\n    }\r\n    \r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    // If it's a 403 error, show session expired modal\r\n    if (error.message.includes('403') || error.message.includes('Forbidden')) {\r\n      if (window.showSessionExpiredModal) {\r\n        window.showSessionExpiredModal();\r\n      }\r\n      return;\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n          <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\r\n                <svg className=\"h-6 w-6 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Terjadi Kesalahan</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500\">\r\n                Maaf, terjadi kesalahan yang tidak terduga. Silakan coba refresh halaman atau hubungi administrator.\r\n              </p>\r\n              <div className=\"mt-6\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\r\n                  onClick={() => window.location.reload()}\r\n                >\r\n                  Refresh Halaman\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","\nimport React, { useState, useEffect, Suspense, lazy } from 'react'\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport { AuthProvider, useAuth } from \"@/contexts/AuthContext\";\nimport AppLayout from \"@/components/AppLayout\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport { Lock } from 'lucide-react';\n\n// Lazy load all pages for code splitting\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\nconst Settings = lazy(() => import(\"./pages/Settings\"));\nconst TemplateSelection = lazy(() => import(\"./pages/TemplateSelection\"));\nconst TemplateForm = lazy(() => import(\"./pages/TemplateForm\"));\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\nconst Index = lazy(() => import(\"./pages/Index\"));\nconst LetterDetail = lazy(() => import(\"./pages/LetterDetail\"));\nconst Letters = lazy(() => import(\"./pages/Letters\"));\nconst LetterPrintPreview = lazy(() => import(\"./pages/LetterPrintPreview\"));\nconst Users = lazy(() => import(\"./pages/Users\"));\nconst PengajuanSelect = lazy(() => import(\"./pages/PengajuanSelect\"));\nconst PengajuanFileUpload = lazy(() => import(\"./components/PengajuanFileUpload\"));\nconst PengajuanIndex = lazy(() => import(\"./pages/PengajuanIndex\"));\nconst PengajuanDetail = lazy(() => import(\"./pages/PengajuanDetail\"));\nconst PengajuanEdit = lazy(() => import(\"./pages/PengajuanEdit\"));\nconst JobTypeConfiguration = lazy(() => import(\"./pages/JobTypeConfiguration\"));\nconst AdminWilayahDashboard = lazy(() => import(\"./pages/AdminWilayahDashboard\"));\nconst AdminWilayahUploadPage = lazy(() => import(\"./pages/AdminWilayahUploadPage\"));\nconst SKForm = lazy(() => import(\"./components/SKForm\"));\n\n// Loading component for Suspense fallback\nconst PageLoading = () => (\n  <div className=\"flex items-center justify-center min-h-screen\">\n    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n  </div>\n);\n\nconst queryClient = new QueryClient();\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return null; // AppLayout handles loading state\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || user.role !== 'admin') {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminOperatorRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || (user.role !== 'admin' && user.role !== 'operator' && user.role !== 'admin_wilayah')) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminOrUserRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || (user.role !== 'admin' && user.role !== 'user')) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminWilayahRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || user.role !== 'admin_wilayah') {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AppRoutes = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={\n        <Suspense fallback={<PageLoading />}>\n          <Index />\n        </Suspense>\n      } />\n      <Route path=\"/dashboard\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <Dashboard />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/generator\" element={\n        <AdminOperatorRoute>\n          <Suspense fallback={<PageLoading />}>\n            <TemplateSelection />\n          </Suspense>\n        </AdminOperatorRoute>\n      } />\n      <Route path=\"/generator/create/:templateId\" element={\n        <AdminOperatorRoute>\n          <Suspense fallback={<PageLoading />}>\n            <TemplateForm />\n          </Suspense>\n        </AdminOperatorRoute>\n      } />\n      <Route path=\"/generator/sk\" element={\n        <AdminOrUserRoute>\n          <Suspense fallback={<PageLoading />}>\n            <SKForm />\n          </Suspense>\n        </AdminOrUserRoute>\n      } />\n      <Route path=\"/users\" element={\n        <AdminRoute>\n          <Suspense fallback={<PageLoading />}>\n            <Users />\n          </Suspense>\n        </AdminRoute>\n      } />\n      <Route path=\"/settings\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <Settings />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/letters/:id\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <LetterDetail />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/letters\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <Letters />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/letters/:id/preview\" element={\n        <Suspense fallback={<PageLoading />}>\n          <LetterPrintPreview />\n        </Suspense>\n      } />\n      <Route path=\"/pengajuan\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <PengajuanIndex />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/pengajuan/select\" element={\n        <AdminOperatorRoute>\n          <Suspense fallback={<PageLoading />}>\n            <PengajuanSelect />\n          </Suspense>\n        </AdminOperatorRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId\" element={\n        <ProtectedRoute>\n          <Suspense fallback={<PageLoading />}>\n            <PengajuanDetail />\n          </Suspense>\n        </ProtectedRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId/upload\" element={\n        <AdminOperatorRoute>\n          <Suspense fallback={<PageLoading />}>\n            <PengajuanFileUpload />\n          </Suspense>\n        </AdminOperatorRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId/edit\" element={\n        <AdminOperatorRoute>\n          <Suspense fallback={<PageLoading />}>\n            <PengajuanEdit />\n          </Suspense>\n        </AdminOperatorRoute>\n      } />\n      <Route path=\"/job-type-configuration\" element={\n        <AdminRoute>\n          <Suspense fallback={<PageLoading />}>\n            <JobTypeConfiguration />\n          </Suspense>\n        </AdminRoute>\n      } />\n      \n      {/* Admin Wilayah Routes */}\n      <Route path=\"/admin-wilayah/dashboard\" element={\n        <AdminWilayahRoute>\n          <Suspense fallback={<PageLoading />}>\n            <AdminWilayahDashboard />\n          </Suspense>\n        </AdminWilayahRoute>\n      } />\n      <Route path=\"/admin-wilayah/upload/:pengajuanId\" element={\n        <AdminWilayahRoute>\n          <Suspense fallback={<PageLoading />}>\n            <AdminWilayahUploadPage />\n          </Suspense>\n        </AdminWilayahRoute>\n      } />\n      \n      \n      <Route path=\"*\" element={\n        <Suspense fallback={<PageLoading />}>\n          <NotFound />\n        </Suspense>\n      } />\n    </Routes>\n  );\n};\n\nconst AppInner = () => {\n  const [showSessionExpiredModal, setShowSessionExpiredModal] = useState(false);\n  const navigate = useNavigate();\n  const { logout } = useAuth();\n  \n  // Setup global error handling and session expired modal\n  useEffect(() => {\n    // Setup window functions\n    window.showSessionExpiredModal = () => {\n      // Cek apakah sedang di halaman login\n      const currentPath = window.location.pathname;\n      const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n      \n      // Jika sedang di halaman login, jangan tampilkan modal\n      if (isOnLoginPage) {\n        return;\n      }\n      \n      // Jika di halaman lain, tampilkan modal\n      setShowSessionExpiredModal(true);\n    };\n    \n    window.dispatchTokenUpdate = (token) => {\n      localStorage.setItem('token', token);\n    };\n\n    // Handle global errors\n    const handleGlobalError = (event: ErrorEvent) => {\n      if (event.error && typeof event.error === 'object') {\n        const error = event.error as any;\n        if (error.status === 403 || error.message?.includes('403') || error.message?.includes('Forbidden')) {\n          event.preventDefault();\n          // Check if user is on login page\n          const currentPath = window.location.pathname;\n          const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n          \n          if (!isOnLoginPage && window.showSessionExpiredModal) {\n            window.showSessionExpiredModal();\n          }\n        }\n      }\n    };\n\n    // Handle unhandled promise rejections (fetch errors)\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      if (event.reason && typeof event.reason === 'object') {\n        const error = event.reason as any;\n        if (error.status === 403 || error.message?.includes('403') || error.message?.includes('Forbidden')) {\n          event.preventDefault();\n          // Check if user is on login page\n          const currentPath = window.location.pathname;\n          const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n          \n          if (!isOnLoginPage && window.showSessionExpiredModal) {\n            window.showSessionExpiredModal();\n          }\n        }\n      }\n    };\n\n    // Intercept fetch requests to catch 403 errors\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      try {\n        const response = await originalFetch(...args);\n        \n        // If we get a 403 response, show session expired modal\n        if (response.status === 403) {\n          const url = typeof args[0] === 'string' ? args[0] : (args[0] as Request).url;\n          // Don't intercept auth-related requests\n          if (!url.includes('/api/auth/')) {\n            // Check if user is on login page\n            const currentPath = window.location.pathname;\n            const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n            \n            if (!isOnLoginPage && window.showSessionExpiredModal) {\n              window.showSessionExpiredModal();\n            }\n            // Return a custom response to prevent the default 403 page\n            return new Response(JSON.stringify({ \n              success: false, \n              message: 'Sesi berakhir, silakan login kembali' \n            }), {\n              status: 403,\n              headers: { 'Content-Type': 'application/json' }\n            });\n          }\n        }\n        \n        return response;\n      } catch (error) {\n        // Re-throw the error if it's not a 403\n        throw error;\n      }\n    };\n\n    window.addEventListener('error', handleGlobalError);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection);\n\n    return () => {\n      window.removeEventListener('error', handleGlobalError);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection);\n      window.fetch = originalFetch;\n      delete window.showSessionExpiredModal;\n      delete window.dispatchTokenUpdate;\n    };\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        {showSessionExpiredModal && (\n          <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-in fade-in-0 duration-200\">\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full flex flex-col items-center animate-in zoom-in-95 duration-200\">\n              <Lock className=\"w-16 h-16 text-yellow-500 mb-4\" />\n              <h2 className=\"text-2xl font-bold mb-2 text-gray-900\">Sesi Berakhir</h2>\n              <p className=\"text-gray-600 mb-6 text-center\">Sesi Anda telah habis. Silakan login kembali untuk melanjutkan.</p>\n              <button\n                className=\"w-full py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white text-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n                onClick={() => {\n                  try {\n                    // Hapus token storage secara paksa\n                    localStorage.removeItem('token');\n                  } catch {}\n                  // Panggil logout dari AuthContext (best-effort)\n                  try { logout(); } catch {}\n                  setShowSessionExpiredModal(false);\n                  // Hard redirect untuk memastikan state bersih\n                  try { window.location.assign('/'); } catch {\n                    navigate('/', { replace: true });\n                  }\n                }}\n              >\n                Login Ulang\n              </button>\n            </div>\n          </div>\n        )}\n        <AuthProvider>\n          <AppRoutes />\n        </AuthProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n};\n\nconst App = () => (\n  <ErrorBoundary>\n    <BrowserRouter basename={import.meta.env.MODE === 'production' ? '/FE' : '/'}>\n      <AppInner />\n    </BrowserRouter>\n  </ErrorBoundary>\n);\n\nexport default App;\n","import React from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\n// Disable noisy console output in production (keep errors)\r\nif (import.meta.env.PROD) {\r\n  const noop = (..._args: unknown[]) => {};\r\n  console.log = noop;\r\n  console.debug = noop;\r\n  console.info = noop;\r\n  console.warn = noop;\r\n}\r\n\r\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\r\n"],"file":"assets/index-BpwOhgG1.js"}