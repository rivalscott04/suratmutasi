{"version":3,"file":"AdminPusatTracking-BzG9nq5O.js","sources":["../../src/pages/AdminPusatTracking.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { apiGet, apiPost } from '@/lib/api';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell } from '@/components/ui/table';\r\nimport { \r\n  Search, \r\n  Plus, \r\n  Calendar, \r\n  Clock, \r\n  FileText, \r\n  User, \r\n  Building2,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Loader2,\r\n  Eye,\r\n  Edit,\r\n  Package,\r\n  XCircle,\r\n  HelpCircle\r\n} from 'lucide-react';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { PageHeader } from '@/components/PageHeader';\r\nimport Shepherd, { type Tour } from 'shepherd.js';\r\nimport 'shepherd.js/dist/css/shepherd.css';\r\n\r\ninterface TrackingStatus {\r\n  id: number;\r\n  status_name: string;\r\n  status_code: string;\r\n  description?: string;\r\n  sort_order: number;\r\n}\r\n\r\ninterface TrackingRecord {\r\n  id: string;\r\n  tracking_status_id?: number;\r\n  status_name: string;\r\n  notes?: string;\r\n  estimated_days?: number;\r\n  actual_completion_date?: string;\r\n  created_at: string;\r\n  tracked_by_name: string;\r\n}\r\n\r\ninterface PengajuanData {\r\n  id: string;\r\n  pegawai_nip: string;\r\n  jenis_jabatan: string;\r\n  total_dokumen: number;\r\n  final_approved_at: string;\r\n  pegawai?: {\r\n    nama: string;\r\n    nip: string;\r\n    office?: {\r\n      nama_kantor: string;\r\n      alamat: string;\r\n    };\r\n  };\r\n  office?: {\r\n    id: string;\r\n    nama_kantor: string;\r\n    kabkota: string;\r\n    alamat: string;\r\n  };\r\n  tracking?: Array<{\r\n    id: string;\r\n    tracking_status_id?: number;\r\n    status_name: string;\r\n    notes?: string;\r\n    estimated_days?: number;\r\n    created_at: string;\r\n    tracked_by_name: string;\r\n  }>;\r\n}\r\n\r\nconst AdminPusatTracking: React.FC = () => {\r\n  const { user, token } = useAuth();\r\n  const { toast } = useToast();\r\n  \r\n  const [pengajuan, setPengajuan] = useState<PengajuanData[]>([]);\r\n  const [trackingStatuses, setTrackingStatuses] = useState<TrackingStatus[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [selectedJabatan, setSelectedJabatan] = useState('all');\r\n  const [selectedStatus, setSelectedStatus] = useState('all');\r\n  const [selectedPengajuan, setSelectedPengajuan] = useState<PengajuanData | null>(null);\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  // Paging state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  \r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    tracking_status_id: '',\r\n    notes: '',\r\n    estimated_days: ''\r\n  });\r\n  const trackingDocTourRef = useRef<Tour | null>(null);\r\n\r\n  // Load data\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Load pengajuan yang sudah final approved\r\n      const pengajuanResponse = await apiGet('/api/tracking/pengajuan', token);\r\n      if (pengajuanResponse.success) {\r\n        setPengajuan(pengajuanResponse.data);\r\n      }\r\n      \r\n      // Load tracking status master\r\n      const statusResponse = await apiGet('/api/tracking/status-master', token);\r\n      if (statusResponse.success) {\r\n        setTrackingStatuses(statusResponse.data);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Gagal memuat data',\r\n        variant: 'destructive'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenDialog = (pengajuanData: PengajuanData) => {\r\n    setSelectedPengajuan(pengajuanData);\r\n    \r\n    // Ambil status tracking terbaru sebagai default\r\n    const latestTracking = getLatestTracking(pengajuanData);\r\n    const defaultStatusId = latestTracking ? latestTracking.tracking_status_id?.toString() : '';\r\n    \r\n    console.log('Latest tracking:', latestTracking);\r\n    console.log('Default status ID:', defaultStatusId);\r\n    \r\n    setFormData({\r\n      tracking_status_id: defaultStatusId || '',\r\n      notes: '',\r\n      estimated_days: ''\r\n    });\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!selectedPengajuan || !formData.tracking_status_id) {\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Status tracking harus diisi',\r\n        variant: 'destructive'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      \r\n      const response = await apiPost(\r\n        `/api/tracking/pengajuan/${selectedPengajuan.id}`,\r\n        {\r\n          tracking_status_id: parseInt(formData.tracking_status_id),\r\n          notes: formData.notes || null,\r\n          estimated_days: formData.estimated_days ? parseInt(formData.estimated_days) : null\r\n        },\r\n        token\r\n      );\r\n\r\n      if (response.success) {\r\n        toast({\r\n          title: 'Berhasil',\r\n          description: 'Status tracking berhasil disimpan'\r\n        });\r\n        \r\n        setIsDialogOpen(false);\r\n        loadData(); // Reload data\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting tracking:', error);\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Gagal menyimpan status tracking',\r\n        variant: 'destructive'\r\n      });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const getLatestTracking = (pengajuan: PengajuanData) => {\r\n    if (!pengajuan.tracking || pengajuan.tracking.length === 0) return null;\r\n    return pengajuan.tracking[0]; // Assuming tracking is sorted by created_at DESC\r\n  };\r\n\r\n  const filteredPengajuan = pengajuan.filter(p => {\r\n    const matchesSearch = p.pegawai_nip.toLowerCase().includes(search.toLowerCase()) ||\r\n      p.jenis_jabatan.toLowerCase().includes(search.toLowerCase()) ||\r\n      p.office?.kabkota.toLowerCase().includes(search.toLowerCase()) ||\r\n      p.office?.nama_kantor.toLowerCase().includes(search.toLowerCase()) ||\r\n      p.pegawai?.nama.toLowerCase().includes(search.toLowerCase());\r\n    \r\n    const matchesJabatan = selectedJabatan === 'all' || p.jenis_jabatan === selectedJabatan;\r\n    \r\n    // Filter by tracking status\r\n    const latestTracking = getLatestTracking(p);\r\n    let matchesStatus = true;\r\n    \r\n    if (selectedStatus === 'all') {\r\n      matchesStatus = true;\r\n    } else if (selectedStatus === 'no-tracking') {\r\n      matchesStatus = latestTracking === null;\r\n    } else {\r\n      matchesStatus = latestTracking?.status_name === selectedStatus;\r\n    }\r\n    \r\n    return matchesSearch && matchesJabatan && matchesStatus;\r\n  });\r\n\r\n  // Reset ke halaman 1 saat filter berubah\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [search, selectedJabatan, selectedStatus]);\r\n\r\n  // Paging calculations\r\n  const totalItems = filteredPengajuan.length;\r\n  const totalPages = Math.max(1, Math.ceil(totalItems / pageSize));\r\n  const startIndex = (currentPage - 1) * pageSize;\r\n  const endIndex = startIndex + pageSize;\r\n  const paginatedPengajuan = filteredPengajuan.slice(startIndex, endIndex);\r\n\r\n  const getPageNumbers = () => {\r\n    const maxPagesToShow = 5;\r\n    if (totalPages <= maxPagesToShow) {\r\n      return Array.from({ length: totalPages }, (_, idx) => idx + 1);\r\n    }\r\n    let start = Math.max(1, currentPage - 2);\r\n    let end = Math.min(totalPages, currentPage + 2);\r\n    if (currentPage <= 3) {\r\n      end = maxPagesToShow;\r\n      start = 1;\r\n    } else if (currentPage >= totalPages - 2) {\r\n      end = totalPages;\r\n      start = totalPages - maxPagesToShow + 1;\r\n    }\r\n    return Array.from({ length: end - start + 1 }, (_, idx) => start + idx);\r\n  };\r\n\r\n  const getUniqueJabatan = () => {\r\n    const jabatanSet = new Set(pengajuan.map(p => p.jenis_jabatan));\r\n    const uniqueJabatan = Array.from(jabatanSet).sort();\r\n    console.log('Unique jabatan:', uniqueJabatan);\r\n    return uniqueJabatan;\r\n  };\r\n\r\n\r\n  const getStatusBadgeVariant = (statusName: string) => {\r\n    if (statusName.includes('Selesai')) return 'default';\r\n    if (statusName.includes('Diproses')) return 'secondary';\r\n    if (statusName.includes('Disposisi')) return 'outline';\r\n    return 'secondary';\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    const statusLower = status.toLowerCase();\r\n    \r\n    // Status selesai/completed - Hijau\r\n    if (statusLower.includes('selesai') || statusLower.includes('completed')) {\r\n      return 'bg-green-100 text-green-800';\r\n    }\r\n    \r\n    // Status diterima/received - Biru\r\n    if (statusLower.includes('diterima') || statusLower.includes('received') || statusLower.includes('pusat')) {\r\n      return 'bg-blue-100 text-blue-800';\r\n    }\r\n    \r\n    // Status dalam proses/in progress - Orange\r\n    if (statusLower.includes('proses') || statusLower.includes('progress') || statusLower.includes('sedang')) {\r\n      return 'bg-orange-100 text-orange-800';\r\n    }\r\n    \r\n    // Status menunggu/waiting - Kuning\r\n    if (statusLower.includes('menunggu') || statusLower.includes('waiting') || statusLower.includes('pending')) {\r\n      return 'bg-yellow-100 text-yellow-800';\r\n    }\r\n    \r\n    // Status ditolak/rejected - Merah\r\n    if (statusLower.includes('ditolak') || statusLower.includes('rejected') || statusLower.includes('gagal')) {\r\n      return 'bg-red-100 text-red-800';\r\n    }\r\n    \r\n    // Status review/verifikasi - Ungu\r\n    if (statusLower.includes('review') || statusLower.includes('verifikasi') || statusLower.includes('cek')) {\r\n      return 'bg-purple-100 text-purple-800';\r\n    }\r\n    \r\n    // Status default - Abu-abu\r\n    return 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    const statusLower = status.toLowerCase();\r\n    \r\n    // Status selesai/completed\r\n    if (statusLower.includes('selesai') || statusLower.includes('completed') || statusLower.includes('selesai')) {\r\n      return <CheckCircle className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status diterima/received\r\n    if (statusLower.includes('diterima') || statusLower.includes('received') || statusLower.includes('pusat')) {\r\n      return <Package className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status dalam proses/in progress\r\n    if (statusLower.includes('proses') || statusLower.includes('progress') || statusLower.includes('sedang')) {\r\n      return <Loader2 className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status menunggu/waiting\r\n    if (statusLower.includes('menunggu') || statusLower.includes('waiting') || statusLower.includes('pending')) {\r\n      return <Clock className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status ditolak/rejected\r\n    if (statusLower.includes('ditolak') || statusLower.includes('rejected') || statusLower.includes('gagal')) {\r\n      return <XCircle className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status review/verifikasi\r\n    if (statusLower.includes('review') || statusLower.includes('verifikasi') || statusLower.includes('cek')) {\r\n      return <Search className=\"h-4 w-4\" />;\r\n    }\r\n    \r\n    // Status default\r\n    return <AlertCircle className=\"h-4 w-4\" />;\r\n  };\r\n\r\n  const formatEstimatedDays = (days: number) => {\r\n    if (days === 1) return '1 hari';\r\n    if (days < 7) return `${days} hari`;\r\n    if (days < 30) return `${Math.ceil(days / 7)} minggu`;\r\n    return `${Math.ceil(days / 30)} bulan`;\r\n  };\r\n\r\n  const startTrackingDocTour = useCallback(() => {\r\n    if (trackingDocTourRef.current) {\r\n      trackingDocTourRef.current.cancel();\r\n      trackingDocTourRef.current = null;\r\n    }\r\n\r\n    if (loading) {\r\n      toast({\r\n        title: 'Tunggu sebentar',\r\n        description: 'Data tracking sedang dimuat. Coba lagi setelah data tampil.',\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (paginatedPengajuan.length === 0) {\r\n      toast({\r\n        title: 'Belum ada data',\r\n        description: 'Tidak ada pengajuan final approved untuk ditracking saat ini.',\r\n        variant: 'destructive'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const tour = new Shepherd.Tour({\r\n      useModalOverlay: true,\r\n      defaultStepOptions: {\r\n        cancelIcon: { enabled: true },\r\n        classes: 'bg-white shadow-xl rounded-lg border border-gray-200 text-gray-800',\r\n        scrollTo: { behavior: 'smooth', block: 'center' }\r\n      }\r\n    });\r\n\r\n    const interactionStatus: Record<string, boolean> = {};\r\n    const interactionCleanup: Array<() => void> = [];\r\n\r\n    const registerInteractionWatcher = (key: string, selector: string) => {\r\n      interactionStatus[key] = false;\r\n      const element = document.querySelector(selector);\r\n      if (!element) return;\r\n      const handler = () => {\r\n        interactionStatus[key] = true;\r\n      };\r\n      element.addEventListener('click', handler);\r\n      interactionCleanup.push(() => element.removeEventListener('click', handler));\r\n    };\r\n\r\n    const cleanupInteractions = () => {\r\n      interactionCleanup.forEach((cleanup) => cleanup());\r\n    };\r\n\r\n    const ensureDialogOpen = () => new Promise<void>((resolve) => {\r\n      if (!isDialogOpen) {\r\n        if (paginatedPengajuan[0]) {\r\n          handleOpenDialog(paginatedPengajuan[0]);\r\n        }\r\n        setTimeout(resolve, 400);\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n\r\n    const buildButtons = (options?: { showBack?: boolean; requireKey?: string; requireMessage?: string; isFinal?: boolean }) => {\r\n      const buttons = [\r\n        {\r\n          text: 'Lewati',\r\n          classes: 'shepherd-button-secondary text-gray-500',\r\n          action: async () => {\r\n            tour.cancel();\r\n          }\r\n        }\r\n      ];\r\n\r\n      if (options?.showBack) {\r\n        buttons.push({\r\n          text: 'Kembali',\r\n          classes: 'shepherd-button-secondary',\r\n          action: async () => {\r\n            tour.back();\r\n          }\r\n        });\r\n      }\r\n\r\n      buttons.push({\r\n        text: options?.isFinal ? 'Selesai' : 'Lanjut',\r\n        classes: 'shepherd-button-primary bg-green-600 text-white hover:bg-green-700',\r\n        action: async () => {\r\n          if (options?.requireKey && !interactionStatus[options.requireKey]) {\r\n            toast({\r\n              title: 'Aksi diperlukan',\r\n              description: options.requireMessage || 'Ikuti instruksi pada langkah ini sebelum melanjutkan.',\r\n              variant: 'destructive'\r\n            });\r\n            return;\r\n          }\r\n          if (options?.isFinal) {\r\n            tour.complete();\r\n          } else {\r\n            tour.next();\r\n          }\r\n        }\r\n      });\r\n\r\n      return buttons;\r\n    };\r\n\r\n    tour.addStep({\r\n      id: 'tracking-doc-intro',\r\n      title: 'Tracking Dokumen',\r\n      text: 'Menu ini dipakai untuk mencatat progres pengolahan berkas yang sudah final approved.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-doc-header\"]', on: 'bottom' },\r\n      buttons: buildButtons()\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-filters',\r\n      title: 'Filter & Pencarian',\r\n      text: 'Gunakan pencarian, filter jabatan, atau filter status tracking untuk fokus pada berkas tertentu.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-doc-filter\"]', on: 'top' },\r\n      buttons: buildButtons({ showBack: true })\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-card',\r\n      title: 'Pilih Pegawai',\r\n      text: 'Setiap kartu menampilkan ringkasan pegawai dan status tracking terakhir. Pilih salah satu yang ingin Anda update.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-doc-card\"]', on: 'top' },\r\n      buttons: buildButtons({ showBack: true })\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-input-button',\r\n      title: 'Mulai Input Tracking',\r\n      text: 'Klik tombol \"Input Tracking\" pada pegawai yang ingin diperbarui.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-input-button\"]', on: 'left' },\r\n      beforeShowPromise: () => {\r\n        registerInteractionWatcher('openTrackingDialog', '[data-tour-id=\"tracking-input-button\"]');\r\n        return Promise.resolve();\r\n      },\r\n      buttons: buildButtons({\r\n        showBack: true,\r\n        requireKey: 'openTrackingDialog',\r\n        requireMessage: 'Klik tombol Input/Update Tracking terlebih dahulu.'\r\n      })\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-status-select',\r\n      title: 'Pilih Status Tracking',\r\n      text: 'Tentukan status terbaru sesuai progres fisik yang sedang Anda kerjakan.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-status-select\"]', on: 'top' },\r\n      beforeShowPromise: ensureDialogOpen,\r\n      buttons: buildButtons({ showBack: true })\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-notes',\r\n      title: 'Catatan & Estimasi',\r\n      text: 'Tambahkan catatan penting dan estimasi penyelesaian (opsional) agar tim lain tahu progresnya.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-notes-fields\"]', on: 'top' },\r\n      beforeShowPromise: ensureDialogOpen,\r\n      buttons: buildButtons({ showBack: true })\r\n    });\r\n\r\n    tour.addStep({\r\n      id: 'tracking-save',\r\n      title: 'Simpan Data Tracking',\r\n      text: 'Klik Simpan untuk mencatat status terbaru. Anda bisa mengulang langkah ini kapan saja.',\r\n      attachTo: { element: '[data-tour-id=\"tracking-save-button\"]', on: 'top' },\r\n      beforeShowPromise: ensureDialogOpen,\r\n      buttons: buildButtons({ showBack: true, isFinal: true })\r\n    });\r\n\r\n    tour.on('complete', () => {\r\n      cleanupInteractions();\r\n      sessionStorage.removeItem('pending_tracking_doc_tour');\r\n      trackingDocTourRef.current = null;\r\n      toast({\r\n        title: 'Tutorial selesai',\r\n        description: 'Anda siap mencatat progres tracking secara mandiri.',\r\n      });\r\n    });\r\n\r\n    tour.on('cancel', () => {\r\n      cleanupInteractions();\r\n      sessionStorage.removeItem('pending_tracking_doc_tour');\r\n      trackingDocTourRef.current = null;\r\n    });\r\n\r\n    tour.start();\r\n    trackingDocTourRef.current = tour;\r\n  }, [handleOpenDialog, isDialogOpen, loading, paginatedPengajuan, toast]);\r\n\r\n  useEffect(() => {\r\n    if (!loading && sessionStorage.getItem('pending_tracking_doc_tour') === 'true') {\r\n      startTrackingDocTour();\r\n    }\r\n  }, [loading, startTrackingDocTour]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (trackingDocTourRef.current) {\r\n        trackingDocTourRef.current.cancel();\r\n        trackingDocTourRef.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto p-6\">\r\n        <PageHeader title=\"Tracking Dokumen\" subtitle=\"Input status tracking untuk berkas yang sudah final approved\" />\r\n        <div className=\"space-y-4\">\r\n          {[...Array(5)].map((_, i) => (\r\n            <Card key={i}>\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"animate-pulse space-y-3\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/3\"></div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4\">\r\n        <div data-tour-id=\"tracking-doc-header\" className=\"flex-1\">\r\n          <PageHeader \r\n            title=\"Tracking Dokumen\" \r\n            subtitle=\"Input status tracking untuk berkas yang sudah final approved\" \r\n          />\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={startTrackingDocTour}\r\n          className=\"border-green-200 text-green-700\"\r\n        >\r\n          <HelpCircle className=\"h-4 w-4 mr-2\" />\r\n          Mulai Tutorial Tracking\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Search and Filter */}\r\n      <Card className=\"mb-6\" data-tour-id=\"tracking-doc-filter\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"flex gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\r\n              <Input\r\n                placeholder=\"Cari berdasarkan NIP, jenis jabatan, atau kabupaten...\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"w-64\">\r\n              <Select\r\n                value={selectedJabatan}\r\n                onValueChange={setSelectedJabatan}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Filter berdasarkan jabatan\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">Semua Jabatan</SelectItem>\r\n                  {getUniqueJabatan().map((jabatan) => (\r\n                    <SelectItem key={jabatan} value={jabatan}>\r\n                      {jabatan}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div className=\"w-64\">\r\n              <Select\r\n                value={selectedStatus}\r\n                onValueChange={setSelectedStatus}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Filter berdasarkan status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">Semua Status</SelectItem>\r\n                  <SelectItem value=\"no-tracking\">Belum Ada Tracking</SelectItem>\r\n                  {trackingStatuses.map((status) => (\r\n                    <SelectItem key={status.id} value={status.status_name}>\r\n                      {status.status_name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            {(search || selectedJabatan !== 'all' || selectedStatus !== 'all') && (\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => {\r\n                  setSearch('');\r\n                  setSelectedJabatan('all');\r\n                  setSelectedStatus('all');\r\n                }}\r\n                className=\"px-4\"\r\n              >\r\n                Reset Filter\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Pengajuan List */}\r\n      <div className=\"space-y-4\">\r\n        {filteredPengajuan.length === 0 ? (\r\n          <Card>\r\n            <CardContent className=\"p-6 text-center\">\r\n              <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">Tidak ada berkas yang perlu ditrack</p>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          paginatedPengajuan.map((pengajuanData, idx) => {\r\n            const latestTracking = getLatestTracking(pengajuanData);\r\n            const hasTracking = latestTracking !== null;\r\n            const isFirstCard = idx === 0;\r\n            \r\n            return (\r\n              <Card\r\n                key={pengajuanData.id}\r\n                className=\"hover:shadow-md transition-shadow\"\r\n                data-tour-id={isFirstCard ? 'tracking-doc-card' : undefined}\r\n              >\r\n                <CardContent className=\"p-6\">\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      {/* Header dengan Nama sebagai fokus utama */}\r\n                      <div className=\"mb-3\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <h3 className=\"font-bold text-xl text-gray-900\">{pengajuanData.pegawai?.nama || 'Nama tidak tersedia'}</h3>\r\n                          <Badge variant=\"outline\" className=\"bg-gray-100 text-gray-700\">\r\n                            {pengajuanData.jenis_jabatan}\r\n                          </Badge>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">NIP: {pengajuanData.pegawai_nip}</p>\r\n                      </div>\r\n                      \r\n                      {/* Informasi Detail */}\r\n                      <div className=\"space-y-2 mb-4\">\r\n                        <div className=\"flex items-center gap-2 text-gray-700\">\r\n                          <Building2 className=\"h-4 w-4 text-gray-500\" />\r\n                          <span>{pengajuanData.office?.kabkota || pengajuanData.office?.nama_kantor || 'Lokasi tidak tersedia'}</span>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center gap-2 text-gray-700\">\r\n                          <FileText className=\"h-4 w-4 text-gray-500\" />\r\n                          <span>{pengajuanData.total_dokumen} dokumen</span>\r\n                        </div>\r\n                        \r\n                        {/* Estimasi atau Status */}\r\n                        {hasTracking ? (\r\n                          <div className=\"flex items-center gap-2 text-gray-700\">\r\n                            <Calendar className=\"h-4 w-4 text-gray-500\" />\r\n                            <span>Estimasi: {latestTracking.estimated_days ? formatEstimatedDays(latestTracking.estimated_days) : 'Belum ada estimasi'}</span>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"flex items-center gap-2 text-gray-500\">\r\n                            <Calendar className=\"h-4 w-4\" />\r\n                            <span>Belum ada estimasi</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {/* Status Tracking */}\r\n                      {hasTracking && (\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                          <div className={`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(latestTracking.status_name)}`}>\r\n                            {getStatusIcon(latestTracking.status_name)}\r\n                            <span>{latestTracking.status_name}</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Notes */}\r\n                      {hasTracking && latestTracking.notes && (\r\n                        <div className=\"bg-gray-50 rounded-lg p-3 mb-3\">\r\n                          <p className=\"text-sm text-gray-700 italic\">\"{latestTracking.notes}\"</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {/* Tombol Aksi */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Button\r\n                        onClick={() => handleOpenDialog(pengajuanData)}\r\n                        className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                        data-tour-id={isFirstCard ? 'tracking-input-button' : undefined}\r\n                      >\r\n                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                        {hasTracking ? 'Update Tracking' : 'Input Tracking'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination controls */}\r\n      {filteredPengajuan.length > 0 && (\r\n        <div className=\"mt-6 flex flex-col md:flex-row items-center justify-between gap-3\">\r\n          <div className=\"text-sm text-gray-600\">\r\n            Menampilkan {Math.min(totalItems, startIndex + 1)}â€“{Math.min(totalItems, endIndex)} dari {totalItems} data\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <Select value={pageSize.toString()} onValueChange={(v) => { setPageSize(parseInt(v)); setCurrentPage(1); }}>\r\n              <SelectTrigger className=\"w-28\">\r\n                <SelectValue placeholder=\"Jumlah\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"10\">10 / halaman</SelectItem>\r\n                <SelectItem value=\"25\">25 / halaman</SelectItem>\r\n                <SelectItem value=\"50\">50 / halaman</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <div className=\"flex items-center gap-1\">\r\n              <Button variant=\"outline\" onClick={() => setCurrentPage((p) => Math.max(1, p - 1))} disabled={currentPage === 1}>\r\n                Prev\r\n              </Button>\r\n              {getPageNumbers().map((n) => (\r\n                <Button\r\n                  key={n}\r\n                  variant={n === currentPage ? 'default' : 'outline'}\r\n                  className={n === currentPage ? 'bg-green-600 hover:bg-green-700 text-white' : ''}\r\n                  onClick={() => setCurrentPage(n)}\r\n                >\r\n                  {n}\r\n                </Button>\r\n              ))}\r\n              <Button variant=\"outline\" onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages}>\r\n                Next\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tracking Dialog */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Input Status Tracking</DialogTitle>\r\n          </DialogHeader>\r\n          \r\n          {selectedPengajuan && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <p className=\"font-medium\">{selectedPengajuan.pegawai?.nama || selectedPengajuan.pegawai_nip}</p>\r\n                <p className=\"text-sm text-gray-600\">NIP: {selectedPengajuan.pegawai_nip}</p>\r\n                <p className=\"text-sm text-gray-600\">{selectedPengajuan.jenis_jabatan}</p>\r\n                <p className=\"text-sm text-gray-600\">{selectedPengajuan.office?.kabkota || selectedPengajuan.office?.nama_kantor || 'N/A'}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div data-tour-id=\"tracking-status-select\">\r\n                  <Label htmlFor=\"status\">Update Status Tracking *</Label>\r\n                  <Select\r\n                    value={formData.tracking_status_id}\r\n                    onValueChange={(value) => setFormData(prev => ({ ...prev, tracking_status_id: value }))}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Pilih status tracking baru\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {trackingStatuses.map((status) => (\r\n                        <SelectItem key={status.id} value={status.id.toString()}>\r\n                          {status.status_name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div data-tour-id=\"tracking-notes-fields\" className=\"space-y-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"notes\">Catatan</Label>\r\n                    <Textarea\r\n                      id=\"notes\"\r\n                      placeholder=\"Catatan tambahan (opsional)\"\r\n                      value={formData.notes}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"estimated_days\">Estimasi Penyelesaian (hari)</Label>\r\n                    <Input\r\n                      id=\"estimated_days\"\r\n                      type=\"number\"\r\n                      placeholder=\"Contoh: 2\"\r\n                      value={formData.estimated_days}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        // Only allow positive integers\r\n                        if (value === '' || /^\\d+$/.test(value)) {\r\n                          setFormData(prev => ({ ...prev, estimated_days: value }));\r\n                        }\r\n                      }}\r\n                      min=\"1\"\r\n                      step=\"1\"\r\n                      pattern=\"[0-9]*\"\r\n                      inputMode=\"numeric\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-2 pt-4\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => setIsDialogOpen(false)}\r\n                  className=\"flex-1\"\r\n                >\r\n                  Batal\r\n                </Button>\r\n                <Button\r\n                  onClick={handleSubmit}\r\n                  disabled={submitting || !formData.tracking_status_id}\r\n                  className=\"flex-1 bg-green-600 hover:bg-green-700 text-white\"\r\n                  data-tour-id=\"tracking-save-button\"\r\n                >\r\n                  {submitting ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\r\n                      Menyimpan...\r\n                    </>\r\n                  ) : (\r\n                    'Simpan'\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPusatTracking;\r\n"],"names":["AdminPusatTracking","user","token","useAuth","toast","useToast","pengajuan","setPengajuan","useState","trackingStatuses","setTrackingStatuses","loading","setLoading","search","setSearch","selectedJabatan","setSelectedJabatan","selectedStatus","setSelectedStatus","selectedPengajuan","setSelectedPengajuan","isDialogOpen","setIsDialogOpen","submitting","setSubmitting","currentPage","setCurrentPage","pageSize","setPageSize","formData","setFormData","trackingDocTourRef","useRef","useEffect","loadData","pengajuanResponse","apiGet","statusResponse","error","handleOpenDialog","pengajuanData","latestTracking","getLatestTracking","defaultStatusId","_a","handleSubmit","apiPost","filteredPengajuan","p","matchesSearch","_b","_c","matchesJabatan","matchesStatus","totalItems","totalPages","startIndex","endIndex","paginatedPengajuan","getPageNumbers","_","idx","start","end","getUniqueJabatan","jabatanSet","uniqueJabatan","getStatusColor","status","statusLower","getStatusIcon","jsx","CheckCircle","Package","Loader2","Clock","XCircle","Search","AlertCircle","formatEstimatedDays","days","startTrackingDocTour","useCallback","tour","Shepherd","interactionStatus","interactionCleanup","registerInteractionWatcher","key","selector","element","handler","cleanupInteractions","cleanup","ensureDialogOpen","resolve","buildButtons","options","buttons","jsxs","PageHeader","i","Card","CardContent","Button","HelpCircle","Input","e","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","jabatan","FileText","hasTracking","isFirstCard","Badge","Building2","Calendar","Plus","v","n","Dialog","DialogContent","DialogHeader","DialogTitle","Label","value","prev","Textarea","Fragment"],"mappings":"+lBAoFA,MAAMA,GAA+B,IAAM,cACzC,KAAM,CAAE,KAAAC,GAAM,MAAAC,CAAM,EAAIC,GAAQ,EAC1B,CAAE,MAAAC,GAAUC,KAEZ,CAACC,EAAWC,EAAY,EAAIC,EAAA,SAA0B,CAAE,CAAA,EACxD,CAACC,EAAkBC,EAAmB,EAAIF,EAAA,SAA2B,CAAE,CAAA,EACvE,CAACG,EAASC,CAAU,EAAIJ,WAAS,EAAI,EACrC,CAACK,EAAQC,CAAS,EAAIN,WAAS,EAAE,EACjC,CAACO,EAAiBC,CAAkB,EAAIR,WAAS,KAAK,EACtD,CAACS,EAAgBC,CAAiB,EAAIV,WAAS,KAAK,EACpD,CAACW,EAAmBC,EAAoB,EAAIZ,WAA+B,IAAI,EAC/E,CAACa,EAAcC,CAAe,EAAId,WAAS,EAAK,EAChD,CAACe,EAAYC,CAAa,EAAIhB,WAAS,EAAK,EAE5C,CAACiB,EAAaC,CAAc,EAAIlB,WAAS,CAAC,EAC1C,CAACmB,EAAUC,EAAW,EAAIpB,WAAS,EAAE,EAGrC,CAACqB,EAAUC,CAAW,EAAItB,WAAS,CACvC,mBAAoB,GACpB,MAAO,GACP,eAAgB,EAAA,CACjB,EACKuB,EAAqBC,SAAoB,IAAI,EAGnDC,EAAAA,UAAU,IAAM,CACLC,GACX,EAAG,CAAE,CAAA,EAEL,MAAMA,EAAW,SAAY,CACvB,GAAA,CACFtB,EAAW,EAAI,EAGf,MAAMuB,EAAoB,MAAMC,GAAO,0BAA2BlC,CAAK,EACnEiC,EAAkB,SACpB5B,GAAa4B,EAAkB,IAAI,EAIrC,MAAME,EAAiB,MAAMD,GAAO,8BAA+BlC,CAAK,EACpEmC,EAAe,SACjB3B,GAAoB2B,EAAe,IAAI,QAGlCC,EAAO,CACN,QAAA,MAAM,sBAAuBA,CAAK,EACpClC,EAAA,CACJ,MAAO,QACP,YAAa,oBACb,QAAS,aAAA,CACV,CAAA,QACD,CACAQ,EAAW,EAAK,CAClB,CAAA,EAGI2B,EAAoBC,GAAiC,OACzDpB,GAAqBoB,CAAa,EAG5B,MAAAC,EAAiBC,EAAkBF,CAAa,EAChDG,EAAkBF,GAAiBG,EAAAH,EAAe,qBAAf,YAAAG,EAAmC,WAAa,GAEjF,QAAA,IAAI,mBAAoBH,CAAc,EACtC,QAAA,IAAI,qBAAsBE,CAAe,EAErCb,EAAA,CACV,mBAAoBa,GAAmB,GACvC,MAAO,GACP,eAAgB,EAAA,CACjB,EACDrB,EAAgB,EAAI,CAAA,EAGhBuB,GAAe,SAAY,CAC/B,GAAI,CAAC1B,GAAqB,CAACU,EAAS,mBAAoB,CAChDzB,EAAA,CACJ,MAAO,QACP,YAAa,8BACb,QAAS,aAAA,CACV,EACD,MACF,CAEI,GAAA,CACFoB,EAAc,EAAI,GAED,MAAMsB,GACrB,2BAA2B3B,EAAkB,EAAE,GAC/C,CACE,mBAAoB,SAASU,EAAS,kBAAkB,EACxD,MAAOA,EAAS,OAAS,KACzB,eAAgBA,EAAS,eAAiB,SAASA,EAAS,cAAc,EAAI,IAChF,EACA3B,CAAA,GAGW,UACLE,EAAA,CACJ,MAAO,WACP,YAAa,mCAAA,CACd,EAEDkB,EAAgB,EAAK,EACZY,WAGJI,EAAO,CACN,QAAA,MAAM,6BAA8BA,CAAK,EAC3ClC,EAAA,CACJ,MAAO,QACP,YAAa,kCACb,QAAS,aAAA,CACV,CAAA,QACD,CACAoB,EAAc,EAAK,CACrB,CAAA,EAGIkB,EAAqBpC,GACrB,CAACA,EAAU,UAAYA,EAAU,SAAS,SAAW,EAAU,KAC5DA,EAAU,SAAS,CAAC,EAGvByC,EAAoBzC,EAAU,OAAY0C,GAAA,WACxC,MAAAC,EAAgBD,EAAE,YAAY,cAAc,SAASnC,EAAO,aAAa,GAC7EmC,EAAE,cAAc,YAAA,EAAc,SAASnC,EAAO,YAAa,CAAA,KAC3D+B,EAAAI,EAAE,SAAF,YAAAJ,EAAU,QAAQ,cAAc,SAAS/B,EAAO,YAAa,OAC7DqC,EAAAF,EAAE,SAAF,YAAAE,EAAU,YAAY,cAAc,SAASrC,EAAO,mBACpDsC,EAAAH,EAAE,UAAF,YAAAG,EAAW,KAAK,cAAc,SAAStC,EAAO,YAAA,IAE1CuC,EAAiBrC,IAAoB,OAASiC,EAAE,gBAAkBjC,EAGlE0B,EAAiBC,EAAkBM,CAAC,EAC1C,IAAIK,EAAgB,GAEpB,OAAIpC,IAAmB,MACLoC,EAAA,GACPpC,IAAmB,cAC5BoC,EAAgBZ,IAAmB,KAEnCY,GAAgBZ,GAAA,YAAAA,EAAgB,eAAgBxB,EAG3CgC,GAAiBG,GAAkBC,CAAA,CAC3C,EAGDpB,EAAAA,UAAU,IAAM,CACdP,EAAe,CAAC,CACf,EAAA,CAACb,EAAQE,EAAiBE,CAAc,CAAC,EAG5C,MAAMqC,EAAaP,EAAkB,OAC/BQ,EAAa,KAAK,IAAI,EAAG,KAAK,KAAKD,EAAa3B,CAAQ,CAAC,EACzD6B,GAAc/B,EAAc,GAAKE,EACjC8B,EAAWD,EAAa7B,EACxB+B,EAAqBX,EAAkB,MAAMS,EAAYC,CAAQ,EAEjEE,GAAiB,IAAM,CAE3B,GAAIJ,GAAc,EACT,OAAA,MAAM,KAAK,CAAE,OAAQA,CAAA,EAAc,CAACK,EAAGC,IAAQA,EAAM,CAAC,EAE/D,IAAIC,EAAQ,KAAK,IAAI,EAAGrC,EAAc,CAAC,EACnCsC,EAAM,KAAK,IAAIR,EAAY9B,EAAc,CAAC,EAC9C,OAAIA,GAAe,GACXsC,EAAA,EACED,EAAA,GACCrC,GAAe8B,EAAa,IAC/BQ,EAAAR,EACNO,EAAQP,EAAa,EAAiB,GAEjC,MAAM,KAAK,CAAE,OAAQQ,EAAMD,EAAQ,CAAE,EAAG,CAACF,EAAGC,IAAQC,EAAQD,CAAG,CAAA,EAGlEG,GAAmB,IAAM,CACvB,MAAAC,EAAa,IAAI,IAAI3D,EAAU,IAAS0C,GAAAA,EAAE,aAAa,CAAC,EACxDkB,EAAgB,MAAM,KAAKD,CAAU,EAAE,KAAK,EAC1C,eAAA,IAAI,kBAAmBC,CAAa,EACrCA,CAAA,EAWHC,GAAkBC,GAAmB,CACnC,MAAAC,EAAcD,EAAO,cAG3B,OAAIC,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,WAAW,EAC9D,8BAILA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,OAAO,EAC/F,4BAILA,EAAY,SAAS,QAAQ,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,QAAQ,EAC9F,gCAILA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,SAAS,EAChG,gCAILA,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,OAAO,EAC9F,0BAILA,EAAY,SAAS,QAAQ,GAAKA,EAAY,SAAS,YAAY,GAAKA,EAAY,SAAS,KAAK,EAC7F,gCAIF,2BAAA,EAGHC,GAAiBF,GAAmB,CAClC,MAAAC,EAAcD,EAAO,cAGvB,OAAAC,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,WAAW,GAAKA,EAAY,SAAS,SAAS,EACjGE,EAAA,IAACC,GAAY,CAAA,UAAU,SAAU,CAAA,EAItCH,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,OAAO,EAC/FE,EAAA,IAACE,GAAQ,CAAA,UAAU,SAAU,CAAA,EAIlCJ,EAAY,SAAS,QAAQ,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,QAAQ,EAC9FE,EAAA,IAACG,GAAQ,CAAA,UAAU,SAAU,CAAA,EAIlCL,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,SAAS,EAChGE,EAAA,IAACI,GAAM,CAAA,UAAU,SAAU,CAAA,EAIhCN,EAAY,SAAS,SAAS,GAAKA,EAAY,SAAS,UAAU,GAAKA,EAAY,SAAS,OAAO,EAC9FE,EAAA,IAACK,GAAQ,CAAA,UAAU,SAAU,CAAA,EAIlCP,EAAY,SAAS,QAAQ,GAAKA,EAAY,SAAS,YAAY,GAAKA,EAAY,SAAS,KAAK,EAC7FE,EAAA,IAACM,GAAO,CAAA,UAAU,SAAU,CAAA,EAI9BN,EAAA,IAACO,GAAY,CAAA,UAAU,SAAU,CAAA,CAAA,EAGpCC,GAAuBC,GACvBA,IAAS,EAAU,SACnBA,EAAO,EAAU,GAAGA,CAAI,QACxBA,EAAO,GAAW,GAAG,KAAK,KAAKA,EAAO,CAAC,CAAC,UACrC,GAAG,KAAK,KAAKA,EAAO,EAAE,CAAC,SAG1BC,EAAuBC,EAAAA,YAAY,IAAM,CAM7C,GALInD,EAAmB,UACrBA,EAAmB,QAAQ,SAC3BA,EAAmB,QAAU,MAG3BpB,EAAS,CACLP,EAAA,CACJ,MAAO,kBACP,YAAa,6DAAA,CACd,EACD,MACF,CAEI,GAAAsD,EAAmB,SAAW,EAAG,CAC7BtD,EAAA,CACJ,MAAO,iBACP,YAAa,gEACb,QAAS,aAAA,CACV,EACD,MACF,CAEM,MAAA+E,EAAO,IAAIC,GAAS,KAAK,CAC7B,gBAAiB,GACjB,mBAAoB,CAClB,WAAY,CAAE,QAAS,EAAK,EAC5B,QAAS,qEACT,SAAU,CAAE,SAAU,SAAU,MAAO,QAAS,CAClD,CAAA,CACD,EAEKC,EAA6C,CAAA,EAC7CC,EAAwC,CAAA,EAExCC,EAA6B,CAACC,EAAaC,IAAqB,CACpEJ,EAAkBG,CAAG,EAAI,GACnB,MAAAE,EAAU,SAAS,cAAcD,CAAQ,EAC/C,GAAI,CAACC,EAAS,OACd,MAAMC,GAAU,IAAM,CACpBN,EAAkBG,CAAG,EAAI,EAAA,EAEnBE,EAAA,iBAAiB,QAASC,EAAO,EACzCL,EAAmB,KAAK,IAAMI,EAAQ,oBAAoB,QAASC,EAAO,CAAC,CAAA,EAGvEC,EAAsB,IAAM,CAChCN,EAAmB,QAASO,GAAYA,EAAS,CAAA,CAAA,EAG7CC,EAAmB,IAAM,IAAI,QAAeC,GAAY,CACvD1E,EAMK0E,KALJrC,EAAmB,CAAC,GACLnB,EAAAmB,EAAmB,CAAC,CAAC,EAExC,WAAWqC,EAAS,GAAG,EAGzB,CACD,EAEKC,EAAgBC,GAAsG,CAC1H,MAAMC,EAAU,CACd,CACE,KAAM,SACN,QAAS,0CACT,OAAQ,SAAY,CAClBf,EAAK,OAAO,CACd,CACF,CAAA,EAGF,OAAIc,GAAA,MAAAA,EAAS,UACXC,EAAQ,KAAK,CACX,KAAM,UACN,QAAS,4BACT,OAAQ,SAAY,CAClBf,EAAK,KAAK,CACZ,CAAA,CACD,EAGHe,EAAQ,KAAK,CACX,KAAMD,GAAA,MAAAA,EAAS,QAAU,UAAY,SACrC,QAAS,qEACT,OAAQ,SAAY,CAClB,GAAIA,GAAA,MAAAA,EAAS,YAAc,CAACZ,EAAkBY,EAAQ,UAAU,EAAG,CAC3D7F,EAAA,CACJ,MAAO,kBACP,YAAa6F,EAAQ,gBAAkB,wDACvC,QAAS,aAAA,CACV,EACD,MACF,CACIA,GAAA,MAAAA,EAAS,QACXd,EAAK,SAAS,EAEdA,EAAK,KAAK,CAEd,CAAA,CACD,EAEMe,CAAA,EAGTf,EAAK,QAAQ,CACX,GAAI,qBACJ,MAAO,mBACP,KAAM,uFACN,SAAU,CAAE,QAAS,uCAAwC,GAAI,QAAS,EAC1E,QAASa,EAAa,CAAA,CACvB,EAEDb,EAAK,QAAQ,CACX,GAAI,mBACJ,MAAO,qBACP,KAAM,mGACN,SAAU,CAAE,QAAS,uCAAwC,GAAI,KAAM,EACvE,QAASa,EAAa,CAAE,SAAU,GAAM,CAAA,CACzC,EAEDb,EAAK,QAAQ,CACX,GAAI,gBACJ,MAAO,gBACP,KAAM,oHACN,SAAU,CAAE,QAAS,qCAAsC,GAAI,KAAM,EACrE,QAASa,EAAa,CAAE,SAAU,GAAM,CAAA,CACzC,EAEDb,EAAK,QAAQ,CACX,GAAI,wBACJ,MAAO,uBACP,KAAM,mEACN,SAAU,CAAE,QAAS,yCAA0C,GAAI,MAAO,EAC1E,kBAAmB,KACjBI,EAA2B,qBAAsB,wCAAwC,EAClF,QAAQ,WAEjB,QAASS,EAAa,CACpB,SAAU,GACV,WAAY,qBACZ,eAAgB,oDAAA,CACjB,CAAA,CACF,EAEDb,EAAK,QAAQ,CACX,GAAI,yBACJ,MAAO,wBACP,KAAM,0EACN,SAAU,CAAE,QAAS,0CAA2C,GAAI,KAAM,EAC1E,kBAAmBW,EACnB,QAASE,EAAa,CAAE,SAAU,GAAM,CAAA,CACzC,EAEDb,EAAK,QAAQ,CACX,GAAI,iBACJ,MAAO,qBACP,KAAM,gGACN,SAAU,CAAE,QAAS,yCAA0C,GAAI,KAAM,EACzE,kBAAmBW,EACnB,QAASE,EAAa,CAAE,SAAU,GAAM,CAAA,CACzC,EAEDb,EAAK,QAAQ,CACX,GAAI,gBACJ,MAAO,uBACP,KAAM,yFACN,SAAU,CAAE,QAAS,wCAAyC,GAAI,KAAM,EACxE,kBAAmBW,EACnB,QAASE,EAAa,CAAE,SAAU,GAAM,QAAS,GAAM,CAAA,CACxD,EAEIb,EAAA,GAAG,WAAY,IAAM,CACJS,IACpB,eAAe,WAAW,2BAA2B,EACrD7D,EAAmB,QAAU,KACvB3B,EAAA,CACJ,MAAO,mBACP,YAAa,qDAAA,CACd,CAAA,CACF,EAEI+E,EAAA,GAAG,SAAU,IAAM,CACFS,IACpB,eAAe,WAAW,2BAA2B,EACrD7D,EAAmB,QAAU,IAAA,CAC9B,EAEDoD,EAAK,MAAM,EACXpD,EAAmB,QAAUoD,CAAA,EAC5B,CAAC5C,EAAkBlB,EAAcV,EAAS+C,EAAoBtD,CAAK,CAAC,EAiBvE,OAfA6B,EAAAA,UAAU,IAAM,CACV,CAACtB,GAAW,eAAe,QAAQ,2BAA2B,IAAM,QACjDsE,GACvB,EACC,CAACtE,EAASsE,CAAoB,CAAC,EAElChD,EAAAA,UAAU,IACD,IAAM,CACPF,EAAmB,UACrBA,EAAmB,QAAQ,SAC3BA,EAAmB,QAAU,KAC/B,EAED,CAAE,CAAA,EAEDpB,EAEAwF,EAAA,KAAC,MAAI,CAAA,UAAU,wBACb,SAAA,CAAA5B,EAAA,IAAC6B,GAAW,CAAA,MAAM,mBAAmB,SAAS,+DAA+D,EAC7G7B,EAAAA,IAAC,OAAI,UAAU,YACZ,UAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACX,EAAGyC,IACpB9B,EAAAA,IAAA+B,EAAA,CACC,SAAC/B,EAAAA,IAAAgC,EAAA,CAAY,UAAU,MACrB,SAAAJ,EAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAC5B,EAAAA,IAAA,MAAA,CAAI,UAAU,+BAAgC,CAAA,EAC/CA,EAAAA,IAAC,MAAI,CAAA,UAAU,+BAAgC,CAAA,EAC/CA,EAAAA,IAAC,MAAI,CAAA,UAAU,+BAAgC,CAAA,CAAA,CAAA,CACjD,CACF,CAAA,CAAA,EAPS8B,CAQX,CACD,CACH,CAAA,CACF,CAAA,CAAA,EAKFF,EAAA,KAAC,MAAI,CAAA,UAAU,wBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0EACb,SAAA,CAAA5B,EAAA,IAAC,MAAI,CAAA,eAAa,sBAAsB,UAAU,SAChD,SAAAA,EAAA,IAAC6B,GAAA,CACC,MAAM,mBACN,SAAS,8DAAA,CAAA,EAEb,EACAD,EAAA,KAACK,EAAA,CACC,QAAQ,UACR,QAASvB,EACT,UAAU,kCAEV,SAAA,CAACV,EAAAA,IAAAkC,GAAA,CAAW,UAAU,cAAe,CAAA,EAAE,yBAAA,CAAA,CAEzC,CAAA,EACF,EAGClC,MAAA+B,EAAA,CAAK,UAAU,OAAO,eAAa,sBAClC,SAAC/B,MAAAgC,EAAA,CAAY,UAAU,MACrB,SAACJ,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,kBACb,SAAA,CAAC5B,EAAAA,IAAAM,GAAA,CAAO,UAAU,0EAA2E,CAAA,EAC7FN,EAAA,IAACmC,GAAA,CACC,YAAY,yDACZ,MAAO7F,EACP,SAAW8F,GAAM7F,EAAU6F,EAAE,OAAO,KAAK,EACzC,UAAU,OAAA,CACZ,CAAA,EACF,EACApC,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAA4B,EAAA,KAACS,EAAA,CACC,MAAO7F,EACP,cAAeC,EAEf,SAAA,CAAAuD,MAACsC,EACC,CAAA,SAAAtC,EAAA,IAACuC,EAAY,CAAA,YAAY,4BAA6B,CAAA,EACxD,SACCC,EACC,CAAA,SAAA,CAACxC,EAAA,IAAAyC,EAAA,CAAW,MAAM,MAAM,SAAa,gBAAA,EACpChD,GAAmB,EAAA,IAAKiD,GACtB1C,EAAA,IAAAyC,EAAA,CAAyB,MAAOC,EAC9B,SADcA,CAAA,EAAAA,CAEjB,CACD,CAAA,EACH,CAAA,CAAA,CAAA,EAEJ,EACA1C,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAA4B,EAAA,KAACS,EAAA,CACC,MAAO3F,EACP,cAAeC,EAEf,SAAA,CAAAqD,MAACsC,EACC,CAAA,SAAAtC,EAAA,IAACuC,EAAY,CAAA,YAAY,2BAA4B,CAAA,EACvD,SACCC,EACC,CAAA,SAAA,CAACxC,EAAA,IAAAyC,EAAA,CAAW,MAAM,MAAM,SAAY,eAAA,EACnCzC,EAAA,IAAAyC,EAAA,CAAW,MAAM,cAAc,SAAkB,qBAAA,EACjDvG,EAAiB,IAAK2D,GACpBG,EAAAA,IAAAyC,EAAA,CAA2B,MAAO5C,EAAO,YACvC,SAAAA,EAAO,WADO,EAAAA,EAAO,EAExB,CACD,CAAA,EACH,CAAA,CAAA,CAAA,EAEJ,GACEvD,GAAUE,IAAoB,OAASE,IAAmB,QAC1DsD,EAAA,IAACiC,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb1F,EAAU,EAAE,EACZE,EAAmB,KAAK,EACxBE,EAAkB,KAAK,CACzB,EACA,UAAU,OACX,SAAA,cAAA,CAED,CAAA,CAEJ,CAAA,CACF,CAAA,EACF,EAGCqD,EAAA,IAAA,MAAA,CAAI,UAAU,YACZ,SAAkBxB,EAAA,SAAW,EAC5BwB,EAAA,IAAC+B,EACC,CAAA,SAAAH,EAAA,KAACI,EAAY,CAAA,UAAU,kBACrB,SAAA,CAAChC,EAAAA,IAAA2C,GAAA,CAAS,UAAU,sCAAuC,CAAA,EAC1D3C,EAAA,IAAA,IAAA,CAAE,UAAU,gBAAgB,SAAmC,sCAAA,CAAA,CAClE,CAAA,CACF,CAAA,EAEAb,EAAmB,IAAI,CAAClB,EAAeqB,IAAQ,WACvC,MAAApB,EAAiBC,EAAkBF,CAAa,EAChD2E,EAAc1E,IAAmB,KACjC2E,EAAcvD,IAAQ,EAG1B,OAAAU,EAAA,IAAC+B,EAAA,CAEC,UAAU,oCACV,eAAcc,EAAc,oBAAsB,OAElD,eAACb,EAAY,CAAA,UAAU,MACrB,SAACJ,EAAAA,KAAA,MAAA,CAAI,UAAU,mCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,SAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,OACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAA5B,MAAC,MAAG,UAAU,kCAAmC,WAAc3B,EAAAJ,EAAA,UAAA,YAAAI,EAAS,OAAQ,sBAAsB,QACrGyE,GAAM,CAAA,QAAQ,UAAU,UAAU,4BAChC,WAAc,cACjB,CAAA,EACF,EACAlB,EAAAA,KAAC,IAAE,CAAA,UAAU,6BAA6B,SAAA,CAAA,QAAM3D,EAAc,WAAA,EAAY,CAAA,EAC5E,EAGA2D,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wCACb,SAAA,CAAC5B,EAAAA,IAAA+C,GAAA,CAAU,UAAU,uBAAwB,CAAA,EAC7C/C,EAAAA,IAAC,QAAM,WAAcrB,EAAAV,EAAA,SAAA,YAAAU,EAAQ,YAAWC,EAAAX,EAAc,SAAd,YAAAW,EAAsB,cAAe,uBAAwB,CAAA,CAAA,EACvG,EAEAgD,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAC5B,EAAAA,IAAA2C,GAAA,CAAS,UAAU,uBAAwB,CAAA,SAC3C,OAAM,CAAA,SAAA,CAAc1E,EAAA,cAAc,UAAA,EAAQ,CAAA,EAC7C,EAGC2E,EACChB,EAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAC5B,EAAAA,IAAAgD,GAAA,CAAS,UAAU,uBAAwB,CAAA,SAC3C,OAAK,CAAA,SAAA,CAAA,aAAW9E,EAAe,eAAiBsC,GAAoBtC,EAAe,cAAc,EAAI,oBAAA,EAAqB,CAAA,CAC7H,CAAA,EAEA0D,EAAAA,KAAC,MAAI,CAAA,UAAU,wCACb,SAAA,CAAC5B,EAAAA,IAAAgD,GAAA,CAAS,UAAU,SAAU,CAAA,EAC9BhD,EAAAA,IAAC,QAAK,SAAkB,oBAAA,CAAA,CAAA,EAC1B,CAAA,EAEJ,EAGC4C,GACC5C,EAAA,IAAC,MAAI,CAAA,UAAU,+BACb,SAAA4B,OAAC,MAAI,CAAA,UAAW,sEAAsEhC,GAAe1B,EAAe,WAAW,CAAC,GAC7H,SAAA,CAAA6B,GAAc7B,EAAe,WAAW,EACzC8B,EAAAA,IAAC,OAAM,CAAA,SAAA9B,EAAe,WAAY,CAAA,CAAA,CAAA,CACpC,CACF,CAAA,EAID0E,GAAe1E,EAAe,OAC5B8B,EAAAA,IAAA,MAAA,CAAI,UAAU,iCACb,SAAA4B,EAAA,KAAC,IAAE,CAAA,UAAU,+BAA+B,SAAA,CAAA,IAAE1D,EAAe,MAAM,GAAA,CAAA,CAAC,CACtE,CAAA,CAAA,EAEJ,EAGA8B,EAAAA,IAAC,MAAI,CAAA,UAAU,0BACb,SAAA4B,EAAA,KAACK,EAAA,CACC,QAAS,IAAMjE,EAAiBC,CAAa,EAC7C,UAAU,6CACV,eAAc4E,EAAc,wBAA0B,OAEtD,SAAA,CAAC7C,EAAAA,IAAAiD,GAAA,CAAK,UAAU,cAAe,CAAA,EAC9BL,EAAc,kBAAoB,gBAAA,CAAA,CAAA,EAEvC,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EA1EK3E,EAAc,EAAA,CA6ExB,CAAA,EAEL,EAGCO,EAAkB,OAAS,GACzBoD,EAAA,KAAA,MAAA,CAAI,UAAU,oEACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,eACxB,KAAK,IAAI7C,EAAYE,EAAa,CAAC,EAAE,IAAE,KAAK,IAAIF,EAAYG,CAAQ,EAAE,SAAOH,EAAW,OAAA,EACvG,EACA6C,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAA,OAACS,GAAO,MAAOjF,EAAS,WAAY,cAAgB8F,GAAM,CAAc7F,GAAA,SAAS6F,CAAC,CAAC,EAAG/F,EAAe,CAAC,CACpG,EAAA,SAAA,CAAA6C,EAAAA,IAACsC,GAAc,UAAU,OACvB,eAACC,EAAY,CAAA,YAAY,SAAS,CACpC,CAAA,SACCC,EACC,CAAA,SAAA,CAACxC,EAAA,IAAAyC,EAAA,CAAW,MAAM,KAAK,SAAY,eAAA,EAClCzC,EAAA,IAAAyC,EAAA,CAAW,MAAM,KAAK,SAAY,eAAA,EAClCzC,EAAA,IAAAyC,EAAA,CAAW,MAAM,KAAK,SAAY,eAAA,CAAA,EACrC,CAAA,EACF,EAEAb,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAA5B,MAACiC,GAAO,QAAQ,UAAU,QAAS,IAAM9E,EAAgBsB,GAAM,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EAAG,SAAUvB,IAAgB,EAAG,SAEjH,OAAA,EACCkC,KAAiB,IAAK+D,GACrBnD,EAAA,IAACiC,EAAA,CAEC,QAASkB,IAAMjG,EAAc,UAAY,UACzC,UAAWiG,IAAMjG,EAAc,6CAA+C,GAC9E,QAAS,IAAMC,EAAegG,CAAC,EAE9B,SAAAA,CAAA,EALIA,CAAA,CAOR,QACAlB,EAAO,CAAA,QAAQ,UAAU,QAAS,IAAM9E,EAAgBsB,GAAM,KAAK,IAAIO,EAAYP,EAAI,CAAC,CAAC,EAAG,SAAUvB,IAAgB8B,EAAY,SAEnI,OAAA,CAAA,EACF,CAAA,EACF,CAAA,EACF,EAIFgB,EAAAA,IAACoD,IAAO,KAAMtG,EAAc,aAAcC,EACxC,SAAA6E,EAAA,KAACyB,GAAc,CAAA,UAAU,WACvB,SAAA,CAAArD,MAACsD,GACC,CAAA,SAAAtD,EAAA,IAACuD,GAAY,CAAA,SAAA,uBAAqB,CAAA,EACpC,EAEC3G,GACCgF,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,4BACb,SAAA,CAAA5B,EAAAA,IAAC,KAAE,UAAU,cAAe,gBAAkB,yBAAS,OAAQpD,EAAkB,WAAY,CAAA,EAC7FgF,EAAAA,KAAC,IAAE,CAAA,UAAU,wBAAwB,SAAA,CAAA,QAAMhF,EAAkB,WAAA,EAAY,EACxEoD,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAyB,WAAkB,cAAc,EACtEA,EAAAA,IAAC,IAAE,CAAA,UAAU,wBAAyB,WAAArB,GAAA/B,EAAkB,SAAlB,YAAA+B,GAA0B,YAAWC,GAAAhC,EAAkB,SAAlB,YAAAgC,GAA0B,cAAe,KAAM,CAAA,CAAA,EAC5H,EAEAgD,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,eAAa,yBAChB,SAAA,CAAC5B,EAAA,IAAAwD,EAAA,CAAM,QAAQ,SAAS,SAAwB,2BAAA,EAChD5B,EAAA,KAACS,EAAA,CACC,MAAO/E,EAAS,mBAChB,cAAgBmG,GAAUlG,EAAYmG,IAAS,CAAE,GAAGA,EAAM,mBAAoBD,CAAA,EAAQ,EAEtF,SAAA,CAAAzD,MAACsC,EACC,CAAA,SAAAtC,EAAA,IAACuC,EAAY,CAAA,YAAY,4BAA6B,CAAA,EACxD,QACCC,EACE,CAAA,SAAAtG,EAAiB,IAAK2D,SACpB4C,EAA2B,CAAA,MAAO5C,EAAO,GAAG,SAC1C,EAAA,SAAAA,EAAO,aADOA,EAAO,EAExB,CACD,EACH,CAAA,CAAA,CACF,CAAA,EACF,EAEC+B,EAAA,KAAA,MAAA,CAAI,eAAa,wBAAwB,UAAU,YAClD,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAC5B,EAAA,IAAAwD,EAAA,CAAM,QAAQ,QAAQ,SAAO,UAAA,EAC9BxD,EAAA,IAAC2D,GAAA,CACC,GAAG,QACH,YAAY,8BACZ,MAAOrG,EAAS,MAChB,SAAW8E,GAAM7E,EAAqBmG,IAAA,CAAE,GAAGA,EAAM,MAAOtB,EAAE,OAAO,KAAQ,EAAA,EACzE,KAAM,CAAA,CACR,CAAA,EACF,SAEC,MACC,CAAA,SAAA,CAACpC,EAAA,IAAAwD,EAAA,CAAM,QAAQ,iBAAiB,SAA4B,+BAAA,EAC5DxD,EAAA,IAACmC,GAAA,CACC,GAAG,iBACH,KAAK,SACL,YAAY,YACZ,MAAO7E,EAAS,eAChB,SAAW8E,GAAM,CACT,MAAAqB,EAAQrB,EAAE,OAAO,OAEnBqB,IAAU,IAAM,QAAQ,KAAKA,CAAK,IACpClG,MAAqB,CAAE,GAAGmG,EAAM,eAAgBD,CAAQ,EAAA,CAE5D,EACA,IAAI,IACJ,KAAK,IACL,QAAQ,SACR,UAAU,SAAA,CACZ,CAAA,EACF,CAAA,EACF,CAAA,EACF,EAEA7B,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAAA5B,EAAA,IAACiC,EAAA,CACC,QAAQ,UACR,QAAS,IAAMlF,EAAgB,EAAK,EACpC,UAAU,SACX,SAAA,OAAA,CAED,EACAiD,EAAA,IAACiC,EAAA,CACC,QAAS3D,GACT,SAAUtB,GAAc,CAACM,EAAS,mBAClC,UAAU,oDACV,eAAa,uBAEZ,WAEGsE,EAAAA,KAAAgC,EAAA,SAAA,CAAA,SAAA,CAAC5D,EAAAA,IAAAG,GAAA,CAAQ,UAAU,2BAA4B,CAAA,EAAE,cAAA,CAAA,CAEnD,EAEA,QAAA,CAEJ,CAAA,EACF,CAAA,EACF,CAAA,CAAA,CAEJ,CACF,CAAA,CACF,CAAA,CAAA,CAEJ"}