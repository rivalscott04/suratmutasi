{"version":3,"file":"Users-C4g-vOjz.js","sources":["../../src/pages/Users.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { apiGet, apiPost, apiPut, apiDelete } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  Search, \n  Users as UsersIcon, \n  Loader2,\n  Eye,\n  EyeOff,\n  RefreshCw,\n  Copy,\n  Check\n} from 'lucide-react';\nimport { toast } from '@/hooks/use-toast';\n\ninterface User {\n  id: string;\n  email: string;\n  full_name: string;\n  role: 'admin' | 'operator' | 'user' | 'admin_wilayah' | 'bimas' | 'kanwil';\n  office_id?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\ninterface UserFormData {\n  email: string;\n  full_name: string;\n  password: string;\n  role: 'admin' | 'operator' | 'user' | 'admin_wilayah' | 'bimas' | 'kanwil';\n  office_id: string;\n}\n\nconst Users = () => {\n  const { user, token } = useAuth();\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAddDialog, setShowAddDialog] = useState(false);\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [formData, setFormData] = useState<UserFormData>({\n    email: '',\n    full_name: '',\n    password: '',\n    role: 'user',\n    office_id: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showAddUserResultModal, setShowAddUserResultModal] = useState(false);\n  const [addUserSuccess, setAddUserSuccess] = useState<boolean | null>(null);\n  const [addUserMessage, setAddUserMessage] = useState('');\n  const [copiedPassword, setCopiedPassword] = useState(false);\n\n  // Generate secure password\n  const generateSecurePassword = () => {\n    const length = 12;\n    const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';\n    let password = '';\n    \n    // Ensure at least one character from each category\n    const lowercase = 'abcdefghijklmnopqrstuvwxyz';\n    const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const numbers = '0123456789';\n    const symbols = '!@#$%^&*';\n    \n    password += lowercase[Math.floor(Math.random() * lowercase.length)];\n    password += uppercase[Math.floor(Math.random() * uppercase.length)];\n    password += numbers[Math.floor(Math.random() * numbers.length)];\n    password += symbols[Math.floor(Math.random() * symbols.length)];\n    \n    // Fill the rest with random characters\n    for (let i = 4; i < length; i++) {\n      password += charset[Math.floor(Math.random() * charset.length)];\n    }\n    \n    // Shuffle the password\n    return password.split('').sort(() => Math.random() - 0.5).join('');\n  };\n\n  // Copy password to clipboard\n  const copyPasswordToClipboard = async (password: string) => {\n    if (!password) {\n      toast({\n        title: \"Gagal menyalin\",\n        description: \"Password kosong\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Fallback method yang lebih reliable (works in all browsers)\n    const fallbackCopy = (text: string): boolean => {\n      try {\n        const textarea = document.createElement('textarea');\n        textarea.value = text;\n        textarea.style.position = 'fixed';\n        textarea.style.left = '0';\n        textarea.style.top = '0';\n        textarea.style.opacity = '0';\n        textarea.style.pointerEvents = 'none';\n        textarea.setAttribute('readonly', '');\n        document.body.appendChild(textarea);\n        \n        // Select text\n        if (navigator.userAgent.match(/ipad|iphone/i)) {\n          // iOS\n          const range = document.createRange();\n          range.selectNodeContents(textarea);\n          const selection = window.getSelection();\n          if (selection) {\n            selection.removeAllRanges();\n            selection.addRange(range);\n          }\n          textarea.setSelectionRange(0, 999999);\n        } else {\n          textarea.select();\n        }\n        \n        const successful = document.execCommand('copy');\n        document.body.removeChild(textarea);\n        return successful;\n      } catch (err) {\n        console.error('Fallback copy failed:', err);\n        return false;\n      }\n    };\n\n    try {\n      // Try modern clipboard API first (requires HTTPS or localhost)\n      if (navigator.clipboard && window.isSecureContext) {\n        await navigator.clipboard.writeText(password);\n        setCopiedPassword(true);\n        toast({\n          title: \"Password disalin\",\n          description: \"Password telah disalin ke clipboard\",\n        });\n        setTimeout(() => setCopiedPassword(false), 2000);\n        return;\n      }\n    } catch (err) {\n      console.warn('Clipboard API failed, trying fallback:', err);\n    }\n\n    // Fallback to legacy method\n    const success = fallbackCopy(password);\n    if (success) {\n      setCopiedPassword(true);\n      toast({\n        title: \"Password disalin\",\n        description: \"Password telah disalin ke clipboard\",\n      });\n      setTimeout(() => setCopiedPassword(false), 2000);\n    } else {\n      // Last resort: show password in alert so user can manually copy\n      toast({\n        title: \"Gagal menyalin otomatis\",\n        description: \"Silakan salin password secara manual dari field password\",\n        variant: \"destructive\",\n        duration: 5000,\n      });\n      // Focus and select password field\n      const passwordInput = document.querySelector('input[type=\"password\"], input[type=\"text\"][id*=\"password\"]') as HTMLInputElement;\n      if (passwordInput) {\n        passwordInput.focus();\n        passwordInput.select();\n      }\n    }\n  };\n\n  // Generate and set password\n  const handleGeneratePassword = () => {\n    const newPassword = generateSecurePassword();\n    setFormData({ ...formData, password: newPassword });\n    toast({\n      title: \"Password di-generate\",\n      description: \"Password secure telah di-generate\",\n    });\n  };\n\n  // Check if user is admin\n  if (user?.role !== 'admin') {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center\">\n              <h2 className=\"text-xl font-semibold text-red-600 mb-2\">Akses Ditolak</h2>\n              <p className=\"text-gray-600\">Anda tidak memiliki akses ke halaman ini.</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    if (!token) return;\n    \n    setLoading(true);\n    try {\n      const response = await apiGet('/api/users', token);\n      setUsers(response.users || []);\n    } catch (error) {\n      console.error('Failed to fetch users:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal mengambil data user\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddUser = () => {\n    setFormData({\n      email: '',\n      full_name: '',\n      password: '',\n      role: 'user',\n      office_id: ''\n    });\n    setShowAddDialog(true);\n  };\n\n  const handleEditUser = (user: User) => {\n    setSelectedUser(user);\n    setFormData({\n      email: user.email,\n      full_name: user.full_name,\n      password: '', // Don't show password when editing\n      role: user.role,\n      office_id: user.office_id || ''\n    });\n    setShowEditDialog(true);\n  };\n\n  const handleDeleteUser = (user: User) => {\n    setSelectedUser(user);\n    setShowDeleteDialog(true);\n  };\n\n  const handleSubmit = async (isEdit: boolean = false) => {\n    if (!token) return;\n\n    // Validasi: role kanwil wajib punya office_id\n    if (formData.role === 'kanwil' && (!formData.office_id || formData.office_id === '')) {\n      setAddUserSuccess(false);\n      setAddUserMessage('Role kanwil wajib memiliki office_id');\n      setShowAddUserResultModal(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      if (isEdit && selectedUser) {\n        // Update user\n        const updateData = { ...formData };\n        if (!updateData.password) {\n          delete updateData.password; // Don't send empty password\n        }\n        await apiPut(`/api/users/${selectedUser.id}`, updateData, token);\n        setAddUserSuccess(true);\n        setAddUserMessage('User berhasil diperbarui.');\n      } else {\n        // Create new user\n        await apiPost('/api/users', formData, token);\n        setAddUserSuccess(true);\n        setAddUserMessage('User berhasil ditambahkan.');\n      }\n      \n      fetchUsers();\n      // Close form modal first, then show result modal\n      setShowAddDialog(false);\n      setShowEditDialog(false);\n      setFormData({\n        email: '',\n        full_name: '',\n        password: '',\n        role: 'user',\n        office_id: ''\n      });\n    } catch (error: any) {\n      setAddUserSuccess(false);\n      setAddUserMessage(error?.message || 'Gagal menyimpan user.');\n    } finally {\n      setIsSubmitting(false);\n      // Close form modal first, then show result modal\n      setShowAddDialog(false);\n      setShowEditDialog(false);\n      setShowAddUserResultModal(true);\n    }\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!token || !selectedUser) return;\n\n    setIsSubmitting(true);\n    try {\n      await apiDelete(`/api/users/${selectedUser.id}`, token);\n      toast({\n        title: \"Sukses\",\n        description: \"User berhasil dihapus\",\n      });\n      fetchUsers();\n      setShowDeleteDialog(false);\n      setSelectedUser(null);\n    } catch (error) {\n      console.error('Failed to delete user:', error);\n      toast({\n        title: \"Error\",\n        description: \"Gagal menghapus user\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const filteredUsers = users.filter(user =>\n    user.full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    user.role.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getRoleBadgeColor = (role: string) => {\n    switch (role) {\n      case 'admin':\n        return 'bg-red-100 text-red-800';\n      case 'operator':\n        return 'bg-blue-100 text-blue-800';\n      case 'user':\n        return 'bg-green-100 text-green-800';\n      case 'admin_wilayah':\n        return 'bg-purple-100 text-purple-800';\n      case 'bimas':\n        return 'bg-orange-100 text-orange-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {/* Modal Hasil Tambah User */}\n      {showAddUserResultModal && (\n        <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-in fade-in-0 duration-200\">\n          <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full flex flex-col items-center animate-in zoom-in-95 duration-200\">\n            {addUserSuccess ? (\n              <div className=\"flex flex-col items-center\">\n                <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\n                  <svg className=\"w-10 h-10 text-green-600\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" /></svg>\n                </div>\n                <h2 className=\"text-2xl font-bold mb-2 text-gray-900\">Berhasil</h2>\n                <p className=\"text-gray-600 mb-6 text-center\">{addUserMessage}</p>\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center\">\n                <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\n                  <svg className=\"w-10 h-10 text-red-600\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" /></svg>\n                </div>\n                <h2 className=\"text-2xl font-bold mb-2 text-gray-900\">Gagal</h2>\n                <p className=\"text-gray-600 mb-6 text-center\">{addUserMessage}</p>\n              </div>\n            )}\n            <button\n              className=\"w-full py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white text-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n              onClick={() => setShowAddUserResultModal(false)}\n            >\n              Tutup\n            </button>\n          </div>\n        </div>\n      )}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"flex items-center gap-2\">\n                <UsersIcon className=\"w-5 h-5\" />\n                Management User\n              </CardTitle>\n              <CardDescription>\n                Kelola user dan akses sistem\n              </CardDescription>\n            </div>\n            <Button onClick={handleAddUser} className=\"bg-green-600 hover:bg-green-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Tambah User\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {/* Search */}\n          <div className=\"mb-6\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <Input\n                placeholder=\"Cari user...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          {/* Users Table */}\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-6 h-6 animate-spin mr-2 text-green-600\" />\n              <span>Loading users...</span>\n            </div>\n          ) : (\n            <div className=\"border rounded-lg\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Nama</TableHead>\n                    <TableHead>Email</TableHead>\n                    <TableHead>Role</TableHead>\n                    <TableHead>Office ID</TableHead>\n                    <TableHead>Created At</TableHead>\n                    <TableHead className=\"text-right\">Aksi</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredUsers.length === 0 ? (\n                    <TableRow>\n                      <TableCell colSpan={6} className=\"text-center py-8 text-gray-500\">\n                        {searchTerm ? 'Tidak ada user yang ditemukan' : 'Belum ada user'}\n                      </TableCell>\n                    </TableRow>\n                  ) : (\n                    filteredUsers.map((user) => (\n                      <TableRow key={user.id}>\n                        <TableCell className=\"font-medium\">{user.full_name}</TableCell>\n                        <TableCell>{user.email}</TableCell>\n                        <TableCell>\n                          <Badge className={getRoleBadgeColor(user.role)}>\n                            {user.role}\n                          </Badge>\n                        </TableCell>\n                        <TableCell>{user.office_id || '-'}</TableCell>\n                        <TableCell>\n                          {user.created_at ? new Date(user.created_at).toLocaleDateString('id-ID') : '-'}\n                        </TableCell>\n                        <TableCell className=\"text-right\">\n                          <div className=\"flex items-center justify-end gap-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleEditUser(user)}\n                            >\n                              <Edit className=\"w-4 h-4\" />\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteUser(user)}\n                              className=\"text-red-600 hover:text-red-700\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Add User Dialog */}\n      <Dialog open={showAddDialog} onOpenChange={setShowAddDialog}>\n         <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Tambah User Baru</DialogTitle>\n            <DialogDescription>\n              Masukkan informasi user yang akan ditambahkan ke sistem.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                placeholder=\"user@example.com\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"full_name\">Nama Lengkap</Label>\n              <Input\n                id=\"full_name\"\n                value={formData.full_name}\n                onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                placeholder=\"Nama lengkap user\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"password\">Password</Label>\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Input\n                    id=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    value={formData.password}\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                    placeholder=\"Password\"\n                  />\n                  <div className=\"absolute right-0 top-0 h-full flex items-center gap-1 pr-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-full px-2 hover:bg-transparent\"\n                      onClick={() => setShowPassword(!showPassword)}\n                    >\n                      {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                    </Button>\n                    {formData.password && (\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-full px-2 hover:bg-transparent\"\n                        onClick={() => copyPasswordToClipboard(formData.password)}\n                      >\n                        {copiedPassword ? <Check className=\"h-4 w-4 text-green-600\" /> : <Copy className=\"h-4 w-4\" />}\n                      </Button>\n                    )}\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleGeneratePassword}\n                    className=\"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-50\"\n                  >\n                    <RefreshCw className=\"h-4 w-4\" />\n                    Generate Password\n                  </Button>\n                  {formData.password && (\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => copyPasswordToClipboard(formData.password)}\n                      className=\"flex items-center gap-2 border-blue-600 text-blue-600 hover:bg-blue-50\"\n                    >\n                      {copiedPassword ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                      {copiedPassword ? 'Disalin!' : 'Copy Password'}\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div>\n              <Label htmlFor=\"role\">Role</Label>\n              <Select value={formData.role} onValueChange={(value: 'admin' | 'operator' | 'user' | 'admin_wilayah' | 'bimas' | 'kanwil') => setFormData({ ...formData, role: value })}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Pilih role\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"user\">User</SelectItem>\n                  <SelectItem value=\"operator\">Operator</SelectItem>\n                  <SelectItem value=\"admin\">Admin</SelectItem>\n                  <SelectItem value=\"admin_wilayah\">Admin Wilayah</SelectItem>\n                  <SelectItem value=\"bimas\">Bimas</SelectItem>\n                  <SelectItem value=\"kanwil\">Kanwil</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"office_id\">Office ID {formData.role === 'kanwil' && <span className=\"text-red-500\">*</span>}</Label>\n              <Input\n                id=\"office_id\"\n                value={formData.office_id}\n                onChange={(e) => setFormData({ ...formData, office_id: e.target.value })}\n                placeholder={formData.role === 'kanwil' ? 'ID kantor (wajib untuk kanwil)' : 'ID kantor (opsional)'}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowAddDialog(false)}>\n              Batal\n            </Button>\n            <Button \n              onClick={() => handleSubmit(false)}\n              disabled={isSubmitting || !formData.email || !formData.full_name || !formData.password}\n              className=\"bg-green-600 hover:bg-green-700\"\n            >\n              {isSubmitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2 text-white\" /> : null}\n              Tambah User\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit User Dialog */}\n      <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Edit User</DialogTitle>\n            <DialogDescription>\n              Perbarui informasi user.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"edit-email\">Email</Label>\n              <Input\n                id=\"edit-email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                placeholder=\"user@example.com\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"edit-full_name\">Nama Lengkap</Label>\n              <Input\n                id=\"edit-full_name\"\n                value={formData.full_name}\n                onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                placeholder=\"Nama lengkap user\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"edit-password\">Password Baru (opsional)</Label>\n              <div className=\"space-y-2\">\n                <div className=\"relative\">\n                  <Input\n                    id=\"edit-password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    value={formData.password}\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                    placeholder=\"Kosongkan jika tidak ingin mengubah password\"\n                  />\n                  <div className=\"absolute right-0 top-0 h-full flex items-center gap-1 pr-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-full px-2 hover:bg-transparent\"\n                      onClick={() => setShowPassword(!showPassword)}\n                    >\n                      {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                    </Button>\n                    {formData.password && (\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-full px-2 hover:bg-transparent\"\n                        onClick={() => copyPasswordToClipboard(formData.password)}\n                      >\n                        {copiedPassword ? <Check className=\"h-4 w-4 text-green-600\" /> : <Copy className=\"h-4 w-4\" />}\n                      </Button>\n                    )}\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleGeneratePassword}\n                    className=\"flex items-center gap-2 border-green-600 text-green-600 hover:bg-green-50\"\n                  >\n                    <RefreshCw className=\"h-4 w-4\" />\n                    Generate Password\n                  </Button>\n                  {formData.password && (\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => copyPasswordToClipboard(formData.password)}\n                      className=\"flex items-center gap-2 border-blue-600 text-blue-600 hover:bg-blue-50\"\n                    >\n                      {copiedPassword ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                      {copiedPassword ? 'Disalin!' : 'Copy Password'}\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div>\n              <Label htmlFor=\"edit-role\">Role</Label>\n              <Select value={formData.role} onValueChange={(value: 'admin' | 'operator' | 'user' | 'admin_wilayah' | 'bimas' | 'kanwil') => setFormData({ ...formData, role: value })}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Pilih role\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"user\">User</SelectItem>\n                  <SelectItem value=\"operator\">Operator</SelectItem>\n                  <SelectItem value=\"admin\">Admin</SelectItem>\n                  <SelectItem value=\"admin_wilayah\">Admin Wilayah</SelectItem>\n                  <SelectItem value=\"bimas\">Bimas</SelectItem>\n                  <SelectItem value=\"kanwil\">Kanwil</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label htmlFor=\"edit-office_id\">Office ID</Label>\n              <Input\n                id=\"edit-office_id\"\n                value={formData.office_id}\n                onChange={(e) => setFormData({ ...formData, office_id: e.target.value })}\n                placeholder=\"ID kantor (opsional)\"\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowEditDialog(false)}>\n              Batal\n            </Button>\n            <Button \n              onClick={() => handleSubmit(true)}\n              disabled={isSubmitting || !formData.email || !formData.full_name}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              {isSubmitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2 text-white\" /> : null}\n              Update User\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Hapus User</AlertDialogTitle>\n            <AlertDialogDescription>\n              Apakah Anda yakin ingin menghapus user \"{selectedUser?.full_name}\"? \n              Tindakan ini tidak dapat dibatalkan.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Batal</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDeleteConfirm}\n              disabled={isSubmitting}\n              className=\"bg-red-600 hover:bg-red-700\"\n            >\n              {isSubmitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2 text-white\" /> : null}\n              Hapus\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n};\n\nexport default Users; "],"names":["Users","user","token","useAuth","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","showAddDialog","setShowAddDialog","showEditDialog","setShowEditDialog","showDeleteDialog","setShowDeleteDialog","selectedUser","setSelectedUser","formData","setFormData","showPassword","setShowPassword","isSubmitting","setIsSubmitting","showAddUserResultModal","setShowAddUserResultModal","addUserSuccess","setAddUserSuccess","addUserMessage","setAddUserMessage","copiedPassword","setCopiedPassword","generateSecurePassword","charset","password","lowercase","uppercase","numbers","symbols","i","copyPasswordToClipboard","toast","fallbackCopy","text","textarea","range","selection","successful","err","passwordInput","handleGeneratePassword","newPassword","jsx","Card","CardContent","jsxs","useEffect","fetchUsers","response","apiGet","error","handleAddUser","handleEditUser","handleDeleteUser","handleSubmit","isEdit","updateData","apiPut","apiPost","handleDeleteConfirm","apiDelete","filteredUsers","getRoleBadgeColor","role","CardHeader","CardTitle","UsersIcon","CardDescription","Button","Plus","Search","Input","e","Loader2","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Badge","Edit","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","EyeOff","Eye","Check","Copy","RefreshCw","Select","value","SelectTrigger","SelectValue","SelectContent","SelectItem","DialogFooter","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}