{"version":3,"mappings":"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AE,EAAI,KAAK,WAAW/yB,CAAC,EAC/B+V,EAAG,IAAIkR,CAAI,EAAIA,EAAOnlB,EAAM,IAAI4Z,EAAa,CACrD,EACMgI,GAAa,IAAM/P,EACnB8f,EAAWA,GAAYV,CAC7B,CAAK,EACMU,EAAW,OAAS/P,CAC5B,CAED,cAAchP,EAAO,CACfA,GAAS,GACXM,EACE,KAAK,OACJlT,GAAUkT,EACTlT,EACCE,GAAUyZ,GAAczZ,CAAK,GAAKoa,GAAiBpa,EAAO,IAAI,CAChE,CACT,CACG,CAED,gBAAgB0S,EAAO,CACjBA,GAAS,GACXM,EACE,KAAK,OACJlT,GAAUkT,EACTlT,EACCE,GAAUyZ,GAAczZ,CAAK,GAAKqa,GAAoBra,EAAO,IAAI,CACnE,CACT,CACG,CACD,cAAcjH,EAAO,CACfA,EAAM,MAAQ,WAChB,KAAK,OAAS,MAEhB+gB,GAAmB,KAAM/gB,CAAK,CAC/B,CACH,EAGI24B,GAAa,CACf,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAEA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,OACF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","names":["m","require$$0","createRoot","createTooltipContext","createTooltipScope","createContextScope","createPopperScope","usePopperScope","PROVIDER_NAME","DEFAULT_DELAY_DURATION","TOOLTIP_OPEN","TooltipProviderContextProvider","useTooltipProviderContext","TooltipProvider","props","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","children","isOpenDelayedRef","React.useRef","isPointerInTransitRef","skipDelayTimerRef","React.useEffect","skipDelayTimer","jsx","React.useCallback","inTransit","TOOLTIP_NAME","TooltipContextProvider","useTooltipContext","TRIGGER_NAME","TooltipTrigger","React.forwardRef","forwardedRef","triggerProps","context","providerContext","popperScope","ref","composedRefs","useComposedRefs","isPointerDownRef","hasPointerMoveOpenedRef","handlePointerUp","PopperPrimitive.Anchor","Primitive","composeEventHandlers","event","PORTAL_NAME","PortalProvider","usePortalContext","CONTENT_NAME","TooltipContent","portalContext","forceMount","side","contentProps","Presence","TooltipContentImpl","TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","React.useState","trigger","onClose","content","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","currentTarget","exitPoint","exitSide","getExitSideFromRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","target","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","isPointInPolygon","VisuallyHiddenContentContextProvider","useVisuallyHiddenContentContext","Slottable","createSlottable","ariaLabel","onEscapeKeyDown","onPointerDownOutside","handleScroll","DismissableLayer","jsxs","PopperPrimitive.Content","VisuallyHiddenPrimitive.Root","ARROW_NAME","TooltipArrow","arrowProps","PopperPrimitive.Arrow","point","rect","top","bottom","right","left","padding","polygon","x","y","inside","j","ii","jj","xi","yi","xj","yj","points","newPoints","a","b","getHullPresorted","upperHull","i","p","q","r","lowerHull","Provider","Content2","cn","inputs","twMerge","clsx","generateUrl","path","formatTanggalIndonesia","tanggal","bulanIndo","d","formatKabKota","str","s","TooltipPrimitive.Provider","className","sideOffset","TooltipPrimitive.Content","Subscribable","listener","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","aItemsSet","equalItems","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","_a","__privateAdd","_focused","_cleanup","_setup","__privateSet","onFocus","__privateGet","setup","focused","isFocused","focusManager","OnlineManager","_online","onOnline","onlineListener","offlineListener","online","onlineManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","config","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","error","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","retry","retryDelay","delay","shouldRetry","defaultScheduler","cb","createNotifyManager","queue","transactions","notifyFn","callback","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","Removable","_gcTimeout","newGcTime","Query","_Query_instances","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","getDefaultState","newData","__privateMethod","dispatch_fn","state","setStateOptions","promise","_b","observer","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context2","_c","_d","_f","_e","_h","_g","_j","_i","_l","_k","action","reducer","fetchState","newState","hasData","initialDataUpdatedAt","QueryCache","_queries","client","queryHash","queryInMap","defaultedFilters","queries","Mutation","_Mutation_instances","_observers","_mutationCache","variables","onContinue","restored","isPaused","_n","_m","_p","_o","_r","_q","_t","_s","MutationCache","_mutations","_scopes","_mutationId","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","foundMutation","pausedMutations","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","getBaseUrl","apiFetch","method","url","token","headers","fullUrl","res","contentType","responseData","refreshRes","refreshData","err","errorMessage","apiGet","apiPost","apiPut","apiDelete","replaceFile","pengajuanId","fileId","file","userRole","fileCategory","formData","baseUrl","response","updateQueue","makeQueue","raf","writeQueue","onStartQueue","onFrameQueue","onFinishQueue","timeouts","handler","ms","time","t","pendingCount","findTimeout","start","sync","lastArgs","queuedFn","throttled","nativeRaf","impl","update","ts","loop","stop","prevTs","count","eachSafely","next","current","arg","values","each","e","__defProp","__export","all","name","globals_exports","assign","colors","createStringInterpolator","skipAnimation","to","willAdvance","defineHidden","obj","is","isEqual","eachProp","ctx","toArray","iterator","flushCalls","isSSR","globals","startQueue","currentFrame","prevFrame","priority","frameLoop","animation","raf2","flushStartQueue","startSafely","advance","prevIndex","startUnsafely","findIndex","other","dt","nextFrame","arr","test","clamp","min","v","colors2","NUMBER","PERCENTAGE","call","parts","rgb","rgba","hsl","hsla","hex3","hex4","hex6","hex8","normalizeColor","color","match","parse255","parse1","hslToRgb","parse360","parsePercentage","hue2rgb","h","l","g","int","num","colorToRgba","int32Color","createInterpolator","range","output","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","range2","findRange","interpolate","inputMin","inputMax","outputMin","outputMax","map","steps","steps2","progress2","expanded","rounded","c1","c2","c3","c4","c5","bounceOut","easings","$get","$observers","hasFluidValue","getFluidValue","getFluidObservers","callFluidObserver","observer2","callFluidObservers","observers","FluidValue","get","setFluidGetter","setHidden","addFluidObserver","removeFluidObserver","numberRegex","colorRegex","unitRegex","rgbaRegex","cssVariableRegex","variableToRgba","fallback","parseCSSVariable","value2","namedColorRegex","rgbaRound","p1","p2","p3","p4","createStringInterpolator2","keyframes","interpolators","output2","missingUnit","prefix","once","func","called","warnInterpolate","deprecateInterpolate","warnDirectCall","deprecateDirectCall","isAnimatedString","useIsomorphicLayoutEffect","useEffect","useLayoutEffect","useIsMounted","isMounted","useRef2","useForceUpdate","useState","useOnce","effect","useEffect3","emptyDeps","usePrev","prevRef","useRef4","useEffect4","$node","isAnimated","getAnimated","owner","setAnimated","node","getPayload","Animated","AnimatedValue","_AnimatedValue","_value","step","done","AnimatedString","_AnimatedString","is2","goal","TreeContext","AnimatedObject","source","animated","payload","AnimatedArray","_AnimatedArray","makeAnimated","getAnimatedType","parentNode","is3","isAnimatedString2","withAnimated","Component","host","hasInstance","is4","forwardRef","givenProps","givenRef","instanceRef","useRef","useCallback","updateRef","deps","getAnimatedState","forceUpdate","instance","PropsObserver","observerRef","each2","dep","usedProps","React.createElement","dependencies","cacheKey","createHost","components","applyAnimatedValues","createAnimatedStyle","style","getComponentProps","hostConfig","displayName","getDisplayName","is5","eachProp2","callProp","matchProp","resolveProp","prop","getDefaultProp","noopTransform","getDefaultProps","transform","keys","DEFAULT_PROPS","defaults2","RESERVED_PROPS","getForwardProps","forward","inferTo","to2","out","computeGoal","G","hasProps","isAsyncTo","detachRefs","ctrl","replaceRef","AnimationConfig","mergeConfig","config2","newConfig","defaultConfig","sanitizeConfig","frequency","damping","mass","isTensionConfig","emptyArray","Animation","scheduleProps","callId","defaultProps","actions","onStart","onResume","onPause","G2","getCombinedResult","results","getCancelledResult","getNoopResult","getFinishedResult","finished","runAsync","parentId","onRest","prevTo","prevPromise","preventBail","bail","bailPromise","bailIfEnded","bailSignal","bailResult","animate","arg1","arg2","BailSignal","skipAnimationSignal","SkipAnimationSignal","G3","stopAsync","props2","result2","resume","animating","cancelId","isFrameValue","FrameValue","nextId","FluidValue2","G4","idle","$P","HAS_ANIMATED","IS_ANIMATING","IS_PAUSED","hasAnimated","isAnimating","setActiveBit","active","setPausedBit","paused","SpringValue","getFluidValue2","getAnimated2","node2","changed","anim","toValues","toArray2","position","elapsed","from","v0","velocity","precision","decay","restVelocity","bounceFactor","canBounce","isGrowing","isMoving","isBouncing","numSteps","n","springForce","dampingForce","acceleration","currVal","finalVal","raf3","isLoop","mergeActiveFn","sendEvent","checkFinished","nextProps","createLoopUpdate","hasToProp","hasFromProp","prevFrom","hasFromChanged","hasToChanged","hasAsyncTo","reset","isAnimatable","immediate","nodeType","goalType","started","hasValueChanged","ACTIVE_EVENTS","oldNode","G5","frameLoop2","callFluidObservers2","loopRet","overrides","reverse","createUpdate","findDefined","declareUpdate","update2","eachProp3","BATCHED_EVENTS","nextId2","Controller","flush3","spring","is6","toArray3","prepareKeys","flushUpdateQueue","springs","each3","eachProp4","onChange","flush2","onStart2","onChange2","onRest2","raf4","flushUpdate","onResolve","asyncTo","flushCalls2","getSprings","prepareSprings","createSpring","setSprings","addFluidObserver2","create","SpringContext","SpringRef","SpringRef2","each4","is7","_getProps","useSprings","length","propsFn","is8","useMemo2","layoutId","updates2","springs2","ctrls","updates","prevLength","each5","declareUpdates","startIndex","endIndex","useContext2","prevContext","hasContext","useIsomorphicLayoutEffect2","useSpring","isFn","is9","Interpolation","getAnimatedType2","setAnimated2","_dt","oldValue","isEqual2","getAnimated3","checkIdle","becomeIdle","is14","getFluidValue3","toArray5","each10","getPayload2","G6","raf5","frameLoop3","hasFluidValue2","addFluidObserver3","removeFluidObserver2","highest","parent","isIdle","self","callFluidObservers3","Globals","isCustomPropRE","dangerousStyleValue","isUnitlessNumber","attributeCache","isFilterElement","scrollTop","scrollLeft","viewBox","attributes","names","prefixKey","prefixes","acc","domTransforms","pxTransforms","degTransforms","addUnit","unit","isValueIdentity","id","AnimatedStyle","z","transforms","xyz","x2","y2","z2","deg","FluidTransform","identity","primitives","unstable_batchedUpdates","IslandMode","makeScene","Gaussian","ColorMatrix","flatMove","DynamicIslandInternal","scenes","currentSceneName","isHiding","transitionModeRef","previousSceneRef","currentScene","currentMode","setCurrentMode","previousScene","dynamicIslandStyles","darkRoomStyles","expandedItemStyles","lonelyIslandStyles","lonelyIslandAttr","minimizedModeLeftItemStyles","lonelyIslandItemStyles","DynamicIsland","shouldRender","setShouldRender","unmountTimer","AuthContext","createContext","AuthProvider","user","setUser","originalUser","setOriginalUser","setToken","originalToken","setOriginalToken","loading","setLoading","isMaintenanceMode","setIsMaintenanceMode","maintenanceMessage","setMaintenanceMessage","showWelcomeIsland","setShowWelcomeIsland","hasShownWelcome","setHasShownWelcome","setIsHiding","newToken","checkMaintenanceStatus","currentUser","storedToken","storedOriginalToken","storedOriginalUser","hasOriginalData","isImpersonationResponse","logout","isLoginPage","isMaintenancePage","hideTimer","completeTimer","forceHideTimer","login","email","password","refreshUser","updateToken","impersonateUser","userId","isAdminKanwil","stopImpersonating","hasImpersonationData","hasBackendImpersonationFlag","backendError","parsedOriginalUser","parseError","isImpersonating","createWelcomeScene","userData","WelcomeScene","useAuth","useContext","navigationConfig","Home","BarChart3","FileText","FileCheck","FolderOpen","Upload","UserCog","Settings","routeConfig","getNavigationItems","getBreadcrumbs","pathname","params","pattern","routeConfigItem","breadcrumb","hasAccess","getPageTitle","useNavigation","location","useLocation","useParams","currentRole","useMemo","navigationItems","breadcrumbs","pageTitle","hasPageAccess","checkAccess","getNavigationItem","href","isActivePath","parentRoutes","parentRoute","subRoutes","subRoute","getParentBreadcrumb","getRootBreadcrumb","buttonVariants","cva","Button","variant","size","asChild","Comp","Slot","DropdownMenu","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuSubTrigger","inset","DropdownMenuPrimitive.SubTrigger","ChevronRight","DropdownMenuSubContent","DropdownMenuPrimitive.SubContent","DropdownMenuContent","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","DropdownMenuPrimitive.Item","DropdownMenuCheckboxItem","checked","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuRadioItem","DropdownMenuPrimitive.RadioItem","Circle","DropdownMenuLabel","DropdownMenuPrimitive.Label","DropdownMenuSeparator","DropdownMenuPrimitive.Separator","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogClose","DialogPrimitive.Close","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","X","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","React","objectIs","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useIsHydrated","useSyncExternalStore","AVATAR_NAME","createAvatarContext","createAvatarScope","AvatarProvider","useAvatarContext","Avatar","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","timerId","resolveLoadingStatus","image","referrerPolicy","crossOrigin","isHydrated","imageRef","loadingStatus","setLoadingStatus","updateStatus","handleLoad","handleError","Root","Image","Fallback","AvatarPrimitive.Root","AvatarPrimitive.Image","AvatarPrimitive.Fallback","Input","badgeVariants","Badge","TOAST_LIMIT","TOAST_REMOVE_DELAY","genId","toastTimeouts","addToRemoveQueue","toastId","dispatch","toast","listeners","memoryState","dismiss","open","useToast","setState","NavigationBar","isMobileMenuOpen","setIsMobileMenuOpen","showLogoutModal","setShowLogoutModal","showImpersonateModal","setShowImpersonateModal","showStopImpersonateModal","setShowStopImpersonateModal","showStopSuccessModal","setShowStopSuccessModal","selectedUser","setSelectedUser","availableUsers","setAvailableUsers","loadingUsers","setLoadingUsers","showUserSelectionModal","setShowUserSelectionModal","userSearchTerm","setUserSearchTerm","fetchAvailableUsers","filteredUsers","u","handleLogoutClick","handleLogoutConfirm","handleImpersonateClick","handleUserSelection","handleImpersonateConfirm","handleStopImpersonatingClick","handleStopImpersonatingConfirm","Fragment","Link","UserCheck","UserX","Icon","Users","LogOut","Menu","AlertTriangle","Search","Loader2","User","selectedUserData","ArrowLeft","CheckCircle","Skeleton","ToastProvider","ToastPrimitives.Provider","ToastViewport","ToastPrimitives.Viewport","toastVariants","Toast","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","Toaster","toasts","title","description","AppLayout","showOfficeModal","setShowOfficeModal","offices","setOffices","ErrorBoundary","__publicField","errorInfo","PROGRESS_NAME","DEFAULT_MAX","createProgressContext","createProgressScope","ProgressProvider","useProgressContext","Progress","__scopeProgress","valueProp","maxProp","getValueLabel","defaultGetValueLabel","progressProps","isValidMaxNumber","getInvalidMaxError","isValidValueNumber","getInvalidValueError","valueLabel","isNumber","getProgressState","INDICATOR_NAME","ProgressIndicator","indicatorProps","maxValue","propValue","componentName","Indicator","ProgressPrimitive.Root","ProgressPrimitive.Indicator","ERROR_MESSAGES","SUCCESS_MESSAGES","ACTION_MESSAGES","MessageHandler","customMessage","message","success","showSuccess","showError","showInfo","showSaveSuccess","showSaveError","showDownloadError","SessionManager","sessionState","setSessionState","showSessionModal","setShowSessionModal","showExpiryWarning","setShowExpiryWarning","countdown","setCountdown","navigate","useNavigate","SESSION_WARNING_TIME","MAX_REFRESH_ATTEMPTS","getTokenExpiry","checkTokenExpiry","expiry","now","timeUntilExpiry","prev","refreshToken","handleSessionExpired","handleLogout","handleRefresh","interval","timer","formatCountdown","seconds","minutes","remainingSeconds","RefreshCw","Lock","Clock","Dashboard","lazy","TemplateSelection","TemplateForm","NotFound","Index","LetterDetail","Letters","LetterPrintPreview","PengajuanSelect","PengajuanFileUpload","PengajuanIndex","PengajuanDetail","PengajuanEdit","AuditLogPage","JobTypeConfiguration","AdminWilayahDashboard","AdminWilayahUploadPage","SKForm","MaintenancePage","PageLoading","queryClient","ProtectedRoute","Navigate","AdminRoute","AdminOperatorRoute","AdminOrUserRoute","AdminWilayahRoute","MaintenanceRoute","AppRoutes","Routes","Route","Suspense","AppInner","showSessionExpiredModal","setShowSessionExpiredModal","currentPath","handleGlobalError","handleUnhandledRejection","originalFetch","App","BrowserRouter","_args"],"ignoreList":[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,21,22,23,24,32,33,34,35,46],"sources":["../../node_modules/react-dom/client.js","../../node_modules/@radix-ui/react-tooltip/dist/index.mjs","../../src/lib/utils.ts","../../src/components/ui/tooltip.tsx","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../src/lib/api.ts","../../node_modules/@react-spring/rafz/dist/react-spring_rafz.modern.mjs","../../node_modules/@react-spring/shared/dist/react-spring_shared.modern.mjs","../../node_modules/@react-spring/animated/dist/react-spring_animated.modern.mjs","../../node_modules/@react-spring/core/dist/react-spring_core.modern.mjs","../../node_modules/@react-spring/web/dist/react-spring_web.modern.mjs","../../src/components/DynamicIsland/DynamicIsland.tsx","../../src/contexts/AuthContext.tsx","../../src/config/navigation.ts","../../src/hooks/useNavigation.ts","../../src/components/ui/button.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/dialog.tsx","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs","../../node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/components/ui/avatar.tsx","../../src/components/ui/input.tsx","../../src/components/ui/badge.tsx","../../src/hooks/use-toast.ts","../../src/components/NavigationBar.tsx","../../src/components/ui/skeleton.tsx","../../src/components/ui/toast.tsx","../../src/components/ui/toaster.tsx","../../src/components/AppLayout.tsx","../../src/components/ErrorBoundary.tsx","../../node_modules/@radix-ui/react-progress/dist/index.mjs","../../src/components/ui/progress.tsx","../../src/constants/messages.ts","../../src/lib/messageUtils.ts","../../src/components/SessionManager.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","\"use client\";\n\n// src/tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n// Helper function to generate URLs that respect the basename\r\nexport function generateUrl(path: string) {\r\n  const basename = import.meta.env.MODE === 'production' ? '/FE' : '';\r\n  return `${basename}${path}`;\r\n}\r\n\r\n// Fungsi untuk mengkonversi tanggal ke format Indonesia dengan nama bulan\r\nexport function formatTanggalIndonesia(tanggal: string) {\r\n  if (!tanggal) return '';\r\n  const bulanIndo = [\r\n    '', 'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',\r\n    'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'\r\n  ];\r\n  let d, m, y;\r\n  if (/\\d{4}-\\d{2}-\\d{2}/.test(tanggal)) {\r\n    // yyyy-mm-dd\r\n    [y, m, d] = tanggal.split('-');\r\n    return `${parseInt(d, 10)} ${bulanIndo[parseInt(m, 10)]} ${y}`;\r\n  } else if (/\\d{2}-\\d{2}-\\d{4}/.test(tanggal)) {\r\n    // dd-mm-yyyy\r\n    [d, m, y] = tanggal.split('-');\r\n    return `${parseInt(d, 10)} ${bulanIndo[parseInt(m, 10)]} ${y}`;\r\n  } else {\r\n    return tanggal;\r\n  }\r\n}\r\n\r\n\r\n\r\n// Format nama kabupaten/kota agar rapi (Kota Mataram, Kabupaten Lombok Timur)\r\nexport function formatKabKota(str: string): string {\r\n  if (!str) return '';\r\n  return str\r\n    .toLowerCase()\r\n    .replace(/^(kota|kabupaten)/, (m) => m.charAt(0).toUpperCase() + m.slice(1))\r\n    .replace(/(^| )([a-z])/g, (s) => s.toUpperCase());\r\n}\r\n\r\nexport function getKanwilSettings() {\r\n  try {\r\n    const savedSettings = localStorage.getItem('kanwilSettings');\r\n    if (savedSettings) {\r\n      const parsed = JSON.parse(savedSettings);\r\n      return {\r\n        tingkat1: parsed.tingkat1 || 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\r\n        tingkat2: parsed.tingkat2 || 'KANTOR WILAYAH KEMENTERIAN AGAMA',\r\n        tingkat3: parsed.tingkat3 || 'PROVINSI NUSA TENGGARA BARAT',\r\n        alamat: parsed.alamat || '',\r\n        telepon: parsed.telepon || '',\r\n        fax: parsed.fax || '',\r\n        email: parsed.email || '',\r\n        website: parsed.website || ''\r\n      };\r\n    }\r\n  } catch (err) {\r\n    console.error('Error parsing kanwil settings:', err);\r\n  }\r\n\r\n  // Default values if no settings found\r\n  return {\r\n    tingkat1: 'KEMENTERIAN AGAMA REPUBLIK INDONESIA',\r\n    tingkat2: 'KANTOR WILAYAH KEMENTERIAN AGAMA',\r\n    tingkat3: 'PROVINSI NUSA TENGGARA BARAT',\r\n    alamat: '',\r\n    telepon: '',\r\n    fax: '',\r\n    email: '',\r\n    website: ''\r\n  };\r\n}\r\n\r\n// Role-based permission utilities\r\nexport const canCreate = (userRole: string): boolean => {\r\n  return ['admin', 'operator'].includes(userRole);\r\n};\r\n\r\nexport const canEdit = (userRole: string): boolean => {\r\n  return ['admin', 'operator'].includes(userRole);\r\n};\r\n\r\nexport const canDelete = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const canManageUsers = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const canManageSettings = (userRole: string): boolean => {\r\n  return userRole === 'admin';\r\n};\r\n\r\nexport const isViewOnly = (userRole: string): boolean => {\r\n  return userRole === 'user';\r\n};\r\n","import * as React from \"react\"\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst TooltipProvider = TooltipPrimitive.Provider\r\n\r\nconst Tooltip = TooltipPrimitive.Root\r\n\r\nconst TooltipTrigger = TooltipPrimitive.Trigger\r\n\r\nconst TooltipContent = React.forwardRef<\r\n  React.ElementRef<typeof TooltipPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <TooltipPrimitive.Content\r\n    ref={ref}\r\n    sideOffset={sideOffset}\r\n    className={cn(\r\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    const aItemsSet = new Set(aItems);\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if ((!array && aItemsSet.has(key) || array) && a[key] === void 0 && b[key] === void 0) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/notifyManager.ts\nvar defaultScheduler = (cb) => setTimeout(cb, 0);\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","// Helper API untuk request ke backend dengan JWT\nimport { useAuth } from '@/contexts/AuthContext';\n\n// Environment configuration - simplified\nconst getBaseUrl = () => {\n  // Use environment variable if available, otherwise detect based on hostname\n  const apiUrl = import.meta.env.VITE_API_URL;\n  \n  if (apiUrl) {\n    return apiUrl;\n  }\n  \n  // Fallback: detect based on hostname\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:3001';\n  }\n\n  // Production default: use same-origin with relative path (to be reverse-proxied, e.g., /api)\n  // This avoids mixed content when the app is served over HTTPS\n  return '';\n};\n\n// Get current environment for logging\nconst getCurrentEnvironment = () => {\n  const apiUrl = import.meta.env.VITE_API_URL;\n  \n  if (apiUrl) {\n    return apiUrl.includes('localhost') ? 'development' : 'production';\n  }\n  \n  return window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' \n    ? 'development' \n    : 'production';\n};\n\nexport async function apiFetch(method: string, url: string, options: { data?: any; token?: string; headers?: any } = {}) {\n  const { data, token, headers = {} } = options;\n  \n  const fullUrl = getBaseUrl() + url;\n  const fetchOptions: RequestInit = {\n    method,\n    headers: {\n      ...headers,\n    },\n    credentials: 'include', // penting agar cookie refresh token dikirim\n  };\n\n  if (token) {\n    fetchOptions.headers = {\n      ...fetchOptions.headers,\n      Authorization: `Bearer ${token}`,\n    };\n  }\n\n  if (data) {\n    // Jika data adalah FormData, biarkan browser set Content-Type boundary otomatis\n    if (typeof FormData !== 'undefined' && data instanceof FormData) {\n      fetchOptions.body = data as any;\n    } else {\n      fetchOptions.headers = {\n        'Content-Type': 'application/json',\n        ...fetchOptions.headers,\n      };\n      fetchOptions.body = JSON.stringify(data);\n    }\n  }\n\n  let res = await fetch(fullUrl, fetchOptions);\n  let contentType = res.headers.get('content-type');\n  let responseData;\n\n  if (contentType && contentType.includes('application/json')) {\n    responseData = await res.json();\n  } else {\n    responseData = await res.text();\n  }\n  \n  // Handle authentication errors (401) and authorization errors (403) that might indicate session expiry\n  // Hanya handle jika bukan endpoint auth dan bukan request yang sudah di-retry\n  if ((res.status === 401 || res.status === 403) && \n      url !== '/api/auth/refresh' && \n      url !== '/api/auth/me' && // Jangan retry /api/auth/me untuk mencegah infinite loop\n      !url.includes('/api/auth/')) {\n    \n    try {\n      // Tambah delay kecil untuk mencegah race condition\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      const refreshRes = await fetch(getBaseUrl() + '/api/auth/refresh', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n      });\n      \n      if (refreshRes.ok) {\n        const refreshData = await refreshRes.json();\n        if (refreshData.token) {\n          localStorage.setItem('token', refreshData.token);\n          // Update AuthContext jika ada\n          if (window.dispatchTokenUpdate) {\n            window.dispatchTokenUpdate(refreshData.token);\n          }\n          // Retry request dengan token baru\n          fetchOptions.headers = {\n            ...fetchOptions.headers,\n            Authorization: `Bearer ${refreshData.token}`,\n          };\n          res = await fetch(fullUrl, fetchOptions);\n          contentType = res.headers.get('content-type');\n          if (contentType && contentType.includes('application/json')) {\n            responseData = await res.json();\n          } else {\n            responseData = await res.text();\n          }\n          if (!res.ok) throw new Error(responseData?.message || res.statusText);\n          return responseData;\n        }\n      }\n      // Jika refresh gagal, trigger modal sesi berakhir global\n      if (window.showSessionExpiredModal) {\n        window.showSessionExpiredModal();\n      }\n      throw new Error('Sesi berakhir, silakan login kembali');\n    } catch (err) {\n      // Pastikan error message konsisten\n      const errorMessage = err instanceof Error ? err.message : 'Sesi berakhir, silakan login kembali';\n      if (window.showSessionExpiredModal) {\n        window.showSessionExpiredModal();\n      }\n      throw new Error(errorMessage);\n    }\n  }\n  \n  if (!res.ok) {\n    throw new Error(responseData?.message || res.statusText);\n  }\n  return responseData;\n}\n\nexport const apiGet = (url: string, token?: string, headers?: any) => apiFetch('GET', url, { token, headers });\nexport const apiPost = (url: string, data?: any, token?: string, headers?: any) => apiFetch('POST', url, { data, token, headers });\nexport const apiPut = (url: string, data?: any, token?: string, headers?: any) => apiFetch('PUT', url, { data, token, headers });\nexport const apiDelete = (url: string, token?: string, headers?: any) => apiFetch('DELETE', url, { token, headers });\n\n// API function untuk replace file\nexport const replaceFile = async (pengajuanId: string, fileId: string, file: File, token: string, userRole: string, fileCategory?: string) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  \n  // Logic untuk menentukan endpoint berdasarkan user role dan file category\n  let baseUrl = '/api';\n  \n  if (userRole === 'admin_wilayah') {\n    // Admin wilayah selalu menggunakan endpoint admin-wilayah\n    baseUrl = '/api/admin-wilayah';\n  } else if (userRole === 'admin') {\n    // Super admin menggunakan endpoint biasa untuk semua file (termasuk admin wilayah)\n    baseUrl = '/api';\n  }\n  \n  const url = `${baseUrl}/pengajuan/${pengajuanId}/files/${fileId}/replace`;\n  const fullUrl = getBaseUrl() + url;\n  \n  console.log(' Debug API replace file:', {\n    pengajuanId,\n    fileId,\n    fileName: file.name,\n    userRole,\n    fileCategory,\n    baseUrl,\n    url,\n    fullUrl,\n    token: token ? 'exists' : 'missing'\n  });\n  \n  const response = await fetch(fullUrl, {\n    method: 'PUT',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n    },\n    body: formData,\n  });\n  \n  console.log(' Response status:', response.status);\n  console.log(' Response ok:', response.ok);\n  \n  const result = await response.json();\n  console.log(' Response data:', result);\n  \n  if (!response.ok) {\n    throw new Error(result.message || 'Gagal mengganti file');\n  }\n  \n  return result;\n}; ","// src/index.ts\nvar updateQueue = makeQueue();\nvar raf = (fn) => schedule(fn, updateQueue);\nvar writeQueue = makeQueue();\nraf.write = (fn) => schedule(fn, writeQueue);\nvar onStartQueue = makeQueue();\nraf.onStart = (fn) => schedule(fn, onStartQueue);\nvar onFrameQueue = makeQueue();\nraf.onFrame = (fn) => schedule(fn, onFrameQueue);\nvar onFinishQueue = makeQueue();\nraf.onFinish = (fn) => schedule(fn, onFinishQueue);\nvar timeouts = [];\nraf.setTimeout = (handler, ms) => {\n  const time = raf.now() + ms;\n  const cancel = () => {\n    const i = timeouts.findIndex((t) => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n  const timeout = { time, handler, cancel };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\nvar findTimeout = (time) => ~(~timeouts.findIndex((t) => t.time > time) || ~timeouts.length);\nraf.cancel = (fn) => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\nraf.sync = (fn) => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\nraf.throttle = (fn) => {\n  let lastArgs;\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n  throttled.handler = fn;\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n  return throttled;\n};\nvar nativeRaf = typeof window != \"undefined\" ? window.requestAnimationFrame : (\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  () => {\n  }\n);\nraf.use = (impl) => nativeRaf = impl;\nraf.now = typeof performance != \"undefined\" ? () => performance.now() : Date.now;\nraf.batchedUpdates = (fn) => fn();\nraf.catch = console.error;\nraf.frameLoop = \"always\";\nraf.advance = () => {\n  if (raf.frameLoop !== \"demand\") {\n    console.warn(\n      \"Cannot call the manual advancement of rafz whilst frameLoop is not set as demand\"\n    );\n  } else {\n    update();\n  }\n};\nvar ts = -1;\nvar pendingCount = 0;\nvar sync = false;\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n    if (raf.frameLoop !== \"demand\") {\n      nativeRaf(loop);\n    }\n  }\n}\nfunction stop() {\n  ts = -1;\n}\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\nfunction update() {\n  const prevTs = ts;\n  ts = raf.now();\n  const count = findTimeout(ts);\n  if (count) {\n    eachSafely(timeouts.splice(0, count), (t) => t.handler());\n    pendingCount -= count;\n  }\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\nfunction makeQueue() {\n  let next = /* @__PURE__ */ new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n    flush(arg) {\n      if (current.size) {\n        next = /* @__PURE__ */ new Set();\n        pendingCount -= current.size;\n        eachSafely(current, (fn) => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n  };\n}\nfunction eachSafely(values, each) {\n  values.forEach((value) => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\nvar __raf = {\n  /** The number of pending tasks */\n  count() {\n    return pendingCount;\n  },\n  /** Whether there's a raf update loop running */\n  isRunning() {\n    return ts >= 0;\n  },\n  /** Clear internal state. Never call from update loop! */\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    pendingCount = 0;\n  }\n};\nexport {\n  __raf,\n  raf\n};\n","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  assign: () => assign,\n  colors: () => colors,\n  createStringInterpolator: () => createStringInterpolator,\n  skipAnimation: () => skipAnimation,\n  to: () => to,\n  willAdvance: () => willAdvance\n});\nimport { raf } from \"@react-spring/rafz\";\n\n// src/helpers.ts\nfunction noop() {\n}\nvar defineHidden = (obj, key, value) => Object.defineProperty(obj, key, { value, writable: true, configurable: true });\nvar is = {\n  arr: Array.isArray,\n  obj: (a) => !!a && a.constructor.name === \"Object\",\n  fun: (a) => typeof a === \"function\",\n  str: (a) => typeof a === \"string\",\n  num: (a) => typeof a === \"number\",\n  und: (a) => a === void 0\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  return a === b;\n}\nvar each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n    return;\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nvar toArray = (a) => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nvar flushCalls = (queue, ...args) => flush(queue, (fn) => fn(...args));\nvar isSSR = () => typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\n// src/globals.ts\nvar createStringInterpolator;\nvar to;\nvar colors = null;\nvar skipAnimation = false;\nvar willAdvance = noop;\nvar assign = (globals) => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== void 0) colors = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator)\n    createStringInterpolator = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\n// src/FrameLoop.ts\nimport { raf as raf2 } from \"@react-spring/rafz\";\nvar startQueue = /* @__PURE__ */ new Set();\nvar currentFrame = [];\nvar prevFrame = [];\nvar priority = 0;\nvar frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n  /** Advance the given animation on every frame until idle. */\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf2.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf2(advance);\n    }\n  },\n  /** Advance all animations by the given time. */\n  advance,\n  /** Call this when an animation's priority changes. */\n  sort(animation) {\n    if (priority) {\n      raf2.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   *  Never call this from within the frameloop.\n   */\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n};\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf2(advance);\n}\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\nfunction startUnsafely(animation) {\n  currentFrame.splice(\n    findIndex(currentFrame, (other) => other.priority > animation.priority),\n    0,\n    animation\n  );\n}\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\n// src/clamp.ts\nvar clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\n// src/colors.ts\nvar colors2 = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\n\n// src/colorMatchers.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call(...parts) {\n  return \"\\\\(\\\\s*(\" + parts.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nvar rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp(\n  \"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)\n);\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n// src/normalizeColor.ts\nfunction normalizeColor(color) {\n  let match;\n  if (typeof color === \"number\") {\n    return color >>> 0 === color && color >= 0 && color <= 4294967295 ? color : null;\n  }\n  if (match = hex6.exec(color))\n    return parseInt(match[1] + \"ff\", 16) >>> 0;\n  if (colors && colors[color] !== void 0) {\n    return colors[color];\n  }\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    255) >>> // a\n    0;\n  }\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n  if (match = hex3.exec(color)) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      \"ff\",\n      // a\n      16\n    ) >>> 0;\n  }\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n  if (match = hex4.exec(color)) {\n    return parseInt(\n      match[1] + match[1] + // r\n      match[2] + match[2] + // g\n      match[3] + match[3] + // b\n      match[4] + match[4],\n      // a\n      16\n    ) >>> 0;\n  }\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(\n      parse360(match[1]),\n      // h\n      parsePercentage(match[2]),\n      // s\n      parsePercentage(match[3])\n      // l\n    ) | 255) >>> // a\n    0;\n  }\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(\n      parse360(match[1]),\n      // h\n      parsePercentage(match[2]),\n      // s\n      parsePercentage(match[3])\n      // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n  return null;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\n// src/colorToRgba.ts\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  const r = (int32Color & 4278190080) >>> 24;\n  const g = (int32Color & 16711680) >>> 16;\n  const b = (int32Color & 65280) >>> 8;\n  const a = (int32Color & 255) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n// src/createInterpolator.ts\nvar createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output,\n      extrapolate\n    });\n  }\n  if (is.str(range.output[0])) {\n    return createStringInterpolator(range);\n  }\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || \"extend\";\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || \"extend\";\n  const easing = config.easing || ((t) => t);\n  return (input) => {\n    const range2 = findRange(input, inputRange);\n    return interpolate(\n      input,\n      inputRange[range2],\n      inputRange[range2 + 1],\n      outputRange[range2],\n      outputRange[range2 + 1],\n      easing,\n      extrapolateLeft,\n      extrapolateRight,\n      config.map\n    );\n  };\n};\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") return result;\n    else if (extrapolateLeft === \"clamp\") result = inputMin;\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") return result;\n    else if (extrapolateRight === \"clamp\") result = inputMax;\n  }\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;\n  else if (inputMax === Infinity) result = result - inputMin;\n  else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;\n  else if (outputMax === Infinity) result = result + outputMin;\n  else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i)\n    if (inputRange[i] >= input) break;\n  return i - 1;\n}\n\n// src/easings.ts\nvar steps = (steps2, direction = \"end\") => (progress2) => {\n  progress2 = direction === \"end\" ? Math.min(progress2, 0.999) : Math.max(progress2, 1e-3);\n  const expanded = progress2 * steps2;\n  const rounded = direction === \"end\" ? Math.floor(expanded) : Math.ceil(expanded);\n  return clamp(0, 1, rounded / steps2);\n};\nvar c1 = 1.70158;\nvar c2 = c1 * 1.525;\nvar c3 = c1 + 1;\nvar c4 = 2 * Math.PI / 3;\nvar c5 = 2 * Math.PI / 4.5;\nvar bounceOut = (x) => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\nvar easings = {\n  linear: (x) => x,\n  easeInQuad: (x) => x * x,\n  easeOutQuad: (x) => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: (x) => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: (x) => x * x * x,\n  easeOutCubic: (x) => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: (x) => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: (x) => x * x * x * x,\n  easeOutQuart: (x) => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: (x) => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: (x) => x * x * x * x * x,\n  easeOutQuint: (x) => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: (x) => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: (x) => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: (x) => Math.sin(x * Math.PI / 2),\n  easeInOutSine: (x) => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: (x) => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: (x) => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: (x) => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: (x) => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: (x) => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: (x) => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: (x) => c3 * x * x * x - c1 * x * x,\n  easeOutBack: (x) => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: (x) => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: (x) => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: (x) => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: (x) => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps\n};\n\n// src/fluids.ts\nvar $get = Symbol.for(\"FluidValue.get\");\nvar $observers = Symbol.for(\"FluidValue.observers\");\nvar hasFluidValue = (arg) => Boolean(arg && arg[$get]);\nvar getFluidValue = (arg) => arg && arg[$get] ? arg[$get]() : arg;\nvar getFluidObservers = (target) => target[$observers] || null;\nfunction callFluidObserver(observer2, event) {\n  if (observer2.eventObserved) {\n    observer2.eventObserved(event);\n  } else {\n    observer2(event);\n  }\n}\nfunction callFluidObservers(target, event) {\n  const observers = target[$observers];\n  if (observers) {\n    observers.forEach((observer2) => {\n      callFluidObserver(observer2, event);\n    });\n  }\n}\n$get, $observers;\nvar FluidValue = class {\n  constructor(get) {\n    if (!get && !(get = this.get)) {\n      throw Error(\"Unknown getter\");\n    }\n    setFluidGetter(this, get);\n  }\n};\nvar setFluidGetter = (target, get) => setHidden(target, $get, get);\nfunction addFluidObserver(target, observer2) {\n  if (target[$get]) {\n    let observers = target[$observers];\n    if (!observers) {\n      setHidden(target, $observers, observers = /* @__PURE__ */ new Set());\n    }\n    if (!observers.has(observer2)) {\n      observers.add(observer2);\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer2);\n      }\n    }\n  }\n  return observer2;\n}\nfunction removeFluidObserver(target, observer2) {\n  const observers = target[$observers];\n  if (observers && observers.has(observer2)) {\n    const count = observers.size - 1;\n    if (count) {\n      observers.delete(observer2);\n    } else {\n      target[$observers] = null;\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer2);\n    }\n  }\n}\nvar setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\n// src/regexs.ts\nvar numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nvar unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, \"i\");\nvar rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\n// src/variableToRgba.ts\nvar variableToRgba = (input) => {\n  const [token, fallback] = parseCSSVariable(input);\n  if (!token || isSSR()) {\n    return input;\n  }\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith(\"--\")) {\n    const value2 = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n    if (value2) {\n      return value2;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n  return input;\n};\nvar parseCSSVariable = (current) => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\n// src/stringInterpolation.ts\nvar namedColorRegex;\nvar rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\nvar createStringInterpolator2 = (config) => {\n  if (!namedColorRegex)\n    namedColorRegex = colors ? (\n      // match color names, ignore partial matches\n      new RegExp(`(${Object.keys(colors).join(\"|\")})(?!\\\\w)`, \"g\")\n    ) : (\n      // never match\n      /^\\b$/\n    );\n  const output = config.output.map((value) => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map((value) => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map(\n    (_, i) => keyframes.map((values) => {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal');\n      }\n      return values[i];\n    })\n  );\n  const interpolators = outputRanges.map(\n    (output2) => createInterpolator({ ...config, output: output2 })\n  );\n  return (input) => {\n    const missingUnit = !unitRegex.test(output[0]) && output.find((value) => unitRegex.test(value))?.replace(numberRegex, \"\");\n    let i = 0;\n    return output[0].replace(\n      numberRegex,\n      () => `${interpolators[i++](input)}${missingUnit || \"\"}`\n    ).replace(rgbaRegex, rgbaRound);\n  };\n};\n\n// src/deprecations.ts\nvar prefix = \"react-spring: \";\nvar once = (fn) => {\n  const func = fn;\n  let called = false;\n  if (typeof func != \"function\") {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\nvar warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(\n    `${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`\n  );\n}\nvar warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(\n    `${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`\n  );\n}\n\n// src/isAnimatedString.ts\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == \"#\" || /\\d/.test(value) || // Do not identify a CSS variable as an AnimatedString if its SSR\n  !isSSR() && cssVariableRegex.test(value) || value in (colors || {}));\n}\n\n// src/dom-events/scroll/index.ts\nimport { raf as raf3 } from \"@react-spring/rafz\";\n\n// src/dom-events/resize/resizeElement.ts\nvar observer;\nvar resizeHandlers = /* @__PURE__ */ new WeakMap();\nvar handleObservation = (entries) => entries.forEach(({ target, contentRect }) => {\n  return resizeHandlers.get(target)?.forEach((handler) => handler(contentRect));\n});\nfunction resizeElement(handler, target) {\n  if (!observer) {\n    if (typeof ResizeObserver !== \"undefined\") {\n      observer = new ResizeObserver(handleObservation);\n    }\n  }\n  let elementHandlers = resizeHandlers.get(target);\n  if (!elementHandlers) {\n    elementHandlers = /* @__PURE__ */ new Set();\n    resizeHandlers.set(target, elementHandlers);\n  }\n  elementHandlers.add(handler);\n  if (observer) {\n    observer.observe(target);\n  }\n  return () => {\n    const elementHandlers2 = resizeHandlers.get(target);\n    if (!elementHandlers2) return;\n    elementHandlers2.delete(handler);\n    if (!elementHandlers2.size && observer) {\n      observer.unobserve(target);\n    }\n  };\n}\n\n// src/dom-events/resize/resizeWindow.ts\nvar listeners = /* @__PURE__ */ new Set();\nvar cleanupWindowResizeHandler;\nvar createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(\n      (callback) => callback({\n        width: window.innerWidth,\n        height: window.innerHeight\n      })\n    );\n  };\n  window.addEventListener(\"resize\", handleResize);\n  return () => {\n    window.removeEventListener(\"resize\", handleResize);\n  };\n};\nvar resizeWindow = (callback) => {\n  listeners.add(callback);\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler();\n  }\n  return () => {\n    listeners.delete(callback);\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler();\n      cleanupWindowResizeHandler = void 0;\n    }\n  };\n};\n\n// src/dom-events/resize/index.ts\nvar onResize = (callback, { container = document.documentElement } = {}) => {\n  if (container === document.documentElement) {\n    return resizeWindow(callback);\n  } else {\n    return resizeElement(callback, container);\n  }\n};\n\n// src/progress.ts\nvar progress = (min, max, value) => max - min === 0 ? 1 : (value - min) / (max - min);\n\n// src/dom-events/scroll/ScrollHandler.ts\nvar SCROLL_KEYS = {\n  x: {\n    length: \"Width\",\n    position: \"Left\"\n  },\n  y: {\n    length: \"Height\",\n    position: \"Top\"\n  }\n};\nvar ScrollHandler = class {\n  constructor(callback, container) {\n    this.createAxis = () => ({\n      current: 0,\n      progress: 0,\n      scrollLength: 0\n    });\n    this.updateAxis = (axisName) => {\n      const axis = this.info[axisName];\n      const { length, position } = SCROLL_KEYS[axisName];\n      axis.current = this.container[`scroll${position}`];\n      axis.scrollLength = this.container[`scroll${length}`] - this.container[`client${length}`];\n      axis.progress = progress(0, axis.scrollLength, axis.current);\n    };\n    this.update = () => {\n      this.updateAxis(\"x\");\n      this.updateAxis(\"y\");\n    };\n    this.sendEvent = () => {\n      this.callback(this.info);\n    };\n    this.advance = () => {\n      this.update();\n      this.sendEvent();\n    };\n    this.callback = callback;\n    this.container = container;\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis()\n    };\n  }\n};\n\n// src/dom-events/scroll/index.ts\nvar scrollListeners = /* @__PURE__ */ new WeakMap();\nvar resizeListeners = /* @__PURE__ */ new WeakMap();\nvar onScrollHandlers = /* @__PURE__ */ new WeakMap();\nvar getTarget = (container) => container === document.documentElement ? window : container;\nvar onScroll = (callback, { container = document.documentElement } = {}) => {\n  let containerHandlers = onScrollHandlers.get(container);\n  if (!containerHandlers) {\n    containerHandlers = /* @__PURE__ */ new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  const containerHandler = new ScrollHandler(callback, container);\n  containerHandlers.add(containerHandler);\n  if (!scrollListeners.has(container)) {\n    const listener = () => {\n      containerHandlers?.forEach((handler) => handler.advance());\n      return true;\n    };\n    scrollListeners.set(container, listener);\n    const target = getTarget(container);\n    window.addEventListener(\"resize\", listener, { passive: true });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, { container }));\n    }\n    target.addEventListener(\"scroll\", listener, { passive: true });\n  }\n  const animateScroll = scrollListeners.get(container);\n  raf3(animateScroll);\n  return () => {\n    raf3.cancel(animateScroll);\n    const containerHandlers2 = onScrollHandlers.get(container);\n    if (!containerHandlers2) return;\n    containerHandlers2.delete(containerHandler);\n    if (containerHandlers2.size) return;\n    const listener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (listener) {\n      getTarget(container).removeEventListener(\"scroll\", listener);\n      window.removeEventListener(\"resize\", listener);\n      resizeListeners.get(container)?.();\n    }\n  };\n};\n\n// src/hooks/useConstant.ts\nimport { useRef } from \"react\";\nfunction useConstant(init) {\n  const ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = init();\n  }\n  return ref.current;\n}\n\n// src/hooks/useForceUpdate.ts\nimport { useState } from \"react\";\n\n// src/hooks/useIsMounted.ts\nimport { useRef as useRef2 } from \"react\";\n\n// src/hooks/useIsomorphicLayoutEffect.ts\nimport { useEffect, useLayoutEffect } from \"react\";\nvar useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\n// src/hooks/useIsMounted.ts\nvar useIsMounted = () => {\n  const isMounted = useRef2(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\n// src/hooks/useForceUpdate.ts\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update(Math.random());\n    }\n  };\n}\n\n// src/hooks/useMemoOne.ts\nimport { useEffect as useEffect2, useRef as useRef3, useState as useState2 } from \"react\";\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState2(\n    () => ({\n      inputs,\n      result: getResult()\n    })\n  );\n  const committed = useRef3(void 0);\n  const prevCache = committed.current;\n  let cache = prevCache;\n  if (cache) {\n    const useCache = Boolean(\n      inputs && cache.inputs && areInputsEqual(inputs, cache.inputs)\n    );\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n  useEffect2(() => {\n    committed.current = cache;\n    if (prevCache == initial) {\n      initial.inputs = initial.result = void 0;\n    }\n  }, [cache]);\n  return cache.result;\n}\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/hooks/useOnce.ts\nimport { useEffect as useEffect3 } from \"react\";\nvar useOnce = (effect) => useEffect3(effect, emptyDeps);\nvar emptyDeps = [];\n\n// src/hooks/usePrev.ts\nimport { useEffect as useEffect4, useRef as useRef4 } from \"react\";\nfunction usePrev(value) {\n  const prevRef = useRef4(void 0);\n  useEffect4(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\n// src/hooks/useReducedMotion.ts\nimport { useState as useState3 } from \"react\";\nvar useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState3(null);\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia(\"(prefers-reduced-motion)\");\n    const handleMediaChange = (e) => {\n      setReducedMotion(e.matches);\n      assign({\n        skipAnimation: e.matches\n      });\n    };\n    handleMediaChange(mql);\n    if (mql.addEventListener) {\n      mql.addEventListener(\"change\", handleMediaChange);\n    } else {\n      mql.addListener(handleMediaChange);\n    }\n    return () => {\n      if (mql.removeEventListener) {\n        mql.removeEventListener(\"change\", handleMediaChange);\n      } else {\n        mql.removeListener(handleMediaChange);\n      }\n    };\n  }, []);\n  return reducedMotion;\n};\n\n// src/index.ts\nimport { raf as raf4 } from \"@react-spring/rafz\";\nexport {\n  FluidValue,\n  globals_exports as Globals,\n  addFluidObserver,\n  callFluidObserver,\n  callFluidObservers,\n  clamp,\n  colorToRgba,\n  colors2 as colors,\n  createInterpolator,\n  createStringInterpolator2 as createStringInterpolator,\n  defineHidden,\n  deprecateDirectCall,\n  deprecateInterpolate,\n  each,\n  eachProp,\n  easings,\n  flush,\n  flushCalls,\n  frameLoop,\n  getFluidObservers,\n  getFluidValue,\n  hasFluidValue,\n  hex3,\n  hex4,\n  hex6,\n  hex8,\n  hsl,\n  hsla,\n  is,\n  isAnimatedString,\n  isEqual,\n  isSSR,\n  noop,\n  onResize,\n  onScroll,\n  once,\n  prefix,\n  raf4 as raf,\n  removeFluidObserver,\n  rgb,\n  rgba,\n  setFluidGetter,\n  toArray,\n  useConstant,\n  useForceUpdate,\n  useIsomorphicLayoutEffect,\n  useMemoOne,\n  useOnce,\n  usePrev,\n  useReducedMotion\n};\n","// src/Animated.ts\nimport { defineHidden } from \"@react-spring/shared\";\nvar $node = Symbol.for(\"Animated:node\");\nvar isAnimated = (value) => !!value && value[$node] === value;\nvar getAnimated = (owner) => owner && owner[$node];\nvar setAnimated = (owner, node) => defineHidden(owner, $node, node);\nvar getPayload = (owner) => owner && owner[$node] && owner[$node].getPayload();\nvar Animated = class {\n  constructor() {\n    setAnimated(this, this);\n  }\n  /** Get every `AnimatedValue` used by this node. */\n  getPayload() {\n    return this.payload || [];\n  }\n};\n\n// src/AnimatedValue.ts\nimport { is } from \"@react-spring/shared\";\nvar AnimatedValue = class _AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this._value = _value;\n    this.done = true;\n    this.durationProgress = 0;\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n  /** @internal */\n  static create(value) {\n    return new _AnimatedValue(value);\n  }\n  getPayload() {\n    return [this];\n  }\n  getValue() {\n    return this._value;\n  }\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n      if (step) {\n        value = Math.round(value / step) * step;\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n    if (this._value === value) {\n      return false;\n    }\n    this._value = value;\n    return true;\n  }\n  reset() {\n    const { done } = this;\n    this.done = false;\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n};\n\n// src/AnimatedString.ts\nimport { is as is2, createInterpolator } from \"@react-spring/shared\";\nvar AnimatedString = class _AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n  /** @internal */\n  static create(value) {\n    return new _AnimatedString(value);\n  }\n  getValue() {\n    const value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n  setValue(value) {\n    if (is2.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n    return true;\n  }\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n    this._value = 0;\n    super.reset();\n  }\n};\n\n// src/AnimatedArray.ts\nimport { isAnimatedString } from \"@react-spring/shared\";\n\n// src/AnimatedObject.ts\nimport {\n  each,\n  eachProp,\n  getFluidValue,\n  hasFluidValue\n} from \"@react-spring/shared\";\n\n// src/context.ts\nvar TreeContext = { dependencies: null };\n\n// src/AnimatedObject.ts\nvar AnimatedObject = class extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n  /** Replace the raw object data */\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n  reset() {\n    if (this.payload) {\n      each(this.payload, (node) => node.reset());\n    }\n  }\n  /** Create a payload set. */\n  _makePayload(source) {\n    if (source) {\n      const payload = /* @__PURE__ */ new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n  /** Add to a payload set. */\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n    const payload = getPayload(source);\n    if (payload) {\n      each(payload, (node) => this.add(node));\n    }\n  }\n};\n\n// src/AnimatedArray.ts\nvar AnimatedArray = class _AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n  /** @internal */\n  static create(source) {\n    return new _AnimatedArray(source);\n  }\n  getValue() {\n    return this.source.map((node) => node.getValue());\n  }\n  setValue(source) {\n    const payload = this.getPayload();\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n};\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\n// src/getAnimatedType.ts\nimport { is as is3, isAnimatedString as isAnimatedString2 } from \"@react-spring/shared\";\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is3.arr(value) ? AnimatedArray : isAnimatedString2(value) ? AnimatedString : AnimatedValue;\n}\n\n// src/createHost.ts\nimport { is as is5, eachProp as eachProp2 } from \"@react-spring/shared\";\n\n// src/withAnimated.tsx\nimport * as React from \"react\";\nimport { forwardRef, useRef, useCallback, useEffect } from \"react\";\nimport {\n  is as is4,\n  each as each2,\n  raf,\n  useForceUpdate,\n  useOnce,\n  addFluidObserver,\n  removeFluidObserver,\n  useIsomorphicLayoutEffect\n} from \"@react-spring/shared\";\nvar withAnimated = (Component, host) => {\n  const hasInstance = (\n    // Function components must use \"forwardRef\" to avoid being\n    // re-rendered on every animation frame.\n    !is4.fun(Component) || Component.prototype && Component.prototype.isReactComponent\n  );\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && // eslint-disable-next-line react-hooks/rules-of-hooks\n    useCallback(\n      (value) => {\n        instanceRef.current = updateRef(givenRef, value);\n      },\n      [givenRef]\n    );\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n    const callback = () => {\n      const instance = instanceRef.current;\n      if (hasInstance && !instance) {\n        return;\n      }\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef(void 0);\n    useIsomorphicLayoutEffect(() => {\n      observerRef.current = observer;\n      each2(deps, (dep) => addFluidObserver(dep, observer));\n      return () => {\n        if (observerRef.current) {\n          each2(\n            observerRef.current.deps,\n            (dep) => removeFluidObserver(dep, observerRef.current)\n          );\n          raf.cancel(observerRef.current.update);\n        }\n      };\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer2 = observerRef.current;\n      each2(observer2.deps, (dep) => removeFluidObserver(dep, observer2));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return /* @__PURE__ */ React.createElement(Component, { ...usedProps, ref });\n  });\n};\nvar PropsObserver = class {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      raf.write(this.update);\n    }\n  }\n};\nfunction getAnimatedState(props, host) {\n  const dependencies = /* @__PURE__ */ new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style)\n    props = {\n      ...props,\n      style: host.createAnimatedStyle(props.style)\n    };\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is4.fun(ref)) ref(value);\n    else ref.current = value;\n  }\n  return value;\n}\n\n// src/createHost.ts\nvar cacheKey = Symbol.for(\"AnimatedComponent\");\nvar createHost = (components, {\n  applyAnimatedValues = () => false,\n  createAnimatedStyle = (style) => new AnimatedObject(style),\n  getComponentProps = (props) => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues,\n    createAnimatedStyle,\n    getComponentProps\n  };\n  const animated = (Component) => {\n    const displayName = getDisplayName(Component) || \"Anonymous\";\n    if (is5.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n  eachProp2(components, (Component, key) => {\n    if (is5.arr(components)) {\n      key = getDisplayName(Component);\n    }\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\nvar getDisplayName = (arg) => is5.str(arg) ? arg : arg && is5.str(arg.displayName) ? arg.displayName : is5.fun(arg) && arg.name || null;\nexport {\n  Animated,\n  AnimatedArray,\n  AnimatedObject,\n  AnimatedString,\n  AnimatedValue,\n  createHost,\n  getAnimated,\n  getAnimatedType,\n  getPayload,\n  isAnimated,\n  setAnimated\n};\n","// src/hooks/useChain.ts\nimport { each, useIsomorphicLayoutEffect } from \"@react-spring/shared\";\n\n// src/helpers.ts\nimport {\n  is,\n  toArray,\n  eachProp,\n  getFluidValue,\n  isAnimatedString,\n  Globals as G\n} from \"@react-spring/shared\";\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nvar matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nvar resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nvar getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : void 0;\nvar noopTransform = (value) => value;\nvar getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n  const defaults2 = {};\n  for (const key of keys) {\n    const value = transform(props[key], key);\n    if (!is.und(value)) {\n      defaults2[key] = value;\n    }\n  }\n  return defaults2;\n};\nvar DEFAULT_PROPS = [\n  \"config\",\n  \"onProps\",\n  \"onStart\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\",\n  \"onRest\"\n];\nvar RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  // Transition props\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  // Internal props\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n  if (count) {\n    return forward;\n  }\n}\nfunction inferTo(props) {\n  const to2 = getForwardProps(props);\n  if (to2) {\n    const out = { to: to2 };\n    eachProp(props, (val, key) => key in to2 || (out[key] = val));\n    return out;\n  }\n  return { ...props };\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? G.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n  return false;\n}\nfunction isAsyncTo(to2) {\n  return is.fun(to2) || is.arr(to2) && is.obj(to2[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  ctrl.ref?.delete(ctrl);\n  ref?.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    ctrl.ref?.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\n// src/hooks/useChain.ts\nfunction useChain(refs, timeSteps, timeFrame = 1e3) {\n  useIsomorphicLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;\n          else prevDelay = delay;\n          each(controllers, (ctrl) => {\n            each(ctrl.queue, (props) => {\n              const memoizedDelayProp = props.delay;\n              props.delay = (key) => delay + callProp(memoizedDelayProp || 0, key);\n            });\n          });\n          ref.start();\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, (ref) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          const queues = controllers.map((ctrl) => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(\n              controllers,\n              (ctrl, i) => each(queues[i] || [], (update2) => ctrl.queue.push(update2))\n            );\n            return Promise.all(ref.start());\n          });\n        }\n      });\n    }\n  });\n}\n\n// src/hooks/useSpring.ts\nimport { is as is9 } from \"@react-spring/shared\";\n\n// src/hooks/useSprings.ts\nimport { useContext as useContext2, useMemo as useMemo2, useRef } from \"react\";\nimport {\n  is as is8,\n  each as each5,\n  usePrev,\n  useOnce,\n  useForceUpdate,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect2\n} from \"@react-spring/shared\";\n\n// src/SpringValue.ts\nimport {\n  is as is5,\n  raf as raf3,\n  each as each2,\n  isEqual,\n  toArray as toArray2,\n  eachProp as eachProp3,\n  frameLoop as frameLoop2,\n  flushCalls,\n  getFluidValue as getFluidValue2,\n  isAnimatedString as isAnimatedString2,\n  Globals as G5,\n  callFluidObservers as callFluidObservers2,\n  hasFluidValue,\n  addFluidObserver,\n  removeFluidObserver,\n  getFluidObservers\n} from \"@react-spring/shared\";\nimport {\n  AnimatedValue,\n  AnimatedString,\n  getPayload,\n  getAnimated as getAnimated2,\n  setAnimated,\n  getAnimatedType\n} from \"@react-spring/animated\";\n\n// src/AnimationConfig.ts\nimport { is as is2, easings } from \"@react-spring/shared\";\n\n// src/constants.ts\nvar config = {\n  default: { tension: 170, friction: 26 },\n  gentle: { tension: 120, friction: 14 },\n  wobbly: { tension: 180, friction: 12 },\n  stiff: { tension: 210, friction: 20 },\n  slow: { tension: 280, friction: 60 },\n  molasses: { tension: 280, friction: 120 }\n};\n\n// src/AnimationConfig.ts\nvar defaults = {\n  ...config.default,\n  mass: 1,\n  damping: 1,\n  easing: easings.linear,\n  clamp: false\n};\nvar AnimationConfig = class {\n  constructor() {\n    /**\n     * The initial velocity of one or more values.\n     *\n     * @default 0\n     */\n    this.velocity = 0;\n    Object.assign(this, defaults);\n  }\n};\nfunction mergeConfig(config2, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = { ...defaultConfig };\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = { ...defaultConfig, ...newConfig };\n  }\n  sanitizeConfig(config2, newConfig);\n  Object.assign(config2, newConfig);\n  for (const key in defaults) {\n    if (config2[key] == null) {\n      config2[key] = defaults[key];\n    }\n  }\n  let { frequency, damping } = config2;\n  const { mass } = config2;\n  if (!is2.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config2.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config2.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n  return config2;\n}\nfunction sanitizeConfig(config2, props) {\n  if (!is2.und(props.decay)) {\n    config2.duration = void 0;\n  } else {\n    const isTensionConfig = !is2.und(props.tension) || !is2.und(props.friction);\n    if (isTensionConfig || !is2.und(props.frequency) || !is2.und(props.damping) || !is2.und(props.mass)) {\n      config2.duration = void 0;\n      config2.decay = void 0;\n    }\n    if (isTensionConfig) {\n      config2.frequency = void 0;\n    }\n  }\n}\n\n// src/Animation.ts\nvar emptyArray = [];\nvar Animation = class {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n};\n\n// src/scheduleProps.ts\nimport { is as is3, raf, Globals as G2 } from \"@react-spring/shared\";\nfunction scheduleProps(callId, { key, props, defaultProps, state, actions }) {\n  return new Promise((resolve, reject) => {\n    let delay;\n    let timeout;\n    let cancel = matchProp(props.cancel ?? defaultProps?.cancel, key);\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is3.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n      let pause = defaultProps?.pause;\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n      delay = callProp(props.delay || 0, key);\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n    function onResume() {\n      if (delay > 0 && !G2.skipAnimation) {\n        state.delayed = true;\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n    function onStart() {\n      if (state.delayed) {\n        state.delayed = false;\n      }\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n      try {\n        actions.start({ ...props, callId, cancel }, resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\n// src/runAsync.ts\nimport {\n  is as is4,\n  raf as raf2,\n  flush,\n  eachProp as eachProp2,\n  Globals as G3\n} from \"@react-spring/shared\";\n\n// src/AnimationResult.ts\nvar getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some((result) => result.cancelled) ? getCancelledResult(target.get()) : results.every((result) => result.noop) ? getNoopResult(target.get()) : getFinishedResult(\n  target.get(),\n  results.every((result) => result.finished)\n);\nvar getNoopResult = (value) => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nvar getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nvar getCancelledResult = (value) => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\n// src/runAsync.ts\nfunction runAsync(to2, props, state, target) {\n  const { callId, parentId, onRest } = props;\n  const { asyncTo: prevTo, promise: prevPromise } = state;\n  if (!parentId && to2 === prevTo && !props.reset) {\n    return prevPromise;\n  }\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to2;\n    const defaultProps = getDefaultProps(\n      props,\n      (value, key) => (\n        // The `onRest` prop is only called when the `runAsync` promise is resolved.\n        key === \"onRest\" ? void 0 : value\n      )\n    );\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise(\n      (resolve, reject) => (preventBail = resolve, bail = reject)\n    );\n    const bailIfEnded = (bailSignal) => {\n      const bailResult = (\n        // The `cancel` prop or `stop` method was used.\n        callId <= (state.cancelId || 0) && getCancelledResult(target) || // The async `to` prop was replaced.\n        callId !== state.asyncId && getFinishedResult(target, false)\n      );\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAnimationSignal();\n      return (async () => {\n        if (G3.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n        bailIfEnded(bailSignal);\n        const props2 = is4.obj(arg1) ? { ...arg1 } : { ...arg2, to: arg1 };\n        props2.parentId = callId;\n        eachProp2(defaultProps, (value, key) => {\n          if (is4.und(props2[key])) {\n            props2[key] = value;\n          }\n        });\n        const result2 = await target.start(props2);\n        bailIfEnded(bailSignal);\n        if (state.paused) {\n          await new Promise((resume) => {\n            state.resumeQueue.add(resume);\n          });\n        }\n        return result2;\n      })();\n    };\n    let result;\n    if (G3.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n    try {\n      let animating;\n      if (is4.arr(to2)) {\n        animating = (async (queue) => {\n          for (const props2 of queue) {\n            await animate(props2);\n          }\n        })(to2);\n      } else {\n        animating = Promise.resolve(to2(animate, target.stop.bind(target)));\n      }\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAnimationSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : void 0;\n        state.promise = parentId ? prevPromise : void 0;\n      }\n    }\n    if (is4.fun(onRest)) {\n      raf2.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, (t) => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = void 0;\n  if (cancelId) state.cancelId = cancelId;\n}\nvar BailSignal = class extends Error {\n  constructor() {\n    super(\n      \"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.\"\n    );\n  }\n};\nvar SkipAnimationSignal = class extends Error {\n  constructor() {\n    super(\"SkipAnimationSignal\");\n  }\n};\n\n// src/FrameValue.ts\nimport {\n  deprecateInterpolate,\n  frameLoop,\n  FluidValue as FluidValue2,\n  Globals as G4,\n  callFluidObservers\n} from \"@react-spring/shared\";\nimport { getAnimated } from \"@react-spring/animated\";\nvar isFrameValue = (value) => value instanceof FrameValue;\nvar nextId = 1;\nvar FrameValue = class extends FluidValue2 {\n  constructor() {\n    super(...arguments);\n    this.id = nextId++;\n    this._priority = 0;\n  }\n  get priority() {\n    return this._priority;\n  }\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n      this._onPriorityChange(priority);\n    }\n  }\n  /** Get the current value */\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n  /** Create a spring that maps our value to another value */\n  to(...args) {\n    return G4.to(this, args);\n  }\n  /** @deprecated Use the `to` method instead. */\n  interpolate(...args) {\n    deprecateInterpolate();\n    return G4.to(this, args);\n  }\n  toJSON() {\n    return this.get();\n  }\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n  /** Called when the first child is added. */\n  _attach() {\n  }\n  /** Called when the last child is removed. */\n  _detach() {\n  }\n  /** Tell our children about our new value */\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: \"change\",\n      parent: this,\n      value,\n      idle\n    });\n  }\n  /** Tell our children about our new priority */\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n    callFluidObservers(this, {\n      type: \"priority\",\n      parent: this,\n      priority\n    });\n  }\n};\n\n// src/SpringPhase.ts\nvar $P = Symbol.for(\"SpringPhase\");\nvar HAS_ANIMATED = 1;\nvar IS_ANIMATING = 2;\nvar IS_PAUSED = 4;\nvar hasAnimated = (target) => (target[$P] & HAS_ANIMATED) > 0;\nvar isAnimating = (target) => (target[$P] & IS_ANIMATING) > 0;\nvar isPaused = (target) => (target[$P] & IS_PAUSED) > 0;\nvar setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nvar setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\n// src/SpringValue.ts\nvar SpringValue = class extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    /** The animation state */\n    this.animation = new Animation();\n    /** Some props have customizable default values */\n    this.defaultProps = {};\n    /** The state for `runAsync` calls */\n    this._state = {\n      paused: false,\n      delayed: false,\n      pauseQueue: /* @__PURE__ */ new Set(),\n      resumeQueue: /* @__PURE__ */ new Set(),\n      timeouts: /* @__PURE__ */ new Set()\n    };\n    /** The promise resolvers of pending `start` calls */\n    this._pendingCalls = /* @__PURE__ */ new Set();\n    /** The counter for tracking `scheduleProps` calls */\n    this._lastCallId = 0;\n    /** The last `scheduleProps` call that changed the `to` prop */\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n    if (!is5.und(arg1) || !is5.und(arg2)) {\n      const props = is5.obj(arg1) ? { ...arg1 } : { ...arg2, from: arg1 };\n      if (is5.und(props.default)) {\n        props.default = true;\n      }\n      this.start(props);\n    }\n  }\n  /** Equals true when not advancing on each frame. */\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n  get goal() {\n    return getFluidValue2(this.animation.to);\n  }\n  get velocity() {\n    const node = getAnimated2(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map((node2) => node2.lastVelocity || 0);\n  }\n  /**\n   * When true, this value has been animated at least once.\n   */\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n  /**\n   * When true, this value has an unfinished animation,\n   * which is either active or paused.\n   */\n  get isAnimating() {\n    return isAnimating(this);\n  }\n  /**\n   * When true, all current and future animations are paused.\n   */\n  get isPaused() {\n    return isPaused(this);\n  }\n  /**\n   *\n   *\n   */\n  get isDelayed() {\n    return this._state.delayed;\n  }\n  /** Advance the current animation by a number of milliseconds */\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let { toValues } = anim;\n    const { config: config2 } = anim;\n    const payload = getPayload(anim.to);\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray2(getFluidValue2(anim.to));\n    }\n    anim.values.forEach((node2, i) => {\n      if (node2.done) return;\n      const to2 = (\n        // Animated strings always go from 0 to 1.\n        node2.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i]\n      );\n      let finished = anim.immediate;\n      let position = to2;\n      if (!finished) {\n        position = node2.lastPosition;\n        if (config2.tension <= 0) {\n          node2.done = true;\n          return;\n        }\n        let elapsed = node2.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node2.v0 != null ? node2.v0 : node2.v0 = is5.arr(config2.velocity) ? config2.velocity[i] : config2.velocity;\n        let velocity;\n        const precision = config2.precision || (from == to2 ? 5e-3 : Math.min(1, Math.abs(to2 - from) * 1e-3));\n        if (!is5.und(config2.duration)) {\n          let p = 1;\n          if (config2.duration > 0) {\n            if (this._memoizedDuration !== config2.duration) {\n              this._memoizedDuration = config2.duration;\n              if (node2.durationProgress > 0) {\n                node2.elapsedTime = config2.duration * node2.durationProgress;\n                elapsed = node2.elapsedTime += dt;\n              }\n            }\n            p = (config2.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node2.durationProgress = p;\n          }\n          position = from + config2.easing(p) * (to2 - from);\n          velocity = (position - node2.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config2.decay) {\n          const decay = config2.decay === true ? 0.998 : config2.decay;\n          const e = Math.exp(-(1 - decay) * elapsed);\n          position = from + v0 / (1 - decay) * (1 - e);\n          finished = Math.abs(node2.lastPosition - position) <= precision;\n          velocity = v0 * e;\n        } else {\n          velocity = node2.lastVelocity == null ? v0 : node2.lastVelocity;\n          const restVelocity = config2.restVelocity || precision / 10;\n          const bounceFactor = config2.clamp ? 0 : config2.bounce;\n          const canBounce = !is5.und(bounceFactor);\n          const isGrowing = from == to2 ? node2.v0 > 0 : from < to2;\n          let isMoving;\n          let isBouncing = false;\n          const step = 1;\n          const numSteps = Math.ceil(dt / step);\n          for (let n = 0; n < numSteps; ++n) {\n            isMoving = Math.abs(velocity) > restVelocity;\n            if (!isMoving) {\n              finished = Math.abs(to2 - position) <= precision;\n              if (finished) {\n                break;\n              }\n            }\n            if (canBounce) {\n              isBouncing = position == to2 || position > to2 == isGrowing;\n              if (isBouncing) {\n                velocity = -velocity * bounceFactor;\n                position = to2;\n              }\n            }\n            const springForce = -config2.tension * 1e-6 * (position - to2);\n            const dampingForce = -config2.friction * 1e-3 * velocity;\n            const acceleration = (springForce + dampingForce) / config2.mass;\n            velocity = velocity + acceleration * step;\n            position = position + velocity * step;\n          }\n        }\n        node2.lastVelocity = velocity;\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n      if (finished) {\n        node2.done = true;\n      } else {\n        idle = false;\n      }\n      if (node2.setValue(position, config2.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated2(this);\n    const currVal = node.getValue();\n    if (idle) {\n      const finalVal = getFluidValue2(anim.to);\n      if ((currVal !== finalVal || changed) && !config2.decay) {\n        node.setValue(finalVal);\n        this._onChange(finalVal);\n      } else if (changed && config2.decay) {\n        this._onChange(currVal);\n      }\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n  /** Set the current value, while stopping the current animation */\n  set(value) {\n    raf3.batchedUpdates(() => {\n      this._stop();\n      this._focus(value);\n      this._set(value);\n    });\n    return this;\n  }\n  /**\n   * Freeze the active animation in time, as well as any updates merged\n   * before `resume` is called.\n   */\n  pause() {\n    this._update({ pause: true });\n  }\n  /** Resume the animation if paused. */\n  resume() {\n    this._update({ pause: false });\n  }\n  /** Skip to the end of the current animation. */\n  finish() {\n    if (isAnimating(this)) {\n      const { to: to2, config: config2 } = this.animation;\n      raf3.batchedUpdates(() => {\n        this._onStart();\n        if (!config2.decay) {\n          this._set(to2, false);\n        }\n        this._stop();\n      });\n    }\n    return this;\n  }\n  /** Push props into the pending queue. */\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n  start(to2, arg2) {\n    let queue;\n    if (!is5.und(to2)) {\n      queue = [is5.obj(to2) ? to2 : { ...arg2, to: to2 }];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n    return Promise.all(\n      queue.map((props) => {\n        const up = this._update(props);\n        return up;\n      })\n    ).then((results) => getCombinedResult(this, results));\n  }\n  /**\n   * Stop the current animation, and cancel any delayed updates.\n   *\n   * Pass `true` to call `onRest` with `cancelled: true`.\n   */\n  stop(cancel) {\n    const { to: to2 } = this.animation;\n    this._focus(this.get());\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf3.batchedUpdates(() => this._stop(to2, cancel));\n    return this;\n  }\n  /** Restart the animation. */\n  reset() {\n    this._update({ reset: true });\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._start();\n    } else if (event.type == \"priority\") {\n      this.priority = event.priority + 1;\n    }\n  }\n  /**\n   * Parse the `to` and `from` range from the given `props` object.\n   *\n   * This also ensures the initial value is available to animated components\n   * during the render phase.\n   */\n  _prepareNode(props) {\n    const key = this.key || \"\";\n    let { to: to2, from } = props;\n    to2 = is5.obj(to2) ? to2[key] : to2;\n    if (to2 == null || isAsyncTo(to2)) {\n      to2 = void 0;\n    }\n    from = is5.obj(from) ? from[key] : from;\n    if (from == null) {\n      from = void 0;\n    }\n    const range = { to: to2, from };\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to2, from] = [from, to2];\n      from = getFluidValue2(from);\n      if (!is5.und(from)) {\n        this._set(from);\n      } else if (!getAnimated2(this)) {\n        this._set(to2);\n      }\n    }\n    return range;\n  }\n  /** Every update is processed by this method before merging. */\n  _update({ ...props }, isLoop) {\n    const { key, defaultProps } = this;\n    if (props.default)\n      Object.assign(\n        defaultProps,\n        getDefaultProps(\n          props,\n          (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value\n        )\n      );\n    mergeActiveFn(this, props, \"onProps\");\n    sendEvent(this, \"onProps\", props, this);\n    const range = this._prepareNode(props);\n    if (Object.isFrozen(this)) {\n      throw Error(\n        \"Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?\"\n      );\n    }\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(\n              this,\n              \"onPause\",\n              getFinishedResult(this, checkFinished(this, this.animation.to)),\n              this\n            );\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n            if (isAnimating(this)) {\n              this._resume();\n            }\n            flushCalls(state.resumeQueue);\n            sendEvent(\n              this,\n              \"onResume\",\n              getFinishedResult(this, checkFinished(this, this.animation.to)),\n              this\n            );\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then((result) => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n      return result;\n    });\n  }\n  /** Merge props into the current animation */\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n    const hasToProp = !is5.und(range.to);\n    const hasFromProp = !is5.und(range.from);\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n    const { key, defaultProps, animation: anim } = this;\n    const { to: prevTo, from: prevFrom } = anim;\n    let { to: to2 = prevTo, from = prevFrom } = range;\n    if (hasFromProp && !hasToProp && (!props.default || is5.und(to2))) {\n      to2 = from;\n    }\n    if (props.reverse) [to2, from] = [from, to2];\n    const hasFromChanged = !isEqual(from, prevFrom);\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n    from = getFluidValue2(from);\n    const hasToChanged = !isEqual(to2, prevTo);\n    if (hasToChanged) {\n      this._focus(to2);\n    }\n    const hasAsyncTo = isAsyncTo(props.to);\n    const { config: config2 } = anim;\n    const { decay, velocity } = config2;\n    if (hasToProp || hasFromProp) {\n      config2.velocity = 0;\n    }\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(\n        config2,\n        callProp(props.config, key),\n        // Avoid calling the same \"config\" prop twice.\n        props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0\n      );\n    }\n    let node = getAnimated2(this);\n    if (!node || is5.und(to2)) {\n      return resolve(getFinishedResult(this, true));\n    }\n    const reset = (\n      // When `reset` is undefined, the `from` prop implies `reset: true`,\n      // except for declarative updates. When `reset` is defined, there\n      // must exist a value to animate from.\n      is5.und(props.reset) ? hasFromProp && !props.default : !is5.und(from) && matchProp(props.reset, key)\n    );\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to2);\n    const isAnimatable = is5.num(goal) || is5.arr(goal) || isAnimatedString2(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to2);\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else\n          throw Error(\n            `Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`\n          );\n      }\n    }\n    const goalType = node.constructor;\n    let started = hasFluidValue(to2);\n    let finished = false;\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config2.decay, decay) || !isEqual(config2.velocity, velocity)) {\n        started = true;\n      }\n    }\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n        this._stop(prevTo);\n      }\n    }\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to2) ? null : goalType == AnimatedString ? [1] : toArray2(goal);\n      }\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n      if (started) {\n        const { onRest } = anim;\n        each2(ACTIVE_EVENTS, (type) => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n        this._pendingCalls.add(resolve);\n        if (anim.changed)\n          raf3.batchedUpdates(() => {\n            anim.changed = !reset;\n            onRest?.(result, this);\n            if (reset) {\n              callProp(defaultProps.onRest, result);\n            } else {\n              anim.onStart?.(result, this);\n            }\n          });\n      }\n    }\n    if (reset) {\n      this._set(value);\n    }\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n      this._start();\n    } else if (isAnimating(this) && !hasToChanged) {\n      this._pendingCalls.add(resolve);\n    } else {\n      resolve(getNoopResult(value));\n    }\n  }\n  /** Update the `animation.to` value, which might be a `FluidValue` */\n  _focus(value) {\n    const anim = this.animation;\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n      anim.to = value;\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n  _attach() {\n    let priority = 0;\n    const { to: to2 } = this.animation;\n    if (hasFluidValue(to2)) {\n      addFluidObserver(to2, this);\n      if (isFrameValue(to2)) {\n        priority = to2.priority + 1;\n      }\n    }\n    this.priority = priority;\n  }\n  _detach() {\n    const { to: to2 } = this.animation;\n    if (hasFluidValue(to2)) {\n      removeFluidObserver(to2, this);\n    }\n  }\n  /**\n   * Update the current value from outside the frameloop,\n   * and return the `Animated` node.\n   */\n  _set(arg, idle = true) {\n    const value = getFluidValue2(arg);\n    if (!is5.und(value)) {\n      const oldNode = getAnimated2(this);\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n        if (oldNode) {\n          raf3.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n    return getAnimated2(this);\n  }\n  _onStart() {\n    const anim = this.animation;\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(\n        this,\n        \"onStart\",\n        getFinishedResult(this, checkFinished(this, anim.to)),\n        this\n      );\n    }\n  }\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n      callProp(this.animation.onChange, value, this);\n    }\n    callProp(this.defaultProps.onChange, value, this);\n    super._onChange(value, idle);\n  }\n  // This method resets the animation state (even if already animating) to\n  // ensure the latest from/to range is used, and it also ensures this spring\n  // is added to the frameloop.\n  _start() {\n    const anim = this.animation;\n    getAnimated2(this).reset(getFluidValue2(anim.to));\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map((node) => node.lastPosition);\n    }\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n  _resume() {\n    if (G5.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop2.start(this);\n    }\n  }\n  /**\n   * Exit the frameloop and notify `onRest` listeners.\n   *\n   * Always wrap `_stop` calls with `batchedUpdates`.\n   */\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each2(anim.values, (node) => {\n        node.done = true;\n      });\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = void 0;\n      }\n      callFluidObservers2(this, {\n        type: \"idle\",\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal ?? anim.to));\n      flushCalls(this._pendingCalls, result);\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, \"onRest\", result, this);\n      }\n    }\n  }\n};\nfunction checkFinished(target, to2) {\n  const goal = computeGoal(to2);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\nfunction createLoopUpdate(props, loop = props.loop, to2 = props.to) {\n  const loopRet = callProp(loop);\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate({\n      ...props,\n      loop,\n      // Avoid updating default props when looping.\n      default: false,\n      // Never loop the `pause` prop.\n      pause: void 0,\n      // For the \"reverse\" prop to loop as expected, the \"to\" prop\n      // must be undefined. The \"reverse\" prop is ignored when the\n      // \"to\" prop is an array or function.\n      to: !reverse || isAsyncTo(to2) ? to2 : void 0,\n      // Ignore the \"from\" prop except on reset.\n      from: reset ? props.from : void 0,\n      reset,\n      // The \"loop\" prop can return a \"useSpring\" props object to\n      // override any of the original props.\n      ...overrides\n    });\n  }\n}\nfunction createUpdate(props) {\n  const { to: to2, from } = props = inferTo(props);\n  const keys = /* @__PURE__ */ new Set();\n  if (is5.obj(to2)) findDefined(to2, keys);\n  if (is5.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update2 = createUpdate(props);\n  if (is5.und(update2.default)) {\n    update2.default = getDefaultProps(update2);\n  }\n  return update2;\n}\nfunction findDefined(values, keys) {\n  eachProp3(values, (value, key) => value != null && keys.add(key));\n}\nvar ACTIVE_EVENTS = [\n  \"onStart\",\n  \"onRest\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\"\n];\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : void 0;\n}\nfunction sendEvent(target, type, ...args) {\n  target.animation[type]?.(...args);\n  target.defaultProps[type]?.(...args);\n}\n\n// src/Controller.ts\nimport {\n  is as is6,\n  raf as raf4,\n  each as each3,\n  noop,\n  flush as flush2,\n  toArray as toArray3,\n  eachProp as eachProp4,\n  flushCalls as flushCalls2,\n  addFluidObserver as addFluidObserver2\n} from \"@react-spring/shared\";\nvar BATCHED_EVENTS = [\"onStart\", \"onChange\", \"onRest\"];\nvar nextId2 = 1;\nvar Controller = class {\n  constructor(props, flush3) {\n    this.id = nextId2++;\n    /** The animated values */\n    this.springs = {};\n    /** The queue of props passed to the `update` method. */\n    this.queue = [];\n    /** The counter for tracking `scheduleProps` calls */\n    this._lastAsyncId = 0;\n    /** The values currently being animated */\n    this._active = /* @__PURE__ */ new Set();\n    /** The values that changed recently */\n    this._changed = /* @__PURE__ */ new Set();\n    /** Equals false when `onStart` listeners can be called */\n    this._started = false;\n    /** State used by the `runAsync` function */\n    this._state = {\n      paused: false,\n      pauseQueue: /* @__PURE__ */ new Set(),\n      resumeQueue: /* @__PURE__ */ new Set(),\n      timeouts: /* @__PURE__ */ new Set()\n    };\n    /** The event queues that are flushed once per frame maximum */\n    this._events = {\n      onStart: /* @__PURE__ */ new Map(),\n      onChange: /* @__PURE__ */ new Map(),\n      onRest: /* @__PURE__ */ new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n    if (flush3) {\n      this._flush = flush3;\n    }\n    if (props) {\n      this.start({ default: true, ...props });\n    }\n  }\n  /**\n   * Equals `true` when no spring values are in the frameloop, and\n   * no async animation is currently active.\n   */\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every((spring) => {\n      return spring.idle && !spring.isDelayed && !spring.isPaused;\n    });\n  }\n  get item() {\n    return this._item;\n  }\n  set item(item) {\n    this._item = item;\n  }\n  /** Get the current values of our springs */\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n  /** Set the current values without animating. */\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n      if (!is6.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n  /** Push an update onto the queue of each value. */\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n    return this;\n  }\n  /**\n   * Start the queued animations for every spring, and resolve the returned\n   * promise once all queued animations have finished or been cancelled.\n   *\n   * When you pass a queue (instead of nothing), that queue is used instead of\n   * the queued animations added with the `update` method, which are left alone.\n   */\n  start(props) {\n    let { queue } = this;\n    if (props) {\n      queue = toArray3(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n  /** @internal */\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n    if (keys) {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each((spring) => spring.stop(!!arg));\n    }\n    return this;\n  }\n  /** Freeze the active animation in time */\n  pause(keys) {\n    if (is6.und(keys)) {\n      this.start({ pause: true });\n    } else {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].pause());\n    }\n    return this;\n  }\n  /** Resume the animation if paused. */\n  resume(keys) {\n    if (is6.und(keys)) {\n      this.start({ pause: false });\n    } else {\n      const springs = this.springs;\n      each3(toArray3(keys), (key) => springs[key].resume());\n    }\n    return this;\n  }\n  /** Call a function once per spring value */\n  each(iterator) {\n    eachProp4(this.springs, iterator);\n  }\n  /** @internal Called at the end of every animation frame */\n  _onFrame() {\n    const { onStart, onChange, onRest } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush2(onStart, ([onStart2, result]) => {\n        result.value = this.get();\n        onStart2(result, this, this._item);\n      });\n    }\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n    if (changed && onChange.size) {\n      flush2(onChange, ([onChange2, result]) => {\n        result.value = values;\n        onChange2(result, this, this._item);\n      });\n    }\n    if (idle) {\n      this._started = false;\n      flush2(onRest, ([onRest2, result]) => {\n        result.value = values;\n        onRest2(result, this, this._item);\n      });\n    }\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._changed.add(event.parent);\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else return;\n    raf4.onFrame(this._onFrame);\n  }\n};\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map((props) => flushUpdate(ctrl, props))).then(\n    (results) => getCombinedResult(ctrl, results)\n  );\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const { keys, to: to2, from, loop, onRest, onResolve } = props;\n  const defaults2 = is6.obj(props.default) && props.default;\n  if (loop) {\n    props.loop = false;\n  }\n  if (to2 === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is6.arr(to2) || is6.fun(to2) ? to2 : void 0;\n  if (asyncTo) {\n    props.to = void 0;\n    props.onRest = void 0;\n    if (defaults2) {\n      defaults2.onRest = void 0;\n    }\n  } else {\n    each3(BATCHED_EVENTS, (key) => {\n      const handler = props[key];\n      if (is6.fun(handler)) {\n        const queue = ctrl[\"_events\"][key];\n        props[key] = ({ finished, cancelled }) => {\n          const result2 = queue.get(handler);\n          if (result2) {\n            if (!finished) result2.finished = false;\n            if (cancelled) result2.cancelled = true;\n          } else {\n            queue.set(handler, {\n              value: null,\n              finished: finished || false,\n              cancelled: cancelled || false\n            });\n          }\n        };\n        if (defaults2) {\n          defaults2[key] = props[key];\n        }\n      }\n    });\n  }\n  const state = ctrl[\"_state\"];\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls2(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n    props.pause = true;\n  }\n  const promises = (keys || Object.keys(ctrl.springs)).map(\n    (key) => ctrl.springs[key].start(props)\n  );\n  const cancel = props.cancel === true || getDefaultProp(props, \"cancel\") === true;\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(\n      scheduleProps(++ctrl[\"_lastAsyncId\"], {\n        props,\n        state,\n        actions: {\n          pause: noop,\n          resume: noop,\n          start(props2, resolve) {\n            if (cancel) {\n              stopAsync(state, ctrl[\"_lastAsyncId\"]);\n              resolve(getCancelledResult(ctrl));\n            } else {\n              props2.onRest = onRest;\n              resolve(\n                runAsync(\n                  asyncTo,\n                  props2,\n                  state,\n                  ctrl\n                )\n              );\n            }\n          }\n        }\n      })\n    );\n  }\n  if (state.paused) {\n    await new Promise((resume) => {\n      state.resumeQueue.add(resume);\n    });\n  }\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to2);\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n  if (onResolve) {\n    raf4.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = { ...ctrl.springs };\n  if (props) {\n    each3(toArray3(props), (props2) => {\n      if (is6.und(props2.keys)) {\n        props2 = createUpdate(props2);\n      }\n      if (!is6.obj(props2.to)) {\n        props2 = { ...props2, to: void 0 };\n      }\n      prepareSprings(springs, props2, (key) => {\n        return createSpring(key);\n      });\n    });\n  }\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp4(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver2(spring, ctrl);\n    }\n  });\n}\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n  if (observer) {\n    addFluidObserver2(spring, observer);\n  }\n  return spring;\n}\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each3(props.keys, (key) => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring[\"_prepareNode\"](props);\n    });\n  }\n}\nfunction prepareKeys(ctrl, queue) {\n  each3(queue, (props) => {\n    prepareSprings(ctrl.springs, props, (key) => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\n// src/SpringContext.tsx\nimport * as React from \"react\";\nimport { useContext } from \"react\";\nvar SpringContext = React.createContext({\n  pause: false,\n  immediate: false\n});\n\n// src/SpringRef.ts\nimport { each as each4, is as is7, deprecateDirectCall } from \"@react-spring/shared\";\nvar SpringRef = () => {\n  const current = [];\n  const SpringRef2 = function(props) {\n    deprecateDirectCall();\n    const results = [];\n    each4(current, (ctrl, i) => {\n      if (is7.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update2 = _getProps(props, ctrl, i);\n        if (update2) {\n          results.push(ctrl.start(update2));\n        }\n      }\n    });\n    return results;\n  };\n  SpringRef2.current = current;\n  SpringRef2.add = function(ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n  SpringRef2.delete = function(ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n  SpringRef2.pause = function() {\n    each4(current, (ctrl) => ctrl.pause(...arguments));\n    return this;\n  };\n  SpringRef2.resume = function() {\n    each4(current, (ctrl) => ctrl.resume(...arguments));\n    return this;\n  };\n  SpringRef2.set = function(values) {\n    each4(current, (ctrl, i) => {\n      const update2 = is7.fun(values) ? values(i, ctrl) : values;\n      if (update2) {\n        ctrl.set(update2);\n      }\n    });\n  };\n  SpringRef2.start = function(props) {\n    const results = [];\n    each4(current, (ctrl, i) => {\n      if (is7.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update2 = this._getProps(props, ctrl, i);\n        if (update2) {\n          results.push(ctrl.start(update2));\n        }\n      }\n    });\n    return results;\n  };\n  SpringRef2.stop = function() {\n    each4(current, (ctrl) => ctrl.stop(...arguments));\n    return this;\n  };\n  SpringRef2.update = function(props) {\n    each4(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n  const _getProps = function(arg, ctrl, index) {\n    return is7.fun(arg) ? arg(index, ctrl) : arg;\n  };\n  SpringRef2._getProps = _getProps;\n  return SpringRef2;\n};\n\n// src/hooks/useSprings.ts\nfunction useSprings(length, props, deps) {\n  const propsFn = is8.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo2(\n    () => propsFn || arguments.length == 3 ? SpringRef() : void 0,\n    []\n  );\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo2(\n    () => ({\n      ctrls: [],\n      queue: [],\n      flush(ctrl, updates2) {\n        const springs2 = getSprings(ctrl, updates2);\n        const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs2).some((key) => !ctrl.springs[key]);\n        return canFlushSync ? flushUpdateQueue(ctrl, updates2) : new Promise((resolve) => {\n          setSprings(ctrl, springs2);\n          state.queue.push(() => {\n            resolve(flushUpdateQueue(ctrl, updates2));\n          });\n          forceUpdate();\n        });\n      }\n    }),\n    []\n  );\n  const ctrls = useRef([...state.ctrls]);\n  const updates = useRef([]);\n  const prevLength = usePrev(length) || 0;\n  useMemo2(() => {\n    each5(ctrls.current.slice(length, prevLength), (ctrl) => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo2(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update2 = propsFn ? propsFn(i, ctrl) : props[i];\n      if (update2) {\n        updates.current[i] = declareUpdate(update2);\n      }\n    }\n  }\n  const springs = ctrls.current.map(\n    (ctrl, i) => getSprings(ctrl, updates.current[i])\n  );\n  const context = useContext2(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect2(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const { queue } = state;\n    if (queue.length) {\n      state.queue = [];\n      each5(queue, (cb) => cb());\n    }\n    each5(ctrls.current, (ctrl, i) => {\n      ref?.add(ctrl);\n      if (hasContext) {\n        ctrl.start({ default: context });\n      }\n      const update2 = updates.current[i];\n      if (update2) {\n        replaceRef(ctrl, update2.ref);\n        if (ctrl.ref) {\n          ctrl.queue.push(update2);\n        } else {\n          ctrl.start(update2);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each5(state.ctrls, (ctrl) => ctrl.stop(true));\n  });\n  const values = springs.map((x) => ({ ...x }));\n  return ref ? [values, ref] : values;\n}\n\n// src/hooks/useSpring.ts\nfunction useSpring(props, deps) {\n  const isFn = is9.fun(props);\n  const [[values], ref] = useSprings(\n    1,\n    isFn ? props : [props],\n    isFn ? deps || [] : deps\n  );\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\n// src/hooks/useSpringRef.ts\nimport { useState } from \"react\";\nvar initSpringRef = () => SpringRef();\nvar useSpringRef = () => useState(initSpringRef)[0];\n\n// src/hooks/useSpringValue.ts\nimport { useConstant, useOnce as useOnce2 } from \"@react-spring/shared\";\nvar useSpringValue = (initial, props) => {\n  const springValue = useConstant(() => new SpringValue(initial, props));\n  useOnce2(() => () => {\n    springValue.stop();\n  });\n  return springValue;\n};\n\n// src/hooks/useTrail.ts\nimport { each as each6, is as is10, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect3 } from \"@react-spring/shared\";\nfunction useTrail(length, propsArg, deps) {\n  const propsFn = is10.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  let passedRef = void 0;\n  const result = useSprings(\n    length,\n    (i, ctrl) => {\n      const props = propsFn ? propsFn(i, ctrl) : propsArg;\n      passedRef = props.ref;\n      reverse = reverse && props.reverse;\n      return props;\n    },\n    // Ensure the props function is called when no deps exist.\n    // This works around the 3 argument rule.\n    deps || [{}]\n  );\n  useIsomorphicLayoutEffect3(() => {\n    each6(result[1].current, (ctrl, i) => {\n      const parent = result[1].current[i + (reverse ? 1 : -1)];\n      replaceRef(ctrl, passedRef);\n      if (ctrl.ref) {\n        if (parent) {\n          ctrl.update({ to: parent.springs });\n        }\n        return;\n      }\n      if (parent) {\n        ctrl.start({ to: parent.springs });\n      } else {\n        ctrl.start();\n      }\n    });\n  }, deps);\n  if (propsFn || arguments.length == 3) {\n    const ref = passedRef ?? result[1];\n    ref[\"_getProps\"] = (propsArg2, ctrl, i) => {\n      const props = is10.fun(propsArg2) ? propsArg2(i, ctrl) : propsArg2;\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n    return result;\n  }\n  return result[0];\n}\n\n// src/hooks/useTransition.tsx\nimport * as React2 from \"react\";\nimport { useContext as useContext3, useRef as useRef2, useMemo as useMemo3 } from \"react\";\nimport {\n  is as is11,\n  toArray as toArray4,\n  useForceUpdate as useForceUpdate2,\n  useOnce as useOnce3,\n  usePrev as usePrev2,\n  each as each7,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect4\n} from \"@react-spring/shared\";\nfunction useTransition(data, props, deps) {\n  const propsFn = is11.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    exitBeforeEnter = false,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo3(\n    () => propsFn || arguments.length == 3 ? SpringRef() : void 0,\n    []\n  );\n  const items = toArray4(data);\n  const transitions = [];\n  const usedTransitions = useRef2(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useIsomorphicLayoutEffect4(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce3(() => {\n    each7(transitions, (t) => {\n      ref?.add(t.ctrl);\n      t.ctrl.ref = ref;\n    });\n    return () => {\n      each7(usedTransitions.current, (t) => {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useIsomorphicLayoutEffect4(\n    () => each7(expired, ({ ctrl, item, key }) => {\n      detachRefs(ctrl, ref);\n      callProp(onDestroyed, item, key);\n    })\n  );\n  const reused = [];\n  if (prevTransitions)\n    each7(prevTransitions, (t, i) => {\n      if (t.expired) {\n        clearTimeout(t.expirationId);\n        expired.push(t);\n      } else {\n        i = reused[i] = keys.indexOf(t.key);\n        if (~i) transitions[i] = t;\n      }\n    });\n  each7(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: \"mount\" /* MOUNT */,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n  if (reused.length) {\n    let i = -1;\n    const { leave } = propsFn ? propsFn() : props;\n    each7(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = { ...t, item: items[keyIndex] };\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n  if (is11.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n  let delay = -trail;\n  const forceUpdate = useForceUpdate2();\n  const defaultProps = getDefaultProps(props);\n  const changes = /* @__PURE__ */ new Map();\n  const exitingTransitions = useRef2(/* @__PURE__ */ new Map());\n  const forceChange = useRef2(false);\n  each7(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to2;\n    let phase;\n    const propsDelay = callProp(p.delay || 0, key);\n    if (prevPhase == \"mount\" /* MOUNT */) {\n      to2 = p.enter;\n      phase = \"enter\" /* ENTER */;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n      if (prevPhase != \"leave\" /* LEAVE */) {\n        if (isLeave) {\n          to2 = p.leave;\n          phase = \"leave\" /* LEAVE */;\n        } else if (to2 = p.update) {\n          phase = \"update\" /* UPDATE */;\n        } else return;\n      } else if (!isLeave) {\n        to2 = p.enter;\n        phase = \"enter\" /* ENTER */;\n      } else return;\n    }\n    to2 = callProp(to2, t.item, i);\n    to2 = is11.obj(to2) ? inferTo(to2) : { to: to2 };\n    if (!to2.config) {\n      const config2 = propsConfig || defaultProps.config;\n      to2.config = callProp(config2, t.item, i, phase);\n    }\n    delay += trail;\n    const payload = {\n      ...defaultProps,\n      // we need to add our props.delay value you here.\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      // This prevents implied resets.\n      reset: false,\n      // Merge any phase-specific props.\n      ...to2\n    };\n    if (phase == \"enter\" /* ENTER */ && is11.und(payload.from)) {\n      const p2 = propsFn ? propsFn() : props;\n      const from = is11.und(p2.initial) || prevTransitions ? p2.from : p2.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n    const { onResolve } = payload;\n    payload.onResolve = (result) => {\n      callProp(onResolve, result);\n      const transitions2 = usedTransitions.current;\n      const t2 = transitions2.find((t3) => t3.key === key);\n      if (!t2) return;\n      if (result.cancelled && t2.phase != \"update\" /* UPDATE */) {\n        return;\n      }\n      if (t2.ctrl.idle) {\n        const idle = transitions2.every((t3) => t3.ctrl.idle);\n        if (t2.phase == \"leave\" /* LEAVE */) {\n          const expiry = callProp(expires, t2.item);\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t2.expired = true;\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 2147483647)\n                t2.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n        if (idle && transitions2.some((t3) => t3.expired)) {\n          exitingTransitions.current.delete(t2);\n          if (exitBeforeEnter) {\n            forceChange.current = true;\n          }\n          forceUpdate();\n        }\n      }\n    };\n    const springs = getSprings(t.ctrl, payload);\n    if (phase === \"leave\" /* LEAVE */ && exitBeforeEnter) {\n      exitingTransitions.current.set(t, { phase, springs, payload });\n    } else {\n      changes.set(t, { phase, springs, payload });\n    }\n  });\n  const context = useContext3(SpringContext);\n  const prevContext = usePrev2(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect4(() => {\n    if (hasContext) {\n      each7(transitions, (t) => {\n        t.ctrl.start({ default: context });\n      });\n    }\n  }, [context]);\n  each7(changes, (_, t) => {\n    if (exitingTransitions.current.size) {\n      const ind = transitions.findIndex((state) => state.key === t.key);\n      transitions.splice(ind, 1);\n    }\n  });\n  useIsomorphicLayoutEffect4(\n    () => {\n      each7(\n        exitingTransitions.current.size ? exitingTransitions.current : changes,\n        ({ phase, payload }, t) => {\n          const { ctrl } = t;\n          t.phase = phase;\n          ref?.add(ctrl);\n          if (hasContext && phase == \"enter\" /* ENTER */) {\n            ctrl.start({ default: context });\n          }\n          if (payload) {\n            replaceRef(ctrl, payload.ref);\n            if ((ctrl.ref || ref) && !forceChange.current) {\n              ctrl.update(payload);\n            } else {\n              ctrl.start(payload);\n              if (forceChange.current) {\n                forceChange.current = false;\n              }\n            }\n          }\n        }\n      );\n    },\n    reset ? void 0 : deps\n  );\n  const renderTransitions = (render) => /* @__PURE__ */ React2.createElement(React2.Fragment, null, transitions.map((t, i) => {\n    const { springs } = changes.get(t) || t.ctrl;\n    const elem = render({ ...springs }, t.item, t, i);\n    const key = is11.str(t.key) || is11.num(t.key) ? t.key : t.ctrl.id;\n    const isLegacyReact = React2.version < \"19.0.0\";\n    const props2 = elem?.props ?? {};\n    const elemRef = isLegacyReact ? elem?.ref : props2?.ref;\n    return elem && elem.type ? /* @__PURE__ */ React2.createElement(elem.type, { ...props2, key, ref: elemRef }) : elem;\n  }));\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nvar nextKey = 1;\nfunction getKeys(items, { key, keys = key }, prevTransitions) {\n  if (keys === null) {\n    const reused = /* @__PURE__ */ new Set();\n    return items.map((item) => {\n      const t = prevTransitions && prevTransitions.find(\n        (t2) => t2.item === item && t2.phase !== \"leave\" /* LEAVE */ && !reused.has(t2)\n      );\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n      return nextKey++;\n    });\n  }\n  return is11.und(keys) ? items : is11.fun(keys) ? items.map(keys) : toArray4(keys);\n}\n\n// src/hooks/useScroll.ts\nimport { each as each8, onScroll, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect5 } from \"@react-spring/shared\";\nvar useScroll = ({\n  container,\n  ...springOptions\n} = {}) => {\n  const [scrollValues, api] = useSpring(\n    () => ({\n      scrollX: 0,\n      scrollY: 0,\n      scrollXProgress: 0,\n      scrollYProgress: 0,\n      ...springOptions\n    }),\n    []\n  );\n  useIsomorphicLayoutEffect5(() => {\n    const cleanupScroll = onScroll(\n      ({ x, y }) => {\n        api.start({\n          scrollX: x.current,\n          scrollXProgress: x.progress,\n          scrollY: y.current,\n          scrollYProgress: y.progress\n        });\n      },\n      { container: container?.current || void 0 }\n    );\n    return () => {\n      each8(Object.values(scrollValues), (value) => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return scrollValues;\n};\n\n// src/hooks/useResize.ts\nimport { onResize, each as each9, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect6 } from \"@react-spring/shared\";\nvar useResize = ({\n  container,\n  ...springOptions\n}) => {\n  const [sizeValues, api] = useSpring(\n    () => ({\n      width: 0,\n      height: 0,\n      ...springOptions\n    }),\n    []\n  );\n  useIsomorphicLayoutEffect6(() => {\n    const cleanupScroll = onResize(\n      ({ width, height }) => {\n        api.start({\n          width,\n          height,\n          immediate: sizeValues.width.get() === 0 || sizeValues.height.get() === 0 || springOptions.immediate === true\n        });\n      },\n      { container: container?.current || void 0 }\n    );\n    return () => {\n      each9(Object.values(sizeValues), (value) => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return sizeValues;\n};\n\n// src/hooks/useInView.ts\nimport { useRef as useRef3, useState as useState2 } from \"react\";\nimport { is as is12, useIsomorphicLayoutEffect as useIsomorphicLayoutEffect7 } from \"@react-spring/shared\";\nvar defaultThresholdOptions = {\n  any: 0,\n  all: 1\n};\nfunction useInView(props, args) {\n  const [isInView, setIsInView] = useState2(false);\n  const ref = useRef3(void 0);\n  const propsFn = is12.fun(props) && props;\n  const springsProps = propsFn ? propsFn() : {};\n  const { to: to2 = {}, from = {}, ...restSpringProps } = springsProps;\n  const intersectionArguments = propsFn ? args : props;\n  const [springs, api] = useSpring(() => ({ from, ...restSpringProps }), []);\n  useIsomorphicLayoutEffect7(() => {\n    const element = ref.current;\n    const {\n      root,\n      once,\n      amount = \"any\",\n      ...restArgs\n    } = intersectionArguments ?? {};\n    if (!element || once && isInView || typeof IntersectionObserver === \"undefined\")\n      return;\n    const activeIntersections = /* @__PURE__ */ new WeakMap();\n    const onEnter = () => {\n      if (to2) {\n        api.start(to2);\n      }\n      setIsInView(true);\n      const cleanup = () => {\n        if (from) {\n          api.start(from);\n        }\n        setIsInView(false);\n      };\n      return once ? void 0 : cleanup;\n    };\n    const handleIntersection = (entries) => {\n      entries.forEach((entry) => {\n        const onLeave = activeIntersections.get(entry.target);\n        if (entry.isIntersecting === Boolean(onLeave)) {\n          return;\n        }\n        if (entry.isIntersecting) {\n          const newOnLeave = onEnter();\n          if (is12.fun(newOnLeave)) {\n            activeIntersections.set(entry.target, newOnLeave);\n          } else {\n            observer.unobserve(entry.target);\n          }\n        } else if (onLeave) {\n          onLeave();\n          activeIntersections.delete(entry.target);\n        }\n      });\n    };\n    const observer = new IntersectionObserver(handleIntersection, {\n      root: root && root.current || void 0,\n      threshold: typeof amount === \"number\" || Array.isArray(amount) ? amount : defaultThresholdOptions[amount],\n      ...restArgs\n    });\n    observer.observe(element);\n    return () => observer.unobserve(element);\n  }, [intersectionArguments]);\n  if (propsFn) {\n    return [ref, springs];\n  }\n  return [ref, isInView];\n}\n\n// src/components/Spring.tsx\nfunction Spring({ children, ...props }) {\n  return children(useSpring(props));\n}\n\n// src/components/Trail.tsx\nimport { is as is13 } from \"@react-spring/shared\";\nfunction Trail({\n  items,\n  children,\n  ...props\n}) {\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is13.fun(result) ? result(trails[index]) : result;\n  });\n}\n\n// src/components/Transition.tsx\nfunction Transition({\n  items,\n  children,\n  ...props\n}) {\n  return useTransition(items, props)(children);\n}\n\n// src/interpolate.ts\nimport { deprecateInterpolate as deprecateInterpolate2 } from \"@react-spring/shared\";\n\n// src/Interpolation.ts\nimport {\n  is as is14,\n  raf as raf5,\n  each as each10,\n  isEqual as isEqual2,\n  toArray as toArray5,\n  frameLoop as frameLoop3,\n  getFluidValue as getFluidValue3,\n  createInterpolator,\n  Globals as G6,\n  callFluidObservers as callFluidObservers3,\n  addFluidObserver as addFluidObserver3,\n  removeFluidObserver as removeFluidObserver2,\n  hasFluidValue as hasFluidValue2\n} from \"@react-spring/shared\";\nimport {\n  getAnimated as getAnimated3,\n  setAnimated as setAnimated2,\n  getAnimatedType as getAnimatedType2,\n  getPayload as getPayload2\n} from \"@react-spring/animated\";\nvar Interpolation = class extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.source = source;\n    /** Equals false when in the frameloop */\n    this.idle = true;\n    /** The inputs which are currently animating */\n    this._active = /* @__PURE__ */ new Set();\n    this.calc = createInterpolator(...args);\n    const value = this._get();\n    const nodeType = getAnimatedType2(value);\n    setAnimated2(this, nodeType.create(value));\n  }\n  advance(_dt) {\n    const value = this._get();\n    const oldValue = this.get();\n    if (!isEqual2(value, oldValue)) {\n      getAnimated3(this).setValue(value);\n      this._onChange(value, this.idle);\n    }\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n  _get() {\n    const inputs = is14.arr(this.source) ? this.source.map(getFluidValue3) : toArray5(getFluidValue3(this.source));\n    return this.calc(...inputs);\n  }\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each10(getPayload2(this), (node) => {\n        node.done = false;\n      });\n      if (G6.skipAnimation) {\n        raf5.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop3.start(this);\n      }\n    }\n  }\n  // Observe our sources only when we're observed.\n  _attach() {\n    let priority = 1;\n    each10(toArray5(this.source), (source) => {\n      if (hasFluidValue2(source)) {\n        addFluidObserver3(source, this);\n      }\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n    this._start();\n  }\n  // Stop observing our sources once we have no observers.\n  _detach() {\n    each10(toArray5(this.source), (source) => {\n      if (hasFluidValue2(source)) {\n        removeFluidObserver2(source, this);\n      }\n    });\n    this._active.clear();\n    becomeIdle(this);\n  }\n  /** @internal */\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n        this._start();\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else if (event.type == \"priority\") {\n      this.priority = toArray5(this.source).reduce(\n        (highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1),\n        0\n      );\n    }\n  }\n};\nfunction isIdle(source) {\n  return source.idle !== false;\n}\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each10(getPayload2(self), (node) => {\n      node.done = true;\n    });\n    callFluidObservers3(self, {\n      type: \"idle\",\n      parent: self\n    });\n  }\n}\n\n// src/interpolate.ts\nvar to = (source, ...args) => new Interpolation(source, args);\nvar interpolate = (source, ...args) => (deprecateInterpolate2(), new Interpolation(source, args));\n\n// src/globals.ts\nimport {\n  Globals,\n  frameLoop as frameLoop4,\n  createStringInterpolator\n} from \"@react-spring/shared\";\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nvar update = frameLoop4.advance;\n\n// src/index.ts\nimport {\n  createInterpolator as createInterpolator2,\n  useIsomorphicLayoutEffect as useIsomorphicLayoutEffect8,\n  useReducedMotion,\n  easings as easings2\n} from \"@react-spring/shared\";\nexport * from \"@react-spring/types\";\nexport {\n  BailSignal,\n  Controller,\n  FrameValue,\n  Globals,\n  Interpolation,\n  Spring,\n  SpringContext,\n  SpringRef,\n  SpringValue,\n  Trail,\n  Transition,\n  config,\n  createInterpolator2 as createInterpolator,\n  easings2 as easings,\n  inferTo,\n  interpolate,\n  to,\n  update,\n  useChain,\n  useInView,\n  useIsomorphicLayoutEffect8 as useIsomorphicLayoutEffect,\n  useReducedMotion,\n  useResize,\n  useScroll,\n  useSpring,\n  useSpringRef,\n  useSpringValue,\n  useSprings,\n  useTrail,\n  useTransition\n};\n","// src/index.ts\nimport { Globals } from \"@react-spring/core\";\nimport { unstable_batchedUpdates } from \"react-dom\";\nimport { createStringInterpolator, colors } from \"@react-spring/shared\";\nimport { createHost } from \"@react-spring/animated\";\n\n// src/applyAnimatedValues.ts\nvar isCustomPropRE = /^--/;\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === \"boolean\" || value === \"\") return \"\";\n  if (typeof value === \"number\" && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name]))\n    return value + \"px\";\n  return (\"\" + value).trim();\n}\nvar attributeCache = {};\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n  const isFilterElement = instance.nodeName === \"filter\" || instance.parentNode && instance.parentNode.nodeName === \"filter\";\n  const {\n    className,\n    style,\n    children,\n    scrollTop,\n    scrollLeft,\n    viewBox,\n    ...attributes\n  } = props;\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(\n    (name) => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(\n      /([A-Z])/g,\n      // Attributes are written in dash case\n      (n) => \"-\" + n.toLowerCase()\n    ))\n  );\n  if (children !== void 0) {\n    instance.textContent = children;\n  }\n  for (const name in style) {\n    if (style.hasOwnProperty(name)) {\n      const value = dangerousStyleValue(name, style[name]);\n      if (isCustomPropRE.test(name)) {\n        instance.style.setProperty(name, value);\n      } else {\n        instance.style[name] = value;\n      }\n    }\n  }\n  names.forEach((name, i) => {\n    instance.setAttribute(name, values[i]);\n  });\n  if (className !== void 0) {\n    instance.className = className;\n  }\n  if (scrollTop !== void 0) {\n    instance.scrollTop = scrollTop;\n  }\n  if (scrollLeft !== void 0) {\n    instance.scrollLeft = scrollLeft;\n  }\n  if (viewBox !== void 0) {\n    instance.setAttribute(\"viewBox\", viewBox);\n  }\n}\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\nvar prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\nvar prefixes = [\"Webkit\", \"Ms\", \"Moz\", \"O\"];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach((prefix) => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\n// src/AnimatedStyle.ts\nimport { AnimatedObject } from \"@react-spring/animated\";\nimport {\n  is,\n  each,\n  toArray,\n  eachProp,\n  FluidValue,\n  getFluidValue,\n  callFluidObservers,\n  hasFluidValue,\n  addFluidObserver,\n  removeFluidObserver\n} from \"@react-spring/shared\";\nvar domTransforms = /^(matrix|translate|scale|rotate|skew)/;\nvar pxTransforms = /^(translate)/;\nvar degTransforms = /^(rotate|skew)/;\nvar addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\nvar isValueIdentity = (value, id) => is.arr(value) ? value.every((v) => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\nvar AnimatedStyle = class extends AnimatedObject {\n  constructor({ x, y, z, ...style }) {\n    const inputs = [];\n    const transforms = [];\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push((xyz) => [\n        `translate3d(${xyz.map((v) => addUnit(v, \"px\")).join(\",\")})`,\n        // prettier-ignore\n        isValueIdentity(xyz, 0)\n      ]);\n    }\n    eachProp(style, (value, key) => {\n      if (key === \"transform\") {\n        inputs.push([value || \"\"]);\n        transforms.push((transform) => [transform, transform === \"\"]);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? \"px\" : degTransforms.test(key) ? \"deg\" : \"\";\n        inputs.push(toArray(value));\n        transforms.push(\n          key === \"rotate3d\" ? ([x2, y2, z2, deg]) => [\n            `rotate3d(${x2},${y2},${z2},${addUnit(deg, unit)})`,\n            isValueIdentity(deg, 0)\n          ] : (input) => [\n            `${key}(${input.map((v) => addUnit(v, unit)).join(\",\")})`,\n            isValueIdentity(input, key.startsWith(\"scale\") ? 1 : 0)\n          ]\n        );\n      }\n    });\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n    super(style);\n  }\n};\nvar FluidTransform = class extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this.inputs = inputs;\n    this.transforms = transforms;\n    this._value = null;\n  }\n  get() {\n    return this._value || (this._value = this._get());\n  }\n  _get() {\n    let transform = \"\";\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getFluidValue(input[0]);\n      const [t, id] = this.transforms[i](\n        is.arr(arg1) ? arg1 : input.map(getFluidValue)\n      );\n      transform += \" \" + t;\n      identity = identity && id;\n    });\n    return identity ? \"none\" : transform;\n  }\n  // Start observing our inputs once we have an observer.\n  observerAdded(count) {\n    if (count == 1)\n      each(\n        this.inputs,\n        (input) => each(\n          input,\n          (value) => hasFluidValue(value) && addFluidObserver(value, this)\n        )\n      );\n  }\n  // Stop observing our inputs once we have no observers.\n  observerRemoved(count) {\n    if (count == 0)\n      each(\n        this.inputs,\n        (input) => each(\n          input,\n          (value) => hasFluidValue(value) && removeFluidObserver(value, this)\n        )\n      );\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._value = null;\n    }\n    callFluidObservers(this, event);\n  }\n};\n\n// src/primitives.ts\nvar primitives = [\n  \"a\",\n  \"abbr\",\n  \"address\",\n  \"area\",\n  \"article\",\n  \"aside\",\n  \"audio\",\n  \"b\",\n  \"base\",\n  \"bdi\",\n  \"bdo\",\n  \"big\",\n  \"blockquote\",\n  \"body\",\n  \"br\",\n  \"button\",\n  \"canvas\",\n  \"caption\",\n  \"cite\",\n  \"code\",\n  \"col\",\n  \"colgroup\",\n  \"data\",\n  \"datalist\",\n  \"dd\",\n  \"del\",\n  \"details\",\n  \"dfn\",\n  \"dialog\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"em\",\n  \"embed\",\n  \"fieldset\",\n  \"figcaption\",\n  \"figure\",\n  \"footer\",\n  \"form\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"head\",\n  \"header\",\n  \"hgroup\",\n  \"hr\",\n  \"html\",\n  \"i\",\n  \"iframe\",\n  \"img\",\n  \"input\",\n  \"ins\",\n  \"kbd\",\n  \"keygen\",\n  \"label\",\n  \"legend\",\n  \"li\",\n  \"link\",\n  \"main\",\n  \"map\",\n  \"mark\",\n  \"menu\",\n  \"menuitem\",\n  \"meta\",\n  \"meter\",\n  \"nav\",\n  \"noscript\",\n  \"object\",\n  \"ol\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"p\",\n  \"param\",\n  \"picture\",\n  \"pre\",\n  \"progress\",\n  \"q\",\n  \"rp\",\n  \"rt\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"script\",\n  \"section\",\n  \"select\",\n  \"small\",\n  \"source\",\n  \"span\",\n  \"strong\",\n  \"style\",\n  \"sub\",\n  \"summary\",\n  \"sup\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"textarea\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"time\",\n  \"title\",\n  \"tr\",\n  \"track\",\n  \"u\",\n  \"ul\",\n  \"var\",\n  \"video\",\n  \"wbr\",\n  // SVG\n  \"circle\",\n  \"clipPath\",\n  \"defs\",\n  \"ellipse\",\n  \"foreignObject\",\n  \"g\",\n  \"image\",\n  \"line\",\n  \"linearGradient\",\n  \"mask\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialGradient\",\n  \"rect\",\n  \"stop\",\n  \"svg\",\n  \"text\",\n  \"tspan\"\n];\n\n// src/index.ts\nexport * from \"@react-spring/core\";\nGlobals.assign({\n  batchedUpdates: unstable_batchedUpdates,\n  createStringInterpolator,\n  colors\n});\nvar host = createHost(primitives, {\n  applyAnimatedValues,\n  createAnimatedStyle: (style) => new AnimatedStyle(style),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getComponentProps: ({ scrollTop, scrollLeft, ...props }) => props\n});\nvar animated = host.animated;\nexport {\n  animated as a,\n  animated\n};\n","import { ReactNode, useEffect, useRef, useState } from 'react'\r\nimport { SpringConfig, animated, useSpring } from 'react-spring'\r\n\r\nexport enum IslandMode {\r\n  DEFAULT = 'Default',\r\n  STRETCHED = 'Stretched',\r\n  SPLIT = 'Split',\r\n  LARGE = 'Large',\r\n  SQUARE = 'Square',\r\n}\r\n\r\ntype TransitionMode = `from${IslandMode}To${IslandMode}`\r\n\r\ntype SharedIslandScene<Name extends string> = {\r\n  name: Name\r\n}\r\n\r\ntype StretchedIslandScene<Name extends string> = SharedIslandScene<Name> & {\r\n  mode: IslandMode.STRETCHED\r\n  left: ReactNode\r\n  right: ReactNode\r\n}\r\n\r\ntype SplitIslandScene<Name extends string> = SharedIslandScene<Name> & {\r\n  mode: IslandMode.SPLIT\r\n  left: ReactNode\r\n  right: ReactNode\r\n}\r\n\r\ntype LargeIslandScene<Name extends string> = SharedIslandScene<Name> & {\r\n  mode: IslandMode.LARGE\r\n  left: ReactNode\r\n  right: ReactNode\r\n}\r\n\r\ntype SquareIslandScene<Name extends string> = SharedIslandScene<Name> & {\r\n  mode: IslandMode.SQUARE\r\n  item: ReactNode\r\n}\r\n\r\ntype IslandScene<Name extends string = string> =\r\n  | StretchedIslandScene<Name>\r\n  | SplitIslandScene<Name>\r\n  | LargeIslandScene<Name>\r\n  | SquareIslandScene<Name>\r\n\r\nexport type DynamicIslandProps<\r\n  Name extends string,\r\n  T extends IslandScene<Name>\r\n> = {\r\n  scenes: T[]\r\n  /**\r\n   * When it's null, it means default scene.\r\n   */\r\n  currentSceneName: T['name'] | null\r\n  /**\r\n   * When it's true, the island will animate shrinking down before hiding.\r\n   */\r\n  isHiding?: boolean\r\n  /**\r\n   * When it's true, the island will animate in (for mount animation).\r\n   */\r\n  isVisible?: boolean\r\n}\r\n\r\ntype DistributiveOmit<T, K extends keyof any> = T extends any\r\n  ? Omit<T, K>\r\n  : never\r\n\r\nexport const makeScene = <\r\n  Name extends string,\r\n  T extends DistributiveOmit<IslandScene, 'name'>\r\n>(\r\n  name: Name,\r\n  options: T\r\n): IslandScene<Name> => {\r\n  return {\r\n    name,\r\n    ...options,\r\n  }\r\n}\r\n\r\nexport type SceneName<T extends IslandScene[]> = null | T[number]['name']\r\n\r\nconst Gaussian = animated('feGaussianBlur')\r\nconst ColorMatrix = animated('feColorMatrix')\r\n\r\nconst flatMove: SpringConfig = {\r\n  tension: 300,\r\n  mass: 0.1,\r\n}\r\n\r\n// Internal component that handles all hooks\r\nconst DynamicIslandInternal = <Name extends string, T extends IslandScene<Name>>({\r\n  scenes,\r\n  currentSceneName,\r\n  isHiding = false,\r\n}: DynamicIslandProps<Name, T>) => {\r\n  const transitionModeRef = useRef<TransitionMode | null>(null)\r\n  const previousSceneRef = useRef<IslandScene | null>(null)\r\n\r\n  const currentScene = scenes.find(({ name }) => name === currentSceneName)\r\n\r\n  const [currentMode, setCurrentMode] = useState<IslandMode>(\r\n    currentScene?.mode ?? IslandMode.DEFAULT\r\n  )\r\n\r\n  useEffect(() => {\r\n    const previousScene = previousSceneRef.current\r\n    previousSceneRef.current = currentScene ?? null\r\n\r\n    transitionModeRef.current = `from${\r\n      previousScene?.mode ?? IslandMode.DEFAULT\r\n    }To${currentScene?.mode ?? IslandMode.DEFAULT}`\r\n\r\n    // Default mode\r\n    if (currentSceneName === null) {\r\n      setCurrentMode(IslandMode.DEFAULT)\r\n      return\r\n    }\r\n\r\n    setCurrentMode(currentScene?.mode ?? IslandMode.DEFAULT)\r\n  }, [currentSceneName])\r\n\r\n  const dynamicIslandStyles = useSpring(\r\n    isHiding\r\n      ? {\r\n          config: {\r\n            tension: 300,\r\n            mass: 0.8,\r\n          },\r\n          width: 112,\r\n          height: 32,\r\n          opacity: 0,\r\n          scale: 0.8,\r\n        }\r\n      : currentMode === IslandMode.LARGE\r\n      ? {\r\n          config: {\r\n            tension: 250,\r\n            mass: 1.5,\r\n          },\r\n          from: { opacity: 0, scale: 0.8, width: 112, height: 32 }, // START HIDDEN\r\n          width: 352,\r\n          height: 72,\r\n          opacity: 1,\r\n          scale: 1,\r\n          delay: transitionModeRef.current === 'fromSplitToLarge' ? 50 : 0,\r\n        }\r\n      : {\r\n          config: { ...flatMove },\r\n          from: { opacity: 0, scale: 0.8 }, // START HIDDEN\r\n          width: 112,\r\n          height: 32,\r\n          opacity: 1,\r\n          scale: 1,\r\n          delay: transitionModeRef.current === 'fromSplitToDefault' ? 0 : 100,\r\n        }\r\n  )\r\n\r\n  const darkRoomStyles = useSpring(\r\n    currentMode === IslandMode.SPLIT\r\n      ? {\r\n          config:\r\n            transitionModeRef.current === 'fromLargeToSplit'\r\n              ? { ...flatMove }\r\n              : {\r\n                  tension: 250,\r\n                  mass: 2,\r\n                },\r\n          transform: 'translateX(-42px)',\r\n          width: 112 + 33 + 9,\r\n          height: 32,\r\n          delay: transitionModeRef.current === 'fromLargeToSplit' ? 100 : 0,\r\n        }\r\n      : currentMode === IslandMode.LARGE\r\n      ? {\r\n          config: {\r\n            tension: 250,\r\n            mass: 1.5,\r\n          },\r\n          transform: 'translateX(0px)',\r\n          width: 352,\r\n          height: 72,\r\n          delay: transitionModeRef.current === 'fromSplitToLarge' ? 50 : 0,\r\n        }\r\n      : {\r\n          config: { ...flatMove },\r\n          transform: 'translateX(0px)',\r\n          width: 112,\r\n          height: 32,\r\n          delay: transitionModeRef.current === 'fromSplitToDefault' ? 0 : 100,\r\n        }\r\n  )\r\n\r\n  const expandedItemStyles = useSpring(\r\n    currentMode === IslandMode.LARGE\r\n      ? {\r\n          config: {\r\n            duration: 200,\r\n          },\r\n          width: 271,\r\n          height: 55,\r\n          filter: 'blur(0px)',\r\n          opacity: 1,\r\n          delay:\r\n            100 + (transitionModeRef.current === 'fromSplitToLarge' ? 50 : 0),\r\n          transform: 'scale(1)',\r\n        }\r\n      : {\r\n          config: {\r\n            duration: 150,\r\n          },\r\n          width: 86,\r\n          height: 25,\r\n          filter: 'blur(5px)',\r\n          opacity: 0,\r\n          transform: 'scale(0.9)',\r\n        }\r\n  )\r\n\r\n  const lonelyIslandStyles = useSpring(\r\n    currentMode === IslandMode.SPLIT\r\n      ? {\r\n          config: {\r\n            tension: 250,\r\n            mass: 2,\r\n          },\r\n          transform: 'translateX(42px)',\r\n          delay: transitionModeRef.current === 'fromLargeToSplit' ? 200 : 0,\r\n        }\r\n      : {\r\n          config: { ...flatMove },\r\n          transform: 'translateX(0px)',\r\n        }\r\n  )\r\n\r\n  const lonelyIslandAttr = useSpring(\r\n    currentMode === IslandMode.SPLIT\r\n      ? {\r\n          config: {\r\n            duration: 400,\r\n          },\r\n          stdDeviation: 0,\r\n          delay: 250,\r\n        }\r\n      : {\r\n          config: {\r\n            duration: 100,\r\n          },\r\n          stdDeviation: 10,\r\n        }\r\n  )\r\n\r\n  const minimizedModeLeftItemStyles = useSpring(\r\n    currentMode === IslandMode.SPLIT\r\n      ? {\r\n          config: {\r\n            duration: 200,\r\n          },\r\n          transform: 'scaleX(1)',\r\n          filter: 'blur(0px)',\r\n          opacity: 1,\r\n          delay: 100,\r\n        }\r\n      : {\r\n          config: {\r\n            duration: 150,\r\n          },\r\n          transform: 'scaleX(0.5)',\r\n          filter: 'blur(4px)',\r\n          opacity: 0,\r\n        }\r\n  )\r\n\r\n  const lonelyIslandItemStyles = useSpring(\r\n    currentMode === IslandMode.SPLIT\r\n      ? {\r\n          config: {\r\n            duration: 200,\r\n          },\r\n          transform: 'translateX(0px) scaleX(1)',\r\n          filter: 'blur(0px)',\r\n          opacity: 1,\r\n          delay: 100,\r\n        }\r\n      : {\r\n          config: {\r\n            duration: 150,\r\n          },\r\n          transform: 'translateX(-100px) scaleX(0.5)',\r\n          filter: 'blur(4px)',\r\n          opacity: 0,\r\n        }\r\n  )\r\n\r\n  // Don't render if no scene is active\r\n  if (!currentSceneName || !currentScene) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <animated.div className=\"dynamic-island\" style={dynamicIslandStyles}>\r\n      <animated.div className=\"darkroom\" style={darkRoomStyles}>\r\n        {/* Expanded mode left item */}\r\n        <div className=\"expanded-mode-item-wrapper expanded-mode-left-item-wrapper\">\r\n          <animated.div className=\"left\" style={expandedItemStyles}>\r\n            {(currentScene && 'left' in currentScene) ? currentScene.left : (\r\n              <div className=\"caller\">\r\n                <img src=\"/profile.png\" className=\"photo\" />\r\n                <div className=\"caller-info\">\r\n                  <span className=\"device\">iPhone</span>\r\n                  <span className=\"name\">Jang Haemin</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </animated.div>\r\n        </div>\r\n\r\n        {/* Expanded mode right item */}\r\n        <div className=\"expanded-mode-item-wrapper expanded-mode-right-item-wrapper\">\r\n          <animated.div className=\"right\" style={expandedItemStyles}>\r\n            {(currentScene && 'right' in currentScene) ? currentScene.right : (\r\n              <div className=\"phone-booth\">\r\n                <div className=\"phone refuse\">\r\n                  <div className=\"icon\"></div>\r\n                </div>\r\n                <div className=\"phone receive\">\r\n                  <div className=\"icon\"></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </animated.div>\r\n        </div>\r\n\r\n        {/* Minimized mode left item */}\r\n        <div className=\"minimized-mode-item-wrapper minimized-mode-left-item-wrapper\">\r\n          <animated.div\r\n            style={minimizedModeLeftItemStyles}\r\n            className=\"minimized-mode-left-item\"\r\n          >\r\n            <img className=\"photo\" src=\"/lyft.png\" />\r\n          </animated.div>\r\n        </div>\r\n\r\n        {/* Minimized mode right item */}\r\n        <div className=\"minimized-mode-item-wrapper minimized-mode-right-item-wrapper\">\r\n          <animated.div></animated.div>\r\n        </div>\r\n      </animated.div>\r\n\r\n      <svg width=\"90\" height=\"52\" className=\"meta-animation-parts\">\r\n        <defs>\r\n          <filter\r\n            id=\"split-effect\"\r\n            width=\"400%\"\r\n            x=\"-150%\"\r\n            height=\"400%\"\r\n            y=\"-150%\"\r\n          >\r\n            <Gaussian\r\n              in=\"SourceGraphic\"\r\n              {...lonelyIslandAttr}\r\n              result=\"blur\"\r\n            ></Gaussian>\r\n            <ColorMatrix\r\n              in=\"blur\"\r\n              mode=\"matrix\"\r\n              values=\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 25 -10\"\r\n              result=\"matrix\"\r\n            ></ColorMatrix>\r\n          </filter>\r\n        </defs>\r\n        <g filter=\"url(#split-effect)\">\r\n          <circle cx=\"26\" cy=\"26\" r=\"15\" fill=\"black\" />\r\n          <animated.rect\r\n            style={lonelyIslandStyles}\r\n            x=\"6\"\r\n            y=\"10\"\r\n            width=\"36\"\r\n            height=\"32\"\r\n            rx=\"16\"\r\n            fill=\"black\"\r\n          />\r\n        </g>\r\n      </svg>\r\n\r\n      <animated.div className=\"lonely-island-item-wrapper\">\r\n        <animated.div\r\n          className=\"lonely-island-item\"\r\n          style={lonelyIslandItemStyles}\r\n        >\r\n          {/* W */}\r\n        </animated.div>\r\n      </animated.div>\r\n    </animated.div>\r\n  )\r\n}\r\n\r\n// Wrapper component that handles conditional rendering with mount animation\r\nconst DynamicIsland = <Name extends string, T extends IslandScene<Name>>(props: DynamicIslandProps<Name, T>) => {\r\n  const [shouldRender, setShouldRender] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (props.currentSceneName !== null) {\r\n      // Show: mount component first to allow animation\r\n      setShouldRender(true)\r\n    } else {\r\n      // Hide: wait for hide animation to complete before unmounting\r\n      const unmountTimer = setTimeout(() => {\r\n        setShouldRender(false)\r\n      }, 650) // Slightly longer than AuthContext delay (600ms)\r\n      \r\n      return () => clearTimeout(unmountTimer)\r\n    }\r\n  }, [props.currentSceneName])\r\n\r\n  if (!shouldRender) {\r\n    return null\r\n  }\r\n\r\n  return <DynamicIslandInternal {...props} />\r\n}\r\n\r\nexport default DynamicIsland\r\n","import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { apiPost, apiGet } from '../lib/api';\r\nimport DynamicIsland, { IslandMode, makeScene } from '../components/DynamicIsland/DynamicIsland';\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  full_name: string;\r\n  role: 'admin' | 'operator' | 'user' | 'admin_wilayah';\r\n  office_id?: string | null;\r\n  wilayah?: string | null;\r\n  kabkota?: string;\r\n  original_admin_id?: string; // For impersonation tracking\r\n  impersonating?: boolean;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  originalUser: User | null; // User asli sebelum impersonate\r\n  token: string | null;\r\n  loading: boolean;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n  refreshUser: () => Promise<void>;\r\n  isAuthenticated: boolean;\r\n  isImpersonating: boolean;\r\n  isAdminKanwil: boolean; // Admin kanwil yang bisa impersonate\r\n  impersonateUser: (userId: string) => Promise<void>;\r\n  stopImpersonating: () => Promise<void>;\r\n  updateToken: (newToken: string) => void;\r\n  isMaintenanceMode: boolean;\r\n  maintenanceMessage: string;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\r\n\r\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [originalUser, setOriginalUser] = useState<User | null>(null);\r\n  const [token, setToken] = useState<string | null>(null);\r\n  const [originalToken, setOriginalToken] = useState<string | null>(null); // token admin asli\r\n  const [loading, setLoading] = useState(true);\r\n  const [isMaintenanceMode, setIsMaintenanceMode] = useState<boolean>(false);\r\n  const [maintenanceMessage, setMaintenanceMessage] = useState<string>('');\r\n  \r\n  // Dynamic Island state - default hidden\r\n  const [showWelcomeIsland, setShowWelcomeIsland] = useState(false);\r\n  const [hasShownWelcome, setHasShownWelcome] = useState(() => {\r\n    // Check localStorage for previous welcome display in this session\r\n    return localStorage.getItem('hasShownWelcome') === 'true';\r\n  });\r\n  const [isHiding, setIsHiding] = useState(false);\r\n\r\n  // Setup window functions untuk refresh token\r\n  useEffect(() => {\r\n    // Fungsi untuk update token dari API layer\r\n    window.dispatchTokenUpdate = (newToken: string) => {\r\n      setToken(newToken);\r\n      localStorage.setItem('token', newToken);\r\n    };\r\n\r\n    return () => {\r\n      delete window.dispatchTokenUpdate;\r\n    };\r\n  }, []);\r\n\r\n  // Check maintenance status whenever user changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      checkMaintenanceStatus();\r\n    }\r\n  }, [user]);\r\n\r\n  // Check maintenance status\r\n  const checkMaintenanceStatus = async () => {\r\n    try {\r\n      const response = await fetch('/api/maintenance/status');\r\n      const data = await response.json();\r\n      \r\n      // Check if user is superadmin (can bypass maintenance)\r\n      const currentUser = user || JSON.parse(localStorage.getItem('user') || 'null');\r\n      const isSuperAdmin = currentUser && currentUser.role === 'admin' && currentUser.office_id === null;\r\n      \r\n      // If user is superadmin, don't set maintenance mode\r\n      if (isSuperAdmin) {\r\n        setIsMaintenanceMode(false);\r\n        setMaintenanceMessage('');\r\n      } else {\r\n        setIsMaintenanceMode(data.isMaintenanceMode || false);\r\n        setMaintenanceMessage(data.message || '');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking maintenance status:', error);\r\n      // Set default values if API fails\r\n      setIsMaintenanceMode(false);\r\n      setMaintenanceMessage('');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem('token');\r\n    const storedOriginalToken = localStorage.getItem('originalToken');\r\n    const storedOriginalUser = localStorage.getItem('originalUser');\r\n    \r\n    // Check maintenance status on app load\r\n    checkMaintenanceStatus();\r\n    \r\n    if (storedToken) {\r\n      setToken(storedToken);\r\n      \r\n      // Restore original token and user if they exist (for impersonation)\r\n      if (storedOriginalToken && storedOriginalUser) {\r\n        try {\r\n          setOriginalToken(storedOriginalToken);\r\n          setOriginalUser(JSON.parse(storedOriginalUser));\r\n          console.log('Restored impersonation state from localStorage:', {\r\n            hasOriginalToken: !!storedOriginalToken,\r\n            hasOriginalUser: !!storedOriginalUser,\r\n            originalUserRole: JSON.parse(storedOriginalUser)?.role\r\n          });\r\n        } catch (error) {\r\n          console.error('Error parsing stored original user:', error);\r\n          // Clear invalid stored data\r\n          localStorage.removeItem('originalToken');\r\n          localStorage.removeItem('originalUser');\r\n        }\r\n      }\r\n      \r\n      // Fetch user data with better error handling\r\n      apiGet('/api/auth/me', storedToken)\r\n        .then((res) => {\r\n          setUser(res.user);\r\n          \r\n          // Check if this is an impersonation scenario\r\n          const hasOriginalData = storedOriginalToken && storedOriginalUser;\r\n          const isImpersonationResponse = res.user?.impersonating || res.user?.original_admin_id;\r\n          \r\n          console.log('Auth state restoration:', {\r\n            hasOriginalData,\r\n            isImpersonationResponse,\r\n            userRole: res.user?.role,\r\n            userId: res.user?.id,\r\n            impersonating: res.user?.impersonating,\r\n            originalAdminId: res.user?.original_admin_id\r\n          });\r\n          \r\n          // If we have original data in localStorage, treat this as impersonation state\r\n          // regardless of backend response flags (backend might not send impersonation flags)\r\n          if (hasOriginalData) {\r\n            console.log('Restoring impersonation state from localStorage');\r\n            // Keep the originalToken and originalUser from localStorage\r\n            // The current user from API response is the impersonated user\r\n          } else if (!isImpersonationResponse) {\r\n            // Only set originalUser if we're not in an impersonation state\r\n            setOriginalUser(res.user);\r\n          }\r\n          \r\n          // Don't clean up impersonation data automatically - let user decide via stop impersonate\r\n          \r\n          // Final state logging - use stored values since state might not be updated yet\r\n          console.log('Final auth state after restoration:', {\r\n            currentUser: res.user?.full_name,\r\n            currentRole: res.user?.role,\r\n            isImpersonating: !!(storedOriginalToken || res.user?.impersonating),\r\n            hasOriginalToken: !!storedOriginalToken,\r\n            hasOriginalUser: !!storedOriginalUser,\r\n            userObject: res.user // Log full user object untuk debugging\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching user:', error);\r\n          // Don't logout immediately, let the global error handler deal with it\r\n          // Only logout if it's a clear authentication error\r\n          if (error.message?.includes('Sesi berakhir') || error.message?.includes('Unauthorized')) {\r\n            logout();\r\n          }\r\n        })\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Monitor user state changes untuk debugging\r\n  useEffect(() => {\r\n    console.log('User state changed:', {\r\n      user: user?.full_name || 'undefined',\r\n      userId: user?.id,\r\n      role: user?.role,\r\n      isImpersonating: !!(originalToken || user?.impersonating),\r\n      hasOriginalToken: !!originalToken,\r\n      hasOriginalUser: !!originalUser\r\n    });\r\n  }, [user, originalToken, originalUser]);\r\n\r\n  // Show Dynamic Island ONLY after login (once per session)\r\n  useEffect(() => {\r\n    const isLoginPage = window.location.pathname === '/' || window.location.pathname === '/login';\r\n    const isMaintenancePage = window.location.pathname === '/maintenance' || isMaintenanceMode;\r\n    \r\n    console.log(' useEffect triggered with conditions:', {\r\n      hasUser: !!user,\r\n      hasFullName: !!user?.full_name,\r\n      showWelcomeIsland,\r\n      hasShownWelcome,\r\n      isHiding,\r\n      isLoginPage,\r\n      isMaintenancePage,\r\n      isMaintenanceMode,\r\n      currentPath: window.location.pathname,\r\n      shouldShow: user && !showWelcomeIsland && !hasShownWelcome && !isHiding && !isLoginPage && !isMaintenancePage\r\n    });\r\n    \r\n    // ONLY show Dynamic Island if:\r\n    // 1. User exists (logged in)\r\n    // 2. Not already showing\r\n    // 3. Haven't shown welcome yet in this session\r\n    // 4. Not currently hiding\r\n    // 5. NOT on login page\r\n    \r\n    // Hide Dynamic Island if on login page or maintenance mode\r\n    if ((isLoginPage || isMaintenancePage) && showWelcomeIsland) {\r\n      console.log(' Login page or maintenance mode detected, hiding Dynamic Island');\r\n      setShowWelcomeIsland(false);\r\n      setIsHiding(false);\r\n      setHasShownWelcome(false);\r\n      return;\r\n    }\r\n    \r\n    if (user && !showWelcomeIsland && !hasShownWelcome && !isHiding && !isLoginPage && !isMaintenancePage) {\r\n      console.log(' Conditions met! User data available, showing Dynamic Island:', {\r\n        full_name: user.full_name,\r\n        firstLetter: user.full_name?.charAt(0)?.toUpperCase(),\r\n        hasUserData: !!user\r\n      });\r\n      \r\n      // Show welcome Dynamic Island\r\n      console.log(' Starting show animation...');\r\n      setShowWelcomeIsland(true);\r\n      setHasShownWelcome(true);\r\n      localStorage.setItem('hasShownWelcome', 'true');\r\n      \r\n      // Start hide animation after 3 seconds\r\n      console.log(' Setting timer for hide animation in 3 seconds...');\r\n      console.log(' Timer created at:', new Date().toLocaleTimeString());\r\n      const hideTimer = setTimeout(() => {\r\n        console.log(' Timer fired! Starting hide animation...');\r\n        setIsHiding(true);\r\n        \r\n        // Wait for hide animation to complete (600ms for smooth transition)\r\n        const completeTimer = setTimeout(() => {\r\n          console.log(' Hide animation complete, removing Dynamic Island');\r\n          setShowWelcomeIsland(false);\r\n          setIsHiding(false);\r\n          console.log(' Dynamic Island fully removed!');\r\n        }, 600);\r\n        \r\n        return () => clearTimeout(completeTimer);\r\n      }, 3000);\r\n      \r\n      return () => clearTimeout(hideTimer);\r\n    }\r\n  }, [user, hasShownWelcome, isHiding]);\r\n\r\n  // Debug Dynamic Island state changes\r\n  useEffect(() => {\r\n    console.log(' Dynamic Island state changed:', {\r\n      showWelcomeIsland,\r\n      isHiding,\r\n      hasShownWelcome,\r\n      userFullName: user?.full_name\r\n    });\r\n    \r\n    // Force hide after 2.5 seconds for testing\r\n    if (showWelcomeIsland && !isHiding) {\r\n      console.log(' Dynamic Island showing, will force hide in 2.5 seconds...');\r\n      const forceHideTimer = setTimeout(() => {\r\n        console.log(' Force hiding Dynamic Island after 2.5 seconds - starting hide animation');\r\n        setIsHiding(true); // Start hide animation first\r\n        \r\n        // Wait for hide animation to complete (600ms for smooth transition)\r\n        const completeTimer = setTimeout(() => {\r\n          console.log(' Force hide animation complete, removing Dynamic Island');\r\n          setShowWelcomeIsland(false);\r\n          setIsHiding(false);\r\n        }, 600);\r\n        \r\n        return () => clearTimeout(completeTimer);\r\n      }, 2500);\r\n      \r\n      return () => clearTimeout(forceHideTimer);\r\n    }\r\n  }, [showWelcomeIsland, isHiding, hasShownWelcome, user]);\r\n\r\n  const login = async (email: string, password: string) => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiPost('/api/auth/login', { email, password });\r\n      setToken(res.token);\r\n      setUser(res.user);\r\n      setOriginalUser(res.user); // Set original user saat login\r\n      setOriginalToken(null); // Reset impersonate\r\n      localStorage.setItem('token', res.token);\r\n      \r\n      // Clean up impersonation data from localStorage\r\n      localStorage.removeItem('originalToken');\r\n      localStorage.removeItem('originalUser');\r\n      \r\n      // Dynamic Island will be shown automatically by useEffect when user data is set\r\n      console.log('Login successful, user data:', res.user);\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setToken(null);\r\n    setUser(null);\r\n    setOriginalUser(null);\r\n    setOriginalToken(null);\r\n    setShowWelcomeIsland(false); // Hide Dynamic Island on logout\r\n    setHasShownWelcome(false); // Reset welcome flag for next login\r\n    setIsHiding(false); // Reset hide animation state\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('originalToken');\r\n    localStorage.removeItem('originalUser');\r\n    localStorage.removeItem('hasShownWelcome'); // Clear welcome flag for next session\r\n  };\r\n\r\n  const refreshUser = async () => {\r\n    if (!token) return;\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiGet('/api/auth/me', token);\r\n      setUser(res.user);\r\n      // Jangan update originalUser saat refresh\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk update token (dipanggil dari API layer)\r\n  const updateToken = (newToken: string) => {\r\n    setToken(newToken);\r\n    localStorage.setItem('token', newToken);\r\n  };\r\n\r\n  // Impersonate: request token baru ke backend, simpan token admin asli, set token impersonate\r\n  const impersonateUser = async (userId: string) => {\r\n    if (!token || !isAdminKanwil) {\r\n      throw new Error('Only admin kanwil can impersonate');\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      // Always save current admin token and user as original (in case of re-impersonation)\r\n      setOriginalToken(token);\r\n      setOriginalUser(user);\r\n      localStorage.setItem('originalToken', token);\r\n      localStorage.setItem('originalUser', JSON.stringify(user));\r\n      \r\n      console.log('Starting impersonation for user:', userId);\r\n      const res = await apiPost('/api/auth/impersonate', { userId }, token);\r\n      \r\n      // Update current token and user to impersonated ones\r\n      setToken(res.token);\r\n      setUser(res.user);\r\n      localStorage.setItem('token', res.token);\r\n      \r\n      console.log('Impersonation started successfully:', {\r\n        impersonatedUser: res.user?.full_name,\r\n        originalAdmin: user?.full_name\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to start impersonation:', error);\r\n      // Clean up on error\r\n      localStorage.removeItem('originalToken');\r\n      localStorage.removeItem('originalUser');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Stop impersonate: call backend then restore token admin asli\r\n  const stopImpersonating = async () => {\r\n    const hasImpersonationData = originalToken && originalUser;\r\n    const hasBackendImpersonationFlag = user?.impersonating || user?.original_admin_id;\r\n    \r\n    if (!token || (!hasImpersonationData && !hasBackendImpersonationFlag)) {\r\n      console.log('No impersonation to stop:', { \r\n        hasToken: !!token, \r\n        hasImpersonationData,\r\n        hasBackendImpersonationFlag,\r\n        userImpersonating: user?.impersonating,\r\n        originalAdminId: user?.original_admin_id\r\n      });\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n      console.log('Stopping impersonation...');\r\n      \r\n      // Try backend call first if we have impersonation token\r\n      if (hasBackendImpersonationFlag) {\r\n        try {\r\n          const res = await apiPost('/api/auth/stop-impersonate', {}, token);\r\n          console.log('Backend stop impersonation successful:', {\r\n            adminName: res.user?.full_name,\r\n            adminRole: res.user?.role,\r\n            hasToken: !!res.token\r\n          });\r\n          \r\n          // Restore admin token from backend response\r\n          setToken(res.token);\r\n          setUser(res.user);\r\n          setOriginalToken(null);\r\n          localStorage.setItem('token', res.token);\r\n          \r\n          // Clean up localStorage\r\n          localStorage.removeItem('originalToken');\r\n          localStorage.removeItem('originalUser');\r\n          \r\n          console.log('Impersonation stopped successfully via backend');\r\n          \r\n          // Force state update dengan setTimeout untuk memastikan state ter-update\r\n          setTimeout(() => {\r\n            console.log('Backend state update completed:', {\r\n              currentUser: res.user?.full_name,\r\n              currentRole: res.user?.role\r\n            });\r\n          }, 100);\r\n          return;\r\n        } catch (backendError) {\r\n          console.warn('Backend stop impersonation failed, using fallback:', backendError);\r\n        }\r\n      }\r\n      \r\n      // Fallback: restore from stored original token and user\r\n      if (hasImpersonationData) {\r\n        console.log('Using fallback restore from localStorage');\r\n        \r\n        // Get fresh data from localStorage to ensure we have the latest\r\n        const storedOriginalToken = localStorage.getItem('originalToken');\r\n        const storedOriginalUser = localStorage.getItem('originalUser');\r\n        \r\n        if (storedOriginalToken && storedOriginalUser) {\r\n          try {\r\n            const parsedOriginalUser = JSON.parse(storedOriginalUser);\r\n            console.log('Restoring admin from localStorage:', {\r\n              adminName: parsedOriginalUser?.full_name,\r\n              adminRole: parsedOriginalUser?.role\r\n            });\r\n            \r\n            setToken(storedOriginalToken);\r\n            setUser(parsedOriginalUser);\r\n            setOriginalToken(null);\r\n            localStorage.setItem('token', storedOriginalToken);\r\n            \r\n            // Clean up localStorage\r\n            localStorage.removeItem('originalToken');\r\n            localStorage.removeItem('originalUser');\r\n            \r\n            console.log('Impersonation stopped successfully via fallback');\r\n            \r\n            // Force state update dengan setTimeout untuk memastikan state ter-update\r\n            setTimeout(() => {\r\n              console.log('Fallback state update completed:', {\r\n                currentUser: parsedOriginalUser?.full_name,\r\n                currentRole: parsedOriginalUser?.role\r\n              });\r\n            }, 100);\r\n          } catch (parseError) {\r\n            console.error('Error parsing original user in fallback:', parseError);\r\n            throw new Error('Failed to parse original user data');\r\n          }\r\n        } else {\r\n          throw new Error('Original user data not found in localStorage');\r\n        }\r\n      } else {\r\n        throw new Error('No impersonation data available to restore');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error stopping impersonation:', error);\r\n      // Last resort: clear everything and redirect to login\r\n      console.log('Last resort: clearing all auth data');\r\n      logout();\r\n      throw new Error('Failed to stop impersonation. Please login again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n    const isImpersonating = !!originalToken || !!user?.impersonating;\r\n  const isAdminKanwil = user?.role === 'admin' && user?.office_id === null;\r\n\r\n  // Create Welcome Scene dynamically with user data\r\n  const createWelcomeScene = (userData: User | null) => makeScene('Welcome', {\r\n    mode: IslandMode.LARGE,\r\n    left: (\r\n      <div style={{ \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        gap: '8px',\r\n        padding: '12px 16px',\r\n        minWidth: 'fit-content',\r\n        width: 'auto'\r\n      }}>\r\n        <div style={{\r\n          width: '24px',\r\n          height: '24px',\r\n          borderRadius: '50%',\r\n          backgroundColor: '#34c759',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          color: '#fff',\r\n          fontSize: '12px',\r\n          fontWeight: '600'\r\n        }}>\r\n          {userData?.full_name?.charAt(0)?.toUpperCase() || userData?.email?.charAt(0)?.toUpperCase() || 'U'}\r\n        </div>\r\n        <span style={{ \r\n          fontSize: '16px', \r\n          color: '#fff', \r\n          fontWeight: '500',\r\n          whiteSpace: 'nowrap'\r\n        }}>\r\n          Selamat Datang\r\n        </span>\r\n      </div>\r\n    ),\r\n    right: (\r\n      <div style={{ \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        padding: '12px 16px',\r\n        minWidth: 'fit-content',\r\n        width: 'auto'\r\n      }}>\r\n        <span style={{ \r\n          fontSize: '16px', \r\n          color: '#fff', \r\n          fontWeight: '600',\r\n          whiteSpace: 'nowrap'\r\n        }}>\r\n          {userData?.full_name || userData?.email?.split('@')[0] || 'User'}\r\n        </span>\r\n      </div>\r\n    ),\r\n  });\r\n\r\n  // Only create WelcomeScene when user data is available\r\n  console.log(' Creating WelcomeScene with user:', {\r\n    userFullName: user?.full_name,\r\n    userExists: !!user,\r\n    firstLetter: user?.full_name?.charAt(0)?.toUpperCase()\r\n  });\r\n  const WelcomeScene = user ? createWelcomeScene(user) : null;\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ \r\n      user, \r\n      originalUser,\r\n      token,\r\n      loading,\r\n      login,\r\n      logout,\r\n      refreshUser,\r\n      isAuthenticated: !!user && !!token,\r\n      isImpersonating,\r\n      isAdminKanwil,\r\n      impersonateUser,\r\n      stopImpersonating,\r\n      updateToken,\r\n      isMaintenanceMode,\r\n      maintenanceMessage\r\n    }}>\r\n      {children}\r\n      \r\n      {/* Dynamic Island Welcome Message */}\r\n      {WelcomeScene && (\r\n        <DynamicIsland \r\n          scenes={[WelcomeScene]} \r\n          currentSceneName={showWelcomeIsland ? 'Welcome' : null}\r\n          isHiding={isHiding}\r\n        />\r\n      )}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\n// Extend Window interface untuk TypeScript\r\ndeclare global {\r\n  interface Window {\r\n    dispatchTokenUpdate?: (token: string) => void;\r\n  }\r\n}\r\n","import { \r\n  Home, \r\n  FileText, \r\n  Settings, \r\n  UserCog, \r\n  Upload,\r\n  Users,\r\n  BarChart3,\r\n  FileCheck,\r\n  FolderOpen\r\n} from 'lucide-react';\r\n\r\nexport type UserRole = 'admin' | 'admin_wilayah' | 'operator' | 'user';\r\n\r\nexport interface NavigationItem {\r\n  name: string;\r\n  href: string;\r\n  icon: any;\r\n  description?: string;\r\n  badge?: string;\r\n  badgeColor?: 'default' | 'secondary' | 'destructive' | 'outline';\r\n  roles?: UserRole[];\r\n  excludeRoles?: UserRole[];\r\n  children?: NavigationItem[];\r\n  requiresAuth?: boolean;\r\n  isExternal?: boolean;\r\n}\r\n\r\nexport interface BreadcrumbItem {\r\n  name: string;\r\n  href?: string;\r\n  current?: boolean;\r\n}\r\n\r\n// Navigation configuration\r\nexport const navigationConfig: NavigationItem[] = [\r\n  {\r\n    name: 'Dashboard',\r\n    href: '/dashboard',\r\n    icon: Home,\r\n    description: 'Overview dan statistik sistem',\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  {\r\n    name: 'Admin Wilayah Dashboard',\r\n    href: '/admin-wilayah/dashboard',\r\n    icon: BarChart3,\r\n    description: 'Dashboard khusus Admin Wilayah',\r\n    roles: ['admin_wilayah']\r\n  },\r\n  {\r\n    name: 'Template Generator',\r\n    href: '/generator',\r\n    icon: FileText,\r\n    description: 'Generate surat berdasarkan template',\r\n    roles: ['admin', 'operator']\r\n  },\r\n  {\r\n    name: 'SK Generator',\r\n    href: '/generator/sk',\r\n    icon: FileCheck,\r\n    description: 'Generate Surat Keputusan Mutasi',\r\n    roles: ['admin', 'user']\r\n  },\r\n  {\r\n    name: 'Riwayat Surat',\r\n    href: '/letters',\r\n    icon: FolderOpen,\r\n    description: 'Daftar surat yang telah dibuat',\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  {\r\n    name: 'Data Pengajuan',\r\n    href: '/pengajuan',\r\n    icon: Upload,\r\n    description: 'Kelola data pengajuan pegawai',\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  {\r\n    name: 'Management User',\r\n    href: '/users',\r\n    icon: UserCog,\r\n    description: 'Kelola pengguna sistem',\r\n    roles: ['admin']\r\n  },\r\n  {\r\n    name: 'Settings',\r\n    href: '/settings',\r\n    icon: Settings,\r\n    description: 'Pengaturan sistem dan profil',\r\n    excludeRoles: ['user']\r\n  }\r\n];\r\n\r\n// Route configuration for breadcrumbs and access control\r\nexport const routeConfig: Record<string, {\r\n  title: string;\r\n  breadcrumbs: BreadcrumbItem[];\r\n  roles: UserRole[];\r\n  parent?: string;\r\n}> = {\r\n  '/': {\r\n    title: 'Beranda',\r\n    breadcrumbs: [{ name: 'Beranda', current: true }],\r\n    roles: []\r\n  },\r\n  '/dashboard': {\r\n    title: 'Dashboard',\r\n    breadcrumbs: [\r\n      { name: 'Dashboard', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  '/admin-wilayah/dashboard': {\r\n    title: 'Dashboard Admin Wilayah',\r\n    breadcrumbs: [\r\n      { name: 'Dashboard Admin Wilayah', current: true }\r\n    ],\r\n    roles: ['admin_wilayah']\r\n  },\r\n  '/generator': {\r\n    title: 'Template Generator',\r\n    breadcrumbs: [\r\n      { name: 'Generator', href: '/generator' },\r\n      { name: 'Pilih Template', current: true }\r\n    ],\r\n    roles: ['admin', 'operator']\r\n  },\r\n  '/generator/create/:templateId': {\r\n    title: 'Buat Surat',\r\n    breadcrumbs: [\r\n      { name: 'Generator', href: '/generator' },\r\n      { name: 'Buat Surat', current: true }\r\n    ],\r\n    roles: ['admin', 'operator'],\r\n    parent: '/generator'\r\n  },\r\n  '/generator/sk': {\r\n    title: 'SK Generator',\r\n    breadcrumbs: [\r\n      { name: 'SK Generator', current: true }\r\n    ],\r\n    roles: ['admin', 'user']\r\n  },\r\n  '/letters': {\r\n    title: 'Riwayat Surat',\r\n    breadcrumbs: [\r\n      { name: 'Riwayat Surat', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  '/letters/:id': {\r\n    title: 'Detail Surat',\r\n    breadcrumbs: [\r\n      { name: 'Riwayat Surat', href: '/letters' },\r\n      { name: 'Detail Surat', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user'],\r\n    parent: '/letters'\r\n  },\r\n  '/letters/:id/preview': {\r\n    title: 'Preview Surat',\r\n    breadcrumbs: [\r\n      { name: 'Riwayat Surat', href: '/letters' },\r\n      { name: 'Detail Surat', href: '/letters/:id' },\r\n      { name: 'Preview', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user'],\r\n    parent: '/letters'\r\n  },\r\n  '/pengajuan': {\r\n    title: 'Data Pengajuan',\r\n    breadcrumbs: [\r\n      { name: 'Data Pengajuan', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user']\r\n  },\r\n  '/pengajuan/select': {\r\n    title: 'Pilih Pegawai',\r\n    breadcrumbs: [\r\n      { name: 'Data Pengajuan', href: '/pengajuan' },\r\n      { name: 'Pilih Pegawai', current: true }\r\n    ],\r\n    roles: ['admin', 'operator'],\r\n    parent: '/pengajuan'\r\n  },\r\n  '/pengajuan/:pengajuanId': {\r\n    title: 'Detail Pengajuan',\r\n    breadcrumbs: [\r\n      { name: 'Data Pengajuan', href: '/pengajuan' },\r\n      { name: 'Detail Pengajuan', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator', 'user'],\r\n    parent: '/pengajuan'\r\n  },\r\n  '/pengajuan/:pengajuanId/upload': {\r\n    title: 'Upload File',\r\n    breadcrumbs: [\r\n      { name: 'Data Pengajuan', href: '/pengajuan' },\r\n      { name: 'Detail Pengajuan', href: '/pengajuan/:pengajuanId' },\r\n      { name: 'Upload File', current: true }\r\n    ],\r\n    roles: ['admin', 'operator'],\r\n    parent: '/pengajuan'\r\n  },\r\n  '/pengajuan/:pengajuanId/edit': {\r\n    title: 'Edit Pengajuan',\r\n    breadcrumbs: [\r\n      { name: 'Data Pengajuan', href: '/pengajuan' },\r\n      { name: 'Detail Pengajuan', href: '/pengajuan/:pengajuanId' },\r\n      { name: 'Edit', current: true }\r\n    ],\r\n    roles: ['admin', 'operator'],\r\n    parent: '/pengajuan'\r\n  },\r\n  '/admin-wilayah/upload/:pengajuanId': {\r\n    title: 'Upload File Admin Wilayah',\r\n    breadcrumbs: [\r\n      { name: 'Dashboard Admin Wilayah', href: '/admin-wilayah/dashboard' },\r\n      { name: 'Upload File', current: true }\r\n    ],\r\n    roles: ['admin_wilayah'],\r\n    parent: '/admin-wilayah/dashboard'\r\n  },\r\n  '/users': {\r\n    title: 'Management User',\r\n    breadcrumbs: [\r\n      { name: 'Management User', current: true }\r\n    ],\r\n    roles: ['admin']\r\n  },\r\n  '/settings': {\r\n    title: 'Settings',\r\n    breadcrumbs: [\r\n      { name: 'Settings', current: true }\r\n    ],\r\n    roles: ['admin', 'admin_wilayah', 'operator']\r\n  },\r\n  '/job-type-configuration': {\r\n    title: 'Konfigurasi Jenis Jabatan',\r\n    breadcrumbs: [\r\n      { name: 'Settings', href: '/settings' },\r\n      { name: 'Konfigurasi Jenis Jabatan', current: true }\r\n    ],\r\n    roles: ['admin'],\r\n    parent: '/settings'\r\n  }\r\n};\r\n\r\n// Helper functions\r\nexport const getNavigationItems = (userRole: UserRole): NavigationItem[] => {\r\n  return navigationConfig.filter(item => {\r\n    // Check if role is explicitly included\r\n    if (item.roles && !item.roles.includes(userRole)) {\r\n      return false;\r\n    }\r\n    \r\n    // Check if role is explicitly excluded\r\n    if (item.excludeRoles && item.excludeRoles.includes(userRole)) {\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  });\r\n};\r\n\r\nexport const getBreadcrumbs = (pathname: string, params?: Record<string, string>): BreadcrumbItem[] => {\r\n  // Try exact match first\r\n  let config = routeConfig[pathname];\r\n  \r\n  // If no exact match, try pattern matching for dynamic routes\r\n  if (!config) {\r\n    for (const [pattern, routeConfigItem] of Object.entries(routeConfig)) {\r\n      if (pattern.includes(':')) {\r\n        const patternRegex = new RegExp(pattern.replace(/:\\w+/g, '[^/]+'));\r\n        if (patternRegex.test(pathname)) {\r\n          config = routeConfigItem;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  if (!config) {\r\n    return [{ name: 'Halaman', current: true }];\r\n  }\r\n  \r\n  // Replace dynamic segments with actual values\r\n  return config.breadcrumbs.map(breadcrumb => ({\r\n    ...breadcrumb,\r\n    href: breadcrumb.href ? breadcrumb.href.replace(/:(\\w+)/g, (match, key) => params?.[key] || match) : undefined\r\n  }));\r\n};\r\n\r\nexport const hasAccess = (pathname: string, userRole: UserRole): boolean => {\r\n  const config = routeConfig[pathname];\r\n  if (!config) return true; // Allow access to unknown routes\r\n  \r\n  return config.roles.length === 0 || config.roles.includes(userRole);\r\n};\r\n\r\nexport const getPageTitle = (pathname: string, params?: Record<string, string>): string => {\r\n  const config = routeConfig[pathname];\r\n  if (!config) return 'Halaman';\r\n  \r\n  return config.title;\r\n};\r\n","import { useMemo } from 'react';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { \r\n  getNavigationItems, \r\n  getBreadcrumbs, \r\n  getPageTitle, \r\n  hasAccess,\r\n  UserRole \r\n} from '@/config/navigation';\r\n\r\nexport const useNavigation = () => {\r\n  const location = useLocation();\r\n  const params = useParams();\r\n  const { user, isImpersonating, originalUser } = useAuth();\r\n\r\n  // Determine current user role (consider impersonation)\r\n  const currentRole: UserRole = useMemo(() => {\r\n    // When impersonating, use the impersonated user's role for navigation\r\n    // The navigation should show menus based on what the impersonated user can access\r\n    if (isImpersonating && user) {\r\n      return user.role as UserRole;\r\n    }\r\n    return user?.role as UserRole;\r\n  }, [user, isImpersonating]);\r\n\r\n  // Get navigation items for current role\r\n  const navigationItems = useMemo(() => {\r\n    return getNavigationItems(currentRole);\r\n  }, [currentRole]);\r\n\r\n  // Get breadcrumbs for current path\r\n  const breadcrumbs = useMemo(() => {\r\n    return getBreadcrumbs(location.pathname, params);\r\n  }, [location.pathname, params]);\r\n\r\n  // Get current page title\r\n  const pageTitle = useMemo(() => {\r\n    return getPageTitle(location.pathname, params);\r\n  }, [location.pathname, params]);\r\n\r\n  // Check if user has access to current page\r\n  const hasPageAccess = useMemo(() => {\r\n    return hasAccess(location.pathname, currentRole);\r\n  }, [location.pathname, currentRole]);\r\n\r\n  // Check if user has access to a specific path\r\n  const checkAccess = (pathname: string) => {\r\n    return hasAccess(pathname, currentRole);\r\n  };\r\n\r\n  // Get navigation item by path\r\n  const getNavigationItem = (href: string) => {\r\n    return navigationItems.find(item => item.href === href);\r\n  };\r\n\r\n  // Check if current path is active\r\n  const isActivePath = (href: string) => {\r\n    if (href === '/') {\r\n      return location.pathname === '/';\r\n    }\r\n    \r\n    // Exact match first\r\n    if (location.pathname === href) {\r\n      return true;\r\n    }\r\n    \r\n    // Special handling for routes that have sub-routes\r\n    const parentRoutes = {\r\n      '/generator': ['/generator/sk', '/generator/create'],\r\n      '/pengajuan': ['/pengajuan/select', '/pengajuan/edit'],\r\n      '/letters': ['/letters/preview'],\r\n      '/admin-wilayah': ['/admin-wilayah/dashboard', '/admin-wilayah/upload']\r\n    };\r\n    \r\n    // Check if current path is a sub-route of the href\r\n    for (const [parentRoute, subRoutes] of Object.entries(parentRoutes)) {\r\n      if (href === parentRoute) {\r\n        const isSubRoute = subRoutes.some(subRoute => location.pathname.startsWith(subRoute));\r\n        if (isSubRoute) {\r\n          return false; // Don't highlight parent when on sub-route\r\n        }\r\n      }\r\n    }\r\n    \r\n    // For other routes, use startsWith\r\n    return location.pathname.startsWith(href);\r\n  };\r\n\r\n  // Get parent breadcrumb\r\n  const getParentBreadcrumb = () => {\r\n    if (breadcrumbs.length > 1) {\r\n      return breadcrumbs[breadcrumbs.length - 2];\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Get root breadcrumb (first item)\r\n  const getRootBreadcrumb = () => {\r\n    return breadcrumbs[0] || null;\r\n  };\r\n\r\n  return {\r\n    // Current state\r\n    currentRole,\r\n    currentPath: location.pathname,\r\n    \r\n    // Navigation data\r\n    navigationItems,\r\n    breadcrumbs,\r\n    pageTitle,\r\n    \r\n    // Access control\r\n    hasPageAccess,\r\n    checkAccess,\r\n    \r\n    // Helpers\r\n    getNavigationItem,\r\n    isActivePath,\r\n    getParentBreadcrumb,\r\n    getRootBreadcrumb,\r\n    \r\n    // Raw data\r\n    params,\r\n    location\r\n  };\r\n};\r\n\r\n// Hook for breadcrumb navigation specifically\r\nexport const useBreadcrumb = () => {\r\n  const { breadcrumbs, getParentBreadcrumb, getRootBreadcrumb, pageTitle } = useNavigation();\r\n  \r\n  return {\r\n    breadcrumbs,\r\n    pageTitle,\r\n    parent: getParentBreadcrumb(),\r\n    root: getRootBreadcrumb(),\r\n    hasParent: breadcrumbs.length > 1,\r\n    depth: breadcrumbs.length\r\n  };\r\n};\r\n\r\n// Hook for checking route access\r\nexport const useRouteAccess = () => {\r\n  const { currentRole, hasPageAccess, checkAccess } = useNavigation();\r\n  \r\n  return {\r\n    currentRole,\r\n    hasPageAccess,\r\n    checkAccess,\r\n    canAccess: (pathname: string) => checkAccess(pathname)\r\n  };\r\n};\r\n","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}\r\n","import * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-[9999] bg-black/20 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 duration-200\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-[10000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}\r\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","// src/use-is-hydrated.tsx\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction useIsHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  useIsHydrated\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useIsHydrated } from \"@radix-ui/react-use-is-hydrated\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n","import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n","import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n","import * as React from \"react\"\r\n\r\nimport type {\r\n  ToastActionElement,\r\n  ToastProps,\r\n} from \"@/components/ui/toast\"\r\n\r\nconst TOAST_LIMIT = 1\r\nconst TOAST_REMOVE_DELAY = 1000000\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string\r\n  title?: React.ReactNode\r\n  description?: React.ReactNode\r\n  action?: ToastActionElement\r\n}\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const\r\n\r\nlet count = 0\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\r\n  return count.toString()\r\n}\r\n\r\ntype ActionType = typeof actionTypes\r\n\r\ntype Action =\r\n  | {\r\n      type: ActionType[\"ADD_TOAST\"]\r\n      toast: ToasterToast\r\n    }\r\n  | {\r\n      type: ActionType[\"UPDATE_TOAST\"]\r\n      toast: Partial<ToasterToast>\r\n    }\r\n  | {\r\n      type: ActionType[\"DISMISS_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n  | {\r\n      type: ActionType[\"REMOVE_TOAST\"]\r\n      toastId?: ToasterToast[\"id\"]\r\n    }\r\n\r\ninterface State {\r\n  toasts: ToasterToast[]\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId)\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    })\r\n  }, TOAST_REMOVE_DELAY)\r\n\r\n  toastTimeouts.set(toastId, timeout)\r\n}\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      }\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      }\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action\r\n\r\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\r\n      // but I'll keep it here for simplicity\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId)\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id)\r\n        })\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t\r\n        ),\r\n      }\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      }\r\n  }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = []\r\n\r\nlet memoryState: State = { toasts: [] }\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action)\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState)\r\n  })\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId()\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    })\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss()\r\n      },\r\n    },\r\n  })\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  }\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState)\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState)\r\n    return () => {\r\n      const index = listeners.indexOf(setState)\r\n      if (index > -1) {\r\n        listeners.splice(index, 1)\r\n      }\r\n    }\r\n  }, [state])\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  }\r\n}\r\n\r\nexport { useToast, toast }\r\n","\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useNavigation } from '@/hooks/useNavigation';\nimport { apiGet } from '@/lib/api';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { \n  Home, \n  FileText, \n  Settings, \n  LogOut, \n  Menu, \n  X,\n  AlertTriangle,\n  UserCheck,\n  Users,\n  UserX,\n  Loader2,\n  UserCog,\n  Upload,\n  CheckCircle,\n  Search,\n  ArrowLeft,\n  User,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\n\n\n\ninterface User {\n  id: string;\n  email: string;\n  full_name: string;\n  role: 'admin' | 'operator' | 'user';\n  office_id?: string;\n}\n\nconst NavigationBar = () => {\n  const { user, originalUser, isImpersonating, impersonateUser, stopImpersonating, logout, token, loading, isAdminKanwil } = useAuth();\n  const { toast } = useToast();\n  const location = useLocation();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n  const [showImpersonateModal, setShowImpersonateModal] = useState(false);\n  const [showStopImpersonateModal, setShowStopImpersonateModal] = useState(false);\n  const [showStopSuccessModal, setShowStopSuccessModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [availableUsers, setAvailableUsers] = useState<User[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [showUserSelectionModal, setShowUserSelectionModal] = useState(false);\n  const [userSearchTerm, setUserSearchTerm] = useState('');\n\n\n  // Get navigation items using new navigation system\n  const { navigationItems, isActivePath } = useNavigation();\n\n  // Fetch available users untuk impersonate\n  useEffect(() => {\n    if (showUserSelectionModal && isAdminKanwil) {\n      fetchAvailableUsers();\n    }\n  }, [showUserSelectionModal, isAdminKanwil]);\n\n  const fetchAvailableUsers = async () => {\n    if (!token) return;\n    \n    setLoadingUsers(true);\n    try {\n      console.log(' Fetching users for impersonation...');\n      const response = await apiGet('/api/users', token);\n      console.log(' Raw users response:', response);\n      \n      // Filter out current user dan admin lain\n      const filteredUsers = response.users.filter((u: User) => \n        u.id !== originalUser?.id && u.role !== 'admin'\n      );\n      console.log(' Filtered users:', filteredUsers);\n      setAvailableUsers(filteredUsers);\n    } catch (error) {\n      console.error(' Failed to fetch users:', error);\n      setAvailableUsers([]);\n    } finally {\n      setLoadingUsers(false);\n    }\n  };\n\n  // Use isActivePath from navigation hook instead\n\n  const handleLogoutClick = () => {\n    setShowLogoutModal(true);\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleLogoutConfirm = () => {\n    logout();\n    setShowLogoutModal(false);\n  };\n\n  const handleImpersonateClick = () => {\n    setShowUserSelectionModal(true); // Buka modal selection dulu\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleUserSelection = (userId: string) => {\n    setSelectedUser(userId);\n    setShowUserSelectionModal(false);\n    setShowImpersonateModal(true);\n  };\n\n  const filteredUsers = availableUsers.filter(user =>\n    user.full_name.toLowerCase().includes(userSearchTerm.toLowerCase()) ||\n    user.email.toLowerCase().includes(userSearchTerm.toLowerCase())\n  );\n\n  const handleImpersonateConfirm = async () => {\n    if (selectedUser) {\n      try {\n        await impersonateUser(selectedUser);\n        setShowImpersonateModal(false);\n        setSelectedUser('');\n      } catch (error) {\n        console.error('Failed to impersonate user:', error);\n        toast({\n          title: 'Error',\n          description: 'Gagal impersonate user. Coba lagi.',\n          variant: 'destructive',\n          duration: 3000\n        });\n      }\n    }\n  };\n\n  const handleStopImpersonatingClick = () => {\n    setShowStopImpersonateModal(true);\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleStopImpersonatingConfirm = async () => {\n    try {\n      await stopImpersonating();\n      setShowStopImpersonateModal(false);\n      setShowStopSuccessModal(true);\n      \n      // Auto close success modal after 3 seconds\n      setTimeout(() => {\n        setShowStopSuccessModal(false);\n      }, 3000);\n    } catch (error) {\n      console.error('Failed to stop impersonating:', error);\n      toast({\n        title: 'Error',\n        description: 'Gagal menghentikan impersonate. Coba lagi.',\n        variant: 'destructive',\n        duration: 3000\n      });\n    }\n  };\n\n  return (\n    <>\n      <nav className=\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo and Brand */}\n            <div className=\"flex items-center\">\n              <Link to=\"/dashboard\" className=\"flex items-center space-x-3\">\n                <img \n                  src=\"/FE/logo-kemenag.png\"\n                  alt=\"Kementerian Agama\" \n                  className=\"h-8 w-8\"\n                  onError={(e) => {\n                    console.error('Logo Kemenag not found');\n                    e.currentTarget.style.display = 'none';\n                  }}\n                />\n                <div className=\"hidden sm:block\">\n                  <h1 className=\"text-lg font-semibold text-green-700\">\n                    Si Imut\n                  </h1>\n                  <p className=\"text-xs text-gray-600\">\n                    Sistem Informasi Mutasi\n                  </p>\n                </div>\n              </Link>\n            </div>\n\n            {/* Impersonate Indicator */}\n            {isImpersonating && (\n              <div className=\"hidden md:flex items-center bg-blue-50 border border-blue-200 rounded-lg px-3 py-1\">\n                <UserCheck className=\"w-4 h-4 text-blue-600 mr-2\" />\n                <span className=\"text-sm text-blue-700\">\n                  Impersonating: {user?.full_name}\n                </span>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={handleStopImpersonatingClick}\n                  className=\"ml-2 h-6 px-2 text-blue-600 hover:text-blue-700\"\n                >\n                  <UserX className=\"w-3 h-3\" />\n                </Button>\n              </div>\n            )}\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden md:flex items-center space-x-8\">\n              {navigationItems.map((item) => {\n                const Icon = item.icon;\n                return (\n                  <Link\n                    key={item.name}\n                    to={item.href}\n                      className={cn(\n                        \"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n                        isActivePath(item.href)\n                          ? \"bg-green-100 text-green-700\"\n                          : \"text-gray-600 hover:text-green-700 hover:bg-green-50\"\n                    )}\n                  >\n                    <Icon className=\"h-4 w-4\" />\n                    <span>{item.name}</span>\n                  </Link>\n                );\n              })}\n              \n\n            </div>\n\n            {/* User Menu */}\n            <div className=\"flex items-center space-x-4\">\n              \n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarFallback className=\"bg-green-100 text-green-700\">\n                        {loading ? (\n                          <span className=\"animate-pulse w-6 h-6 block bg-green-200 rounded-full mx-auto\" />\n                        ) : user?.full_name ? (\n                          user.full_name.split(' ').map(n => n[0]).join('').toUpperCase()\n                        ) : (\n                          '?'\n                        )}\n                      </AvatarFallback>\n                    </Avatar>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent className=\"w-64\" align=\"end\">\n                  <DropdownMenuLabel className=\"font-normal\">\n                    <div className=\"flex flex-col space-y-1\">\n                      <p className=\"text-sm font-semibold leading-none\">{user?.full_name}</p>\n                      <p className=\"text-xs leading-none text-muted-foreground\">{user?.email}</p>\n                      {isAdminKanwil ? (\n                        <p className=\"text-xs leading-none text-blue-600 font-medium\">\n                           Admin Kanwil (All Access)\n                        </p>\n                      ) : (\n                        <p className=\"text-xs leading-none text-gray-500\">Role: {user?.role}</p>\n                      )}\n                      {user?.office_id && !isAdminKanwil && <p className=\"text-xs leading-none text-gray-500\">Office ID: {user.office_id}</p>}\n                      {isImpersonating && (\n                        <p className=\"text-xs leading-none text-blue-600\">\n                          Impersonating as {user?.full_name}\n                        </p>\n                      )}\n                    </div>\n                  </DropdownMenuLabel>\n                  \n                  {/* Session Status */}\n                  <DropdownMenuItem className=\"flex items-center justify-between py-2 cursor-default\">\n                    <div className=\"flex items-center gap-2 text-xs\">\n                      <div className=\"w-1.5 h-1.5 bg-green-500 rounded-full\"></div>\n                      <span className=\"text-gray-600\">Session Aktif</span>\n                    </div>\n                    <button \n                      className=\"text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-2 py-1 rounded transition-colors\"\n                      onClick={async (e) => {\n                        e.stopPropagation();\n                        try {\n                          const response = await fetch('/api/auth/refresh', {\n                            method: 'POST',\n                            credentials: 'include',\n                            headers: { 'Content-Type': 'application/json' }\n                          });\n                          if (response.ok) {\n                            const data = await response.json();\n                            if (data.token) {\n                              localStorage.setItem('token', data.token);\n                              if (window.dispatchTokenUpdate) {\n                                window.dispatchTokenUpdate(data.token);\n                              }\n                            }\n                          }\n                        } catch (error) {\n                          console.error('Refresh failed:', error);\n                        }\n                      }}\n                    >\n                      Refresh\n                    </button>\n                  </DropdownMenuItem>\n                  \n                  <DropdownMenuSeparator />\n                  {/* Stop Impersonating option */}\n                  {isImpersonating && (\n                    <>\n                      <DropdownMenuItem onClick={handleStopImpersonatingClick} className=\"text-blue-600\">\n                        <UserX className=\"mr-2 h-4 w-4\" />\n                        <span>Stop Impersonating</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                    </>\n                  )}\n                  {/* Impersonate option hanya untuk admin kanwil */}\n                  {isAdminKanwil && !isImpersonating && (\n                    <>\n                      <DropdownMenuItem onClick={handleImpersonateClick} className=\"text-blue-600\">\n                        <Users className=\"mr-2 h-4 w-4\" />\n                        <span>Impersonate User</span>\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                    </>\n                  )}\n                  <DropdownMenuItem onClick={handleLogoutClick} className=\"text-red-600\">\n                    <LogOut className=\"mr-2 h-4 w-4\" />\n                    <span>Logout</span>\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              {/* Mobile menu button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"md:hidden\"\n                onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n              >\n                {isMobileMenuOpen ? (\n                  <X className=\"h-5 w-5\" />\n                ) : (\n                  <Menu className=\"h-5 w-5\" />\n                )}\n              </Button>\n            </div>\n          </div>\n\n          {/* Mobile Navigation */}\n          {isMobileMenuOpen && (\n            <div className=\"md:hidden\">\n              <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t\">\n\n                \n                {navigationItems.map((item) => {\n                  const Icon = item.icon;\n                  return (\n                    <Link\n                      key={item.name}\n                      to={item.href}\n                      className={cn(\n                        \"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium\",\n                        isActivePath(item.href)\n                          ? \"bg-green-100 text-green-700\"\n                          : \"text-gray-600 hover:text-green-700 hover:bg-green-50\"\n                      )}\n                      onClick={() => setIsMobileMenuOpen(false)}\n                    >\n                      <Icon className=\"h-5 w-5\" />\n                      <span>{item.name}</span>\n                    </Link>\n                  );\n                })}\n                {/* Stop Impersonating option untuk mobile */}\n                {isImpersonating && (\n                  <button\n                    onClick={handleStopImpersonatingClick}\n                    className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 w-full\"\n                  >\n                    <UserX className=\"h-5 w-5\" />\n                    <span>Stop Impersonating</span>\n                  </button>\n                )}\n                {/* Impersonate option untuk mobile */}\n                {isAdminKanwil && !isImpersonating && (\n                  <button\n                    onClick={handleImpersonateClick}\n                    className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 w-full\"\n                  >\n                    <Users className=\"h-5 w-5\" />\n                    <span>Impersonate User</span>\n                  </button>\n                )}\n                <button\n                  onClick={handleLogoutClick}\n                  className=\"flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 w-full\"\n                >\n                  <LogOut className=\"h-5 w-5\" />\n                  <span>Logout</span>\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* Logout Confirmation Modal */}\n      <Dialog open={showLogoutModal} onOpenChange={setShowLogoutModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"w-5 h-5 text-orange-500\" />\n              Konfirmasi Logout\n            </DialogTitle>\n            <DialogDescription>\n              Apakah Anda yakin ingin keluar dari sistem? Anda perlu login kembali untuk mengakses aplikasi.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowLogoutModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleLogoutConfirm}\n              className=\"bg-red-600 hover:bg-red-700 text-white\"\n            >\n              Logout\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* User Selection Modal */}\n      <Dialog open={showUserSelectionModal} onOpenChange={setShowUserSelectionModal}>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserCheck className=\"w-5 h-5 text-blue-500\" />\n              Pilih User untuk Impersonate\n            </DialogTitle>\n            <DialogDescription>\n              Pilih user yang ingin Anda impersonate dari daftar di bawah ini.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {/* Search Input */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <Input\n                placeholder=\"Cari user...\"\n                value={userSearchTerm}\n                onChange={(e) => setUserSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n\n            {/* User List */}\n            <div className=\"max-h-96 overflow-y-auto border rounded-lg\">\n              {loadingUsers ? (\n                <div className=\"flex items-center justify-center py-8\">\n                  <Loader2 className=\"w-6 h-6 animate-spin mr-2 text-green-600\" />\n                  <span className=\"text-sm text-gray-500\">Loading users...</span>\n                </div>\n              ) : availableUsers.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">\n                  Tidak ada user yang tersedia untuk impersonation\n                </div>\n              ) : filteredUsers.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">\n                  Tidak ada user yang cocok dengan pencarian\n                </div>\n              ) : (\n                <div className=\"divide-y\">\n                  {filteredUsers.map((user) => (\n                    <div\n                      key={user.id}\n                      className=\"p-4 hover:bg-gray-50 cursor-pointer transition-colors\"\n                      onClick={() => handleUserSelection(user.id)}\n                    >\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\n                          <User className=\"w-4 h-4 text-blue-600\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"font-medium text-sm\">{user.full_name}</div>\n                          <div className=\"text-xs text-gray-500\">{user.email}</div>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {user.role}\n                            </Badge>\n                            <span className=\"text-xs text-gray-500\">\n                              {user.office_id || 'No Office'}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowUserSelectionModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Impersonate User Modal (Modified) */}\n      <Dialog open={showImpersonateModal} onOpenChange={setShowImpersonateModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserCheck className=\"w-5 h-5 text-blue-500\" />\n              Impersonate User\n            </DialogTitle>\n            <DialogDescription>\n              Konfirmasi untuk impersonate user yang dipilih.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {selectedUser && (\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <User className=\"w-4 h-4 text-blue-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    {(() => {\n                      const selectedUserData = availableUsers.find(u => u.id === selectedUser);\n                      return selectedUserData ? (\n                        <>\n                          <div className=\"font-medium text-sm\">{selectedUserData.full_name}</div>\n                          <div className=\"text-xs text-gray-500\">{selectedUserData.email}</div>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {selectedUserData.role}\n                            </Badge>\n                            <span className=\"text-xs text-gray-500\">\n                              {selectedUserData.office_id || 'No Office'}\n                            </span>\n                          </div>\n                        </>\n                      ) : (\n                        <div className=\"text-sm text-gray-500\">User tidak ditemukan</div>\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            <div className=\"flex items-center justify-center\">\n              <Button \n                onClick={() => {\n                  setShowImpersonateModal(false);\n                  setShowUserSelectionModal(true);\n                }}\n                variant=\"outline\"\n                className=\"w-full\"\n              >\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Pilih User Lain\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowImpersonateModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleImpersonateConfirm}\n              disabled={!selectedUser}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n            >\n              Impersonate\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Stop Impersonate Confirmation Modal */}\n      <Dialog open={showStopImpersonateModal} onOpenChange={setShowStopImpersonateModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <UserX className=\"w-5 h-5 text-blue-500\" />\n              Stop Impersonating\n            </DialogTitle>\n            <DialogDescription>\n              Anda sedang mengakses sistem sebagai <strong>{user?.full_name}</strong>. \n              Apakah Anda yakin ingin kembali ke akun admin Anda?\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 my-4\">\n            <div className=\"flex items-center\">\n              <UserCheck className=\"w-4 h-4 text-blue-600 mr-2\" />\n              <span className=\"text-sm text-blue-700\">\n                Setelah stop impersonate, Anda akan kembali ke akun: <strong>{originalUser?.full_name}</strong>\n              </span>\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2\">\n            <Button \n              onClick={() => setShowStopImpersonateModal(false)}\n              variant=\"outline\"\n            >\n              Batal\n            </Button>\n            <Button \n              onClick={handleStopImpersonatingConfirm}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n            >\n              Ya, Stop Impersonating\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Stop Impersonate Success Modal */}\n      <Dialog open={showStopSuccessModal} onOpenChange={setShowStopSuccessModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-5 h-5 text-green-500\" />\n              Stop Impersonating Berhasil\n            </DialogTitle>\n            <DialogDescription>\n              Anda telah berhasil kembali ke akun admin Anda.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-3 my-4\">\n            <div className=\"flex items-center\">\n              <UserCheck className=\"w-4 h-4 text-green-600 mr-2\" />\n              <span className=\"text-sm text-green-700\">\n                Sekarang Anda mengakses sistem sebagai: <strong>{user?.full_name}</strong>\n              </span>\n            </div>\n          </div>\n          <div className=\"flex justify-end\">\n            <Button \n              onClick={() => setShowStopSuccessModal(false)}\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\n            >\n              OK\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default NavigationBar;\n","import { cn } from \"@/lib/utils\"\r\n\r\nfunction Skeleton({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[99999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-bottom-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","import { useToast } from \"@/hooks/use-toast\"\r\nimport {\r\n  Toast,\r\n  ToastClose,\r\n  ToastDescription,\r\n  ToastProvider,\r\n  ToastTitle,\r\n  ToastViewport,\r\n} from \"@/components/ui/toast\"\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast()\r\n\r\n  return (\r\n    <ToastProvider>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast key={id} {...props}>\r\n            <div className=\"grid gap-1\">\r\n              {title && <ToastTitle>{title}</ToastTitle>}\r\n              {description && (\r\n                <ToastDescription>{description}</ToastDescription>\r\n              )}\r\n            </div>\r\n            {action}\r\n            <ToastClose />\r\n          </Toast>\r\n        )\r\n      })}\r\n      <ToastViewport />\r\n    </ToastProvider>\r\n  )\r\n}\r\n","\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport NavigationBar from './NavigationBar';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';\r\nimport { Select, SelectTrigger, SelectContent, SelectItem, SelectValue } from '@/components/ui/select';\r\nimport { apiGet, apiPut } from '@/lib/api';\r\nimport { Button } from './ui/button';\r\nimport { Toaster } from '@/components/ui/toaster';\r\n\r\ninterface AppLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AppLayout: React.FC<AppLayoutProps> = ({ children }) => {\r\n  const { user, token, refreshUser } = useAuth();\r\n  const [showOfficeModal, setShowOfficeModal] = useState(false);\r\n  const [offices, setOffices] = useState<any[]>([]);\r\n  const [selectedOffice, setSelectedOffice] = useState<string>('');\r\n  const [saving, setSaving] = useState(false);\r\n  const [notif, setNotif] = useState<{ success: boolean; message: string } | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (user && !user.office_id) {\r\n      setShowOfficeModal(true);\r\n      if (token) {\r\n        apiGet('/api/offices', token).then(res => setOffices(res.offices || []));\r\n      }\r\n    } else {\r\n      setShowOfficeModal(false);\r\n    }\r\n  }, [user, token]);\r\n\r\n  const handleSaveOffice = async () => {\r\n    if (!selectedOffice || !user || !token) return;\r\n    setSaving(true);\r\n    try {\r\n      await apiPut(`/api/users/${user.id}/office`, { office_id: selectedOffice }, token);\r\n      await refreshUser();\r\n      setNotif({ success: true, message: 'Kantor berhasil dipilih dan terhubung ke akun Anda.' });\r\n      setShowOfficeModal(false);\r\n    } catch (err: any) {\r\n      setNotif({ success: false, message: 'Gagal menghubungkan kantor: ' + (err.message || 'Terjadi kesalahan.') });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (!user && token) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"h-16 bg-white border-b border-gray-200\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex justify-between items-center h-16\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <Skeleton className=\"h-8 w-8 rounded\" />\r\n                <div className=\"space-y-1\">\r\n                  <Skeleton className=\"h-4 w-32\" />\r\n                  <Skeleton className=\"h-3 w-24\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-4\">\r\n                <Skeleton className=\"h-8 w-8 rounded-full\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          <div className=\"space-y-4\">\r\n            <Skeleton className=\"h-8 w-48\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n          </div>\r\n        </div>\r\n        <Toaster />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <NavigationBar />\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {children}\r\n      </main>\r\n      <Toaster />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppLayout;\r\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    // Check if error is related to 403 Forbidden\r\n    if (error.message.includes('403') || error.message.includes('Forbidden')) {\r\n      // Show session expired modal instead of error boundary\r\n      if (window.showSessionExpiredModal) {\r\n        window.showSessionExpiredModal();\r\n      }\r\n      return { hasError: false };\r\n    }\r\n    \r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    // If it's a 403 error, show session expired modal\r\n    if (error.message.includes('403') || error.message.includes('Forbidden')) {\r\n      if (window.showSessionExpiredModal) {\r\n        window.showSessionExpiredModal();\r\n      }\r\n      return;\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n          <div className=\"max-w-md w-full bg-white shadow-lg rounded-lg p-6\">\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\r\n                <svg className=\"h-6 w-6 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Terjadi Kesalahan</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500\">\r\n                Maaf, terjadi kesalahan yang tidak terduga. Silakan coba refresh halaman atau hubungi administrator.\r\n              </p>\r\n              <div className=\"mt-6\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\r\n                  onClick={() => window.location.reload()}\r\n                >\r\n                  Refresh Halaman\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-gray-200\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-green-600 transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","// Standardized error and success messages for the application\r\nexport const ERROR_MESSAGES = {\r\n  // Network & Connection\r\n  NETWORK_ERROR: {\r\n    title: 'Koneksi Bermasalah',\r\n    description: 'Tidak dapat terhubung ke server. Periksa koneksi internet Anda dan coba lagi.'\r\n  },\r\n  CONNECTION_TIMEOUT: {\r\n    title: 'Koneksi Timeout',\r\n    description: 'Koneksi ke server memakan waktu terlalu lama. Silakan coba lagi.'\r\n  },\r\n  \r\n  // Authentication & Authorization\r\n  SESSION_EXPIRED: {\r\n    title: 'Sesi Berakhir',\r\n    description: 'Sesi Anda telah berakhir. Silakan login kembali.'\r\n  },\r\n  SESSION_REFRESH_FAILED: {\r\n    title: 'Gagal Memperpanjang Session',\r\n    description: 'Tidak dapat memperpanjang session. Silakan login kembali.'\r\n  },\r\n  SESSION_EXPIRING_WARNING: {\r\n    title: 'Session Akan Berakhir',\r\n    description: 'Session Anda akan berakhir dalam beberapa menit. Perpanjang session untuk melanjutkan.'\r\n  },\r\n  ACCESS_DENIED: {\r\n    title: 'Akses Ditolak',\r\n    description: 'Anda tidak memiliki izin untuk melakukan tindakan ini.'\r\n  },\r\n  INVALID_CREDENTIALS: {\r\n    title: 'Login Gagal',\r\n    description: 'Username atau password salah. Periksa kembali dan coba lagi.'\r\n  },\r\n  \r\n  // Validation Errors\r\n  VALIDATION_ERROR: {\r\n    title: 'Data Tidak Valid',\r\n    description: 'Data yang Anda masukkan tidak sesuai. Periksa kembali dan coba lagi.'\r\n  },\r\n  REQUIRED_FIELD: {\r\n    title: 'Field Wajib',\r\n    description: 'Field ini wajib diisi.'\r\n  },\r\n  INVALID_FORMAT: {\r\n    title: 'Format Tidak Valid',\r\n    description: 'Format data tidak sesuai dengan yang diharapkan.'\r\n  },\r\n  FILE_TOO_LARGE: {\r\n    title: 'File Terlalu Besar',\r\n    description: 'Ukuran file melebihi batas maksimum yang diizinkan.'\r\n  },\r\n  INVALID_FILE_TYPE: {\r\n    title: 'Tipe File Tidak Valid',\r\n    description: 'Tipe file tidak diizinkan. Gunakan format yang sesuai.'\r\n  },\r\n  \r\n  // Server Errors\r\n  SERVER_ERROR: {\r\n    title: 'Server Bermasalah',\r\n    description: 'Terjadi kesalahan pada server. Silakan coba lagi nanti.'\r\n  },\r\n  INTERNAL_ERROR: {\r\n    title: 'Kesalahan Internal',\r\n    description: 'Terjadi kesalahan internal. Silakan hubungi administrator.'\r\n  },\r\n  SERVICE_UNAVAILABLE: {\r\n    title: 'Layanan Tidak Tersedia',\r\n    description: 'Layanan sedang tidak tersedia. Silakan coba lagi nanti.'\r\n  },\r\n  \r\n  // Data Operations\r\n  SAVE_FAILED: {\r\n    title: 'Gagal Menyimpan',\r\n    description: 'Data tidak dapat disimpan. Periksa data dan coba lagi.'\r\n  },\r\n  UPDATE_FAILED: {\r\n    title: 'Gagal Memperbarui',\r\n    description: 'Data tidak dapat diperbarui. Periksa data dan coba lagi.'\r\n  },\r\n  DELETE_FAILED: {\r\n    title: 'Gagal Menghapus',\r\n    description: 'Data tidak dapat dihapus. Periksa data dan coba lagi.'\r\n  },\r\n  FETCH_FAILED: {\r\n    title: 'Gagal Mengambil Data',\r\n    description: 'Data tidak dapat diambil dari server. Silakan coba lagi.'\r\n  },\r\n  \r\n  // File Operations\r\n  UPLOAD_FAILED: {\r\n    title: 'Gagal Upload',\r\n    description: 'File tidak dapat diupload. Periksa file dan coba lagi.'\r\n  },\r\n  DOWNLOAD_FAILED: {\r\n    title: 'Gagal Download',\r\n    description: 'File tidak dapat diunduh. Silakan coba lagi.'\r\n  },\r\n  GENERATE_PDF_FAILED: {\r\n    title: 'Gagal Generate PDF',\r\n    description: 'PDF tidak dapat dibuat. Silakan coba lagi.'\r\n  },\r\n  \r\n  // Business Logic\r\n  DUPLICATE_DATA: {\r\n    title: 'Data Duplikat',\r\n    description: 'Data yang sama sudah ada. Gunakan data yang berbeda.'\r\n  },\r\n  INVALID_OPERATION: {\r\n    title: 'Operasi Tidak Valid',\r\n    description: 'Operasi yang diminta tidak dapat dilakukan.'\r\n  },\r\n  DEPENDENCY_ERROR: {\r\n    title: 'Dependency Error',\r\n    description: 'Operasi tidak dapat dilakukan karena ada dependency yang belum terpenuhi.'\r\n  },\r\n  \r\n  // Generic\r\n  UNKNOWN_ERROR: {\r\n    title: 'Terjadi Kesalahan',\r\n    description: 'Terjadi kesalahan yang tidak terduga. Silakan coba lagi.'\r\n  },\r\n  OPERATION_FAILED: {\r\n    title: 'Operasi Gagal',\r\n    description: 'Operasi tidak dapat diselesaikan. Silakan coba lagi.'\r\n  }\r\n} as const;\r\n\r\nexport const SUCCESS_MESSAGES = {\r\n  // Session Management\r\n  SESSION_REFRESHED: {\r\n    title: 'Session Diperpanjang',\r\n    description: 'Session berhasil diperpanjang.'\r\n  },\r\n  LOGIN_SUCCESS: {\r\n    title: 'Login Berhasil',\r\n    description: 'Anda berhasil login ke sistem.'\r\n  },\r\n  LOGOUT_SUCCESS: {\r\n    title: 'Logout Berhasil',\r\n    description: 'Anda berhasil logout dari sistem.'\r\n  },\r\n  \r\n  // Data Operations\r\n  SAVE_SUCCESS: {\r\n    title: 'Berhasil Disimpan',\r\n    description: 'Data berhasil disimpan.'\r\n  },\r\n  UPDATE_SUCCESS: {\r\n    title: 'Berhasil Diperbarui',\r\n    description: 'Data berhasil diperbarui.'\r\n  },\r\n  DELETE_SUCCESS: {\r\n    title: 'Berhasil Dihapus',\r\n    description: 'Data berhasil dihapus.'\r\n  },\r\n  \r\n  // File Operations\r\n  UPLOAD_SUCCESS: {\r\n    title: 'Upload Berhasil',\r\n    description: 'File berhasil diupload.'\r\n  },\r\n  DOWNLOAD_SUCCESS: {\r\n    title: 'Download Berhasil',\r\n    description: 'File berhasil diunduh.'\r\n  },\r\n  GENERATE_PDF_SUCCESS: {\r\n    title: 'PDF Berhasil Dibuat',\r\n    description: 'PDF berhasil dibuat dan siap diunduh.'\r\n  },\r\n  \r\n  // Authentication (duplicate removed - already defined above)\r\n  \r\n  // Business Operations\r\n  APPROVE_SUCCESS: {\r\n    title: 'Berhasil Disetujui',\r\n    description: 'Data berhasil disetujui.'\r\n  },\r\n  REJECT_SUCCESS: {\r\n    title: 'Berhasil Ditolak',\r\n    description: 'Data berhasil ditolak.'\r\n  },\r\n  SUBMIT_SUCCESS: {\r\n    title: 'Berhasil Dikirim',\r\n    description: 'Data berhasil dikirim.'\r\n  },\r\n  \r\n  // Generic\r\n  OPERATION_SUCCESS: {\r\n    title: 'Operasi Berhasil',\r\n    description: 'Operasi berhasil diselesaikan.'\r\n  }\r\n} as const;\r\n\r\n// Validation error messages\r\nexport const VALIDATION_MESSAGES = {\r\n  REQUIRED: 'Field ini wajib diisi',\r\n  EMAIL: 'Format email tidak valid',\r\n  PHONE: 'Format nomor telepon tidak valid',\r\n  NIP: 'Format NIP tidak valid (18 digit)',\r\n  MIN_LENGTH: (min: number) => `Minimal ${min} karakter`,\r\n  MAX_LENGTH: (max: number) => `Maksimal ${max} karakter`,\r\n  MIN_VALUE: (min: number) => `Nilai minimal ${min}`,\r\n  MAX_VALUE: (max: number) => `Nilai maksimal ${max}`,\r\n  PATTERN: 'Format tidak sesuai dengan yang diharapkan',\r\n  UNIQUE: 'Data sudah ada, gunakan data yang berbeda',\r\n  DATE: 'Format tanggal tidak valid',\r\n  FILE_SIZE: (maxSize: string) => `Ukuran file maksimal ${maxSize}`,\r\n  FILE_TYPE: (allowedTypes: string[]) => `Tipe file yang diizinkan: ${allowedTypes.join(', ')}`\r\n} as const;\r\n\r\n// Toast message templates\r\nexport const TOAST_MESSAGES = {\r\n  // Success templates\r\n  SUCCESS: (action: string) => ({\r\n    title: 'Berhasil',\r\n    description: `${action} berhasil dilakukan.`\r\n  }),\r\n  \r\n  // Error templates\r\n  ERROR: (action: string) => ({\r\n    title: 'Gagal',\r\n    description: `Gagal ${action}. Silakan coba lagi.`\r\n  }),\r\n  \r\n  // Info templates\r\n  INFO: (message: string) => ({\r\n    title: 'Informasi',\r\n    description: message\r\n  }),\r\n  \r\n  // Warning templates\r\n  WARNING: (message: string) => ({\r\n    title: 'Peringatan',\r\n    description: message\r\n  })\r\n} as const;\r\n\r\n// Message formatters\r\nexport const formatMessage = {\r\n  success: (action: string) => TOAST_MESSAGES.SUCCESS(action),\r\n  error: (action: string) => TOAST_MESSAGES.ERROR(action),\r\n  info: (message: string) => TOAST_MESSAGES.INFO(message),\r\n  warning: (message: string) => TOAST_MESSAGES.WARNING(message)\r\n};\r\n\r\n  // Common action messages\r\nexport const ACTION_MESSAGES = {\r\n  SAVE: 'Menyimpan',\r\n  UPDATE: 'Memperbarui',\r\n  DELETE: 'Menghapus',\r\n  UPLOAD: 'Mengupload',\r\n  DOWNLOAD: 'Mengunduh',\r\n  GENERATE: 'Membuat',\r\n  APPROVE: 'Menyetujui',\r\n  REJECT: 'Menolak',\r\n  REFRESH_SESSION: 'Memperpanjang Session',\r\n  SUBMIT: 'Mengirim',\r\n  LOAD: 'Memuat',\r\n  PROCESS: 'Memproses'\r\n} as const;\r\n","import { toast } from '@/hooks/use-toast';\r\nimport { ERROR_MESSAGES, SUCCESS_MESSAGES, TOAST_MESSAGES, formatMessage, ACTION_MESSAGES } from '@/constants/messages';\r\n\r\n// Message types\r\nexport type MessageType = 'success' | 'error' | 'info' | 'warning';\r\nexport type ErrorType = keyof typeof ERROR_MESSAGES;\r\nexport type SuccessType = keyof typeof SUCCESS_MESSAGES;\r\n\r\n// Toast options\r\ninterface ToastOptions {\r\n  variant?: 'default' | 'destructive';\r\n  duration?: number;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n}\r\n\r\n// Standardized message handler\r\nexport class MessageHandler {\r\n  // Show success message\r\n  static success(type: SuccessType, customMessage?: string, options?: ToastOptions) {\r\n    const message = SUCCESS_MESSAGES[type];\r\n    const title = message.title;\r\n    const description = customMessage || message.description;\r\n    \r\n    toast({\r\n      title,\r\n      description,\r\n      variant: 'default',\r\n      duration: options?.duration || 3000,\r\n      action: options?.action\r\n    });\r\n  }\r\n  \r\n  // Show error message\r\n  static error(type: ErrorType, customMessage?: string, options?: ToastOptions) {\r\n    const message = ERROR_MESSAGES[type];\r\n    const title = message.title;\r\n    const description = customMessage || message.description;\r\n    \r\n    toast({\r\n      title,\r\n      description,\r\n      variant: 'destructive',\r\n      duration: options?.duration || 5000,\r\n      action: options?.action\r\n    });\r\n  }\r\n  \r\n  // Show info message\r\n  static info(message: string, options?: ToastOptions) {\r\n    toast({\r\n      title: 'Informasi',\r\n      description: message,\r\n      variant: 'default',\r\n      duration: options?.duration || 3000,\r\n      action: options?.action\r\n    });\r\n  }\r\n  \r\n  // Show warning message\r\n  static warning(message: string, options?: ToastOptions) {\r\n    toast({\r\n      title: 'Peringatan',\r\n      description: message,\r\n      variant: 'default',\r\n      duration: options?.duration || 4000,\r\n      action: options?.action\r\n    });\r\n  }\r\n  \r\n  // Show custom message\r\n  static custom(type: MessageType, title: string, description: string, options?: ToastOptions) {\r\n    toast({\r\n      title,\r\n      description,\r\n      variant: type === 'error' ? 'destructive' : 'default',\r\n      duration: options?.duration || (type === 'error' ? 5000 : 3000),\r\n      action: options?.action\r\n    });\r\n  }\r\n  \r\n  // Show action result message\r\n  static actionResult(action: keyof typeof ACTION_MESSAGES, success: boolean, customMessage?: string) {\r\n    if (success) {\r\n      this.success('OPERATION_SUCCESS', customMessage || `${ACTION_MESSAGES[action]} berhasil dilakukan.`);\r\n    } else {\r\n      this.error('OPERATION_FAILED', customMessage || `Gagal ${ACTION_MESSAGES[action].toLowerCase()}.`);\r\n    }\r\n  }\r\n  \r\n  // Show loading message\r\n  static loading(action: keyof typeof ACTION_MESSAGES) {\r\n    toast({\r\n      title: ACTION_MESSAGES[action],\r\n      description: 'Mohon tunggu...',\r\n      variant: 'default',\r\n      duration: 2000\r\n    });\r\n  }\r\n}\r\n\r\n// Convenience functions\r\nexport const showSuccess = (type: SuccessType, customMessage?: string, options?: ToastOptions) => \r\n  MessageHandler.success(type, customMessage, options);\r\n\r\nexport const showError = (type: ErrorType, customMessage?: string, options?: ToastOptions) => \r\n  MessageHandler.error(type, customMessage, options);\r\n\r\nexport const showInfo = (message: string, options?: ToastOptions) => \r\n  MessageHandler.info(message, options);\r\n\r\nexport const showWarning = (message: string, options?: ToastOptions) => \r\n  MessageHandler.warning(message, options);\r\n\r\nexport const showActionResult = (action: keyof typeof ACTION_MESSAGES, success: boolean, customMessage?: string) => \r\n  MessageHandler.actionResult(action, success, customMessage);\r\n\r\n// Error message extractor\r\nexport const extractErrorMessage = (error: any): string => {\r\n  // Priority order: custom message > API message > default message\r\n  if (error.userMessage) return error.userMessage;\r\n  if (error.message) return error.message;\r\n  if (error.response?.data?.message) return error.response.data.message;\r\n  if (error.response?.data?.error) return error.response.data.error;\r\n  \r\n  return 'Terjadi kesalahan yang tidak terduga';\r\n};\r\n\r\n// Error type detector\r\nexport const detectErrorType = (error: any): ErrorType => {\r\n  const message = extractErrorMessage(error).toLowerCase();\r\n  \r\n  // Network errors\r\n  if (message.includes('network') || message.includes('connection') || message.includes('timeout')) {\r\n    return 'NETWORK_ERROR';\r\n  }\r\n  \r\n  // Authentication errors\r\n  if (message.includes('unauthorized') || message.includes('session') || message.includes('login')) {\r\n    return 'SESSION_EXPIRED';\r\n  }\r\n  \r\n  // Authorization errors\r\n  if (message.includes('forbidden') || message.includes('access') || message.includes('permission')) {\r\n    return 'ACCESS_DENIED';\r\n  }\r\n  \r\n  // Validation errors\r\n  if (message.includes('validation') || message.includes('invalid') || message.includes('required')) {\r\n    return 'VALIDATION_ERROR';\r\n  }\r\n  \r\n  // File errors\r\n  if (message.includes('file') || message.includes('upload') || message.includes('download')) {\r\n    return 'UPLOAD_FAILED';\r\n  }\r\n  \r\n  // Server errors\r\n  if (message.includes('server') || message.includes('internal') || message.includes('500')) {\r\n    return 'SERVER_ERROR';\r\n  }\r\n  \r\n  return 'UNKNOWN_ERROR';\r\n};\r\n\r\n// Smart error handler\r\nexport const handleSmartError = (error: any, customMessage?: string, options?: ToastOptions) => {\r\n  const errorType = detectErrorType(error);\r\n  const message = customMessage || extractErrorMessage(error);\r\n  \r\n  MessageHandler.error(errorType, message, options);\r\n  \r\n  return {\r\n    type: errorType,\r\n    message,\r\n    originalError: error\r\n  };\r\n};\r\n\r\n// Success message shortcuts\r\nexport const showSaveSuccess = (customMessage?: string) => \r\n  showSuccess('SAVE_SUCCESS', customMessage);\r\n\r\nexport const showUpdateSuccess = (customMessage?: string) => \r\n  showSuccess('UPDATE_SUCCESS', customMessage);\r\n\r\nexport const showDeleteSuccess = (customMessage?: string) => \r\n  showSuccess('DELETE_SUCCESS', customMessage);\r\n\r\nexport const showUploadSuccess = (customMessage?: string) => \r\n  showSuccess('UPLOAD_SUCCESS', customMessage);\r\n\r\nexport const showDownloadSuccess = (customMessage?: string) => \r\n  showSuccess('DOWNLOAD_SUCCESS', customMessage);\r\n\r\nexport const showGenerateSuccess = (customMessage?: string) => \r\n  showSuccess('GENERATE_PDF_SUCCESS', customMessage);\r\n\r\n// Error message shortcuts\r\nexport const showSaveError = (customMessage?: string) => \r\n  showError('SAVE_FAILED', customMessage);\r\n\r\nexport const showUpdateError = (customMessage?: string) => \r\n  showError('UPDATE_FAILED', customMessage);\r\n\r\nexport const showDeleteError = (customMessage?: string) => \r\n  showError('DELETE_FAILED', customMessage);\r\n\r\nexport const showUploadError = (customMessage?: string) => \r\n  showError('UPLOAD_FAILED', customMessage);\r\n\r\nexport const showDownloadError = (customMessage?: string) => \r\n  showError('DOWNLOAD_FAILED', customMessage);\r\n\r\nexport const showGenerateError = (customMessage?: string) => \r\n  showError('GENERATE_PDF_FAILED', customMessage);\r\n\r\nexport const showNetworkError = (customMessage?: string) => \r\n  showError('NETWORK_ERROR', customMessage);\r\n\r\nexport const showSessionError = (customMessage?: string) => \r\n  showError('SESSION_EXPIRED', customMessage);\r\n\r\nexport const showSessionRefreshFailed = (customMessage?: string) => \r\n  showError('SESSION_REFRESH_FAILED', customMessage);\r\n\r\nexport const showSessionExpiringWarning = (customMessage?: string) => \r\n  showWarning(customMessage || ERROR_MESSAGES.SESSION_EXPIRING_WARNING.description);\r\n\r\nexport const showSessionRefreshed = (customMessage?: string) => \r\n  showSuccess('SESSION_REFRESHED', customMessage);\r\n\r\nexport const showAccessError = (customMessage?: string) => \r\n  showError('ACCESS_DENIED', customMessage);\r\n\r\nexport const showValidationError = (customMessage?: string) => \r\n  showError('VALIDATION_ERROR', customMessage);\r\n\r\nexport const showServerError = (customMessage?: string) => \r\n  showError('SERVER_ERROR', customMessage);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { \r\n  Lock, \r\n  Clock, \r\n  RefreshCw, \r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Loader2,\r\n  User,\r\n  LogOut\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { showSuccess, showError, showWarning } from '@/lib/messageUtils';\r\n\r\ninterface SessionManagerProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\ninterface SessionState {\r\n  isExpired: boolean;\r\n  isRefreshing: boolean;\r\n  refreshAttempts: number;\r\n  lastRefreshTime?: Date;\r\n  expiryWarning?: Date;\r\n  countdown?: number;\r\n}\r\n\r\nexport const SessionManager: React.FC<SessionManagerProps> = ({ children }) => {\r\n  const [sessionState, setSessionState] = useState<SessionState>({\r\n    isExpired: false,\r\n    isRefreshing: false,\r\n    refreshAttempts: 0\r\n  });\r\n  \r\n  const [showSessionModal, setShowSessionModal] = useState(false);\r\n  const [showExpiryWarning, setShowExpiryWarning] = useState(false);\r\n  const [countdown, setCountdown] = useState<number>(0);\r\n  \r\n  const { token, user, logout, refreshUser } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Session expiry warning (5 minutes before expiry)\r\n  const SESSION_WARNING_TIME = 5 * 60 * 1000; // 5 minutes\r\n  const MAX_REFRESH_ATTEMPTS = 3;\r\n  const COUNTDOWN_DURATION = 30; // 30 seconds\r\n\r\n  // Parse JWT token to get expiry time\r\n  const getTokenExpiry = useCallback((token: string): Date | null => {\r\n    try {\r\n      const payload = JSON.parse(atob(token.split('.')[1]));\r\n      return new Date(payload.exp * 1000);\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  // Check if token is expiring soon\r\n  const checkTokenExpiry = useCallback(() => {\r\n    if (!token) return;\r\n\r\n    const expiry = getTokenExpiry(token);\r\n    if (!expiry) return;\r\n\r\n    const now = new Date();\r\n    const timeUntilExpiry = expiry.getTime() - now.getTime();\r\n\r\n    if (timeUntilExpiry <= 0) {\r\n      // Token already expired\r\n      setSessionState(prev => ({ ...prev, isExpired: true }));\r\n      setShowSessionModal(true);\r\n    } else if (timeUntilExpiry <= SESSION_WARNING_TIME) {\r\n      // Token expiring soon\r\n      setShowExpiryWarning(true);\r\n      setCountdown(Math.floor(timeUntilExpiry / 1000));\r\n    }\r\n  }, [token, getTokenExpiry]);\r\n\r\n  // Auto-refresh token\r\n  const refreshToken = useCallback(async (): Promise<boolean> => {\r\n    if (sessionState.isRefreshing || sessionState.refreshAttempts >= MAX_REFRESH_ATTEMPTS) {\r\n      return false;\r\n    }\r\n\r\n    setSessionState(prev => ({ \r\n      ...prev, \r\n      isRefreshing: true,\r\n      refreshAttempts: prev.refreshAttempts + 1\r\n    }));\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/refresh', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n          \r\n          // Update AuthContext\r\n          if (window.dispatchTokenUpdate) {\r\n            window.dispatchTokenUpdate(data.token);\r\n          }\r\n\r\n          setSessionState(prev => ({\r\n            ...prev,\r\n            isExpired: false,\r\n            isRefreshing: false,\r\n            lastRefreshTime: new Date(),\r\n            refreshAttempts: 0\r\n          }));\r\n\r\n          setShowExpiryWarning(false);\r\n          showSuccess('SESSION_REFRESHED', 'Session berhasil diperpanjang');\r\n          return true;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n    }\r\n\r\n    setSessionState(prev => ({ \r\n      ...prev, \r\n      isRefreshing: false \r\n    }));\r\n\r\n    return false;\r\n  }, [sessionState.isRefreshing, sessionState.refreshAttempts]);\r\n\r\n  // Handle session expiry\r\n  const handleSessionExpired = useCallback(() => {\r\n    setSessionState(prev => ({ ...prev, isExpired: true }));\r\n    setShowSessionModal(true);\r\n    setShowExpiryWarning(false);\r\n  }, []);\r\n\r\n  // Handle logout\r\n  const handleLogout = useCallback(async () => {\r\n    try {\r\n      logout();\r\n      setShowSessionModal(false);\r\n      setShowExpiryWarning(false);\r\n      navigate('/', { replace: true });\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      // Force logout even if there's an error\r\n      localStorage.removeItem('token');\r\n      window.location.assign('/');\r\n    }\r\n  }, [logout, navigate]);\r\n\r\n  // Handle refresh\r\n  const handleRefresh = useCallback(async () => {\r\n    const success = await refreshToken();\r\n    if (!success) {\r\n      showError('SESSION_REFRESH_FAILED', 'Gagal memperpanjang session');\r\n    }\r\n  }, [refreshToken]);\r\n\r\n  // Auto-refresh before expiry\r\n  useEffect(() => {\r\n    if (!token || showExpiryWarning) return;\r\n\r\n    const interval = setInterval(checkTokenExpiry, 30000); // Check every 30 seconds\r\n    return () => clearInterval(interval);\r\n  }, [token, checkTokenExpiry, showExpiryWarning]);\r\n\r\n  // Countdown timer\r\n  useEffect(() => {\r\n    if (!showExpiryWarning || countdown <= 0) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setCountdown(prev => {\r\n        if (prev <= 1) {\r\n          handleSessionExpired();\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [showExpiryWarning, countdown, handleSessionExpired]);\r\n\r\n  // Setup global session handlers\r\n  useEffect(() => {\r\n    // Override global session expired handler\r\n    window.showSessionExpiredModal = handleSessionExpired;\r\n    \r\n    // Setup token update handler\r\n    window.dispatchTokenUpdate = (newToken: string) => {\r\n      localStorage.setItem('token', newToken);\r\n      setSessionState(prev => ({ ...prev, lastRefreshTime: new Date() }));\r\n    };\r\n\r\n    return () => {\r\n      delete window.showSessionExpiredModal;\r\n      delete window.dispatchTokenUpdate;\r\n    };\r\n  }, [handleSessionExpired]);\r\n\r\n  // Format countdown\r\n  const formatCountdown = (seconds: number): string => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {children}\r\n\r\n      {/* Session Expiry Warning Modal */}\r\n      <Dialog open={showExpiryWarning} onOpenChange={setShowExpiryWarning}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />\r\n              Session Akan Berakhir\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Session Anda akan berakhir dalam beberapa saat. Perpanjang session untuk melanjutkan bekerja.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {/* Countdown */}\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-red-600 mb-2\">\r\n                {formatCountdown(countdown)}\r\n              </div>\r\n              <Progress value={(countdown / (SESSION_WARNING_TIME / 1000)) * 100} className=\"h-2\" />\r\n            </div>\r\n\r\n            {/* User info */}\r\n            {user && (\r\n              <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\r\n                <User className=\"h-8 w-8 text-gray-600\" />\r\n                <div>\r\n                  <div className=\"font-medium\">{user.full_name}</div>\r\n                  <div className=\"text-sm text-gray-600\">{user.role}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-2\">\r\n              <Button \r\n                onClick={handleRefresh}\r\n                disabled={sessionState.isRefreshing}\r\n                className=\"flex-1\"\r\n              >\r\n                {sessionState.isRefreshing ? (\r\n                  <>\r\n                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin text-green-600\" />\r\n                    Memperpanjang...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                    Perpanjang Session\r\n                  </>\r\n                )}\r\n              </Button>\r\n              \r\n              <Button \r\n                variant=\"outline\" \r\n                onClick={handleLogout}\r\n                className=\"flex-1\"\r\n              >\r\n                <LogOut className=\"h-4 w-4 mr-2\" />\r\n                Logout\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Session Expired Modal */}\r\n      <Dialog open={showSessionModal} onOpenChange={() => {}}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Lock className=\"h-5 w-5 text-red-500\" />\r\n              Session Berakhir\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Session Anda telah berakhir. Silakan login kembali untuk melanjutkan.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {/* Session info */}\r\n            <div className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Clock className=\"h-4 w-4 text-red-500\" />\r\n                <span className=\"text-sm font-medium text-red-700\">Session Berakhir</span>\r\n              </div>\r\n              {sessionState.lastRefreshTime && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  Terakhir refresh: {sessionState.lastRefreshTime.toLocaleTimeString('id-ID')}\r\n                </Badge>\r\n              )}\r\n            </div>\r\n\r\n            {/* User info */}\r\n            {user && (\r\n              <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\r\n                <User className=\"h-8 w-8 text-gray-600\" />\r\n                <div>\r\n                  <div className=\"font-medium\">{user.full_name}</div>\r\n                  <div className=\"text-sm text-gray-600\">{user.role}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Retry option if refresh attempts < max */}\r\n            {sessionState.refreshAttempts < MAX_REFRESH_ATTEMPTS && (\r\n              <div className=\"p-3 bg-blue-50 rounded-lg border border-blue-200\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <RefreshCw className=\"h-4 w-4 text-blue-500\" />\r\n                  <span className=\"text-sm font-medium text-blue-700\">\r\n                    Mencoba memperpanjang session...\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-xs text-blue-600 mb-3\">\r\n                  Percobaan: {sessionState.refreshAttempts}/{MAX_REFRESH_ATTEMPTS}\r\n                </div>\r\n                <Button \r\n                  onClick={handleRefresh}\r\n                  disabled={sessionState.isRefreshing}\r\n                  size=\"sm\"\r\n                  variant=\"outline\"\r\n                  className=\"w-full\"\r\n                >\r\n                  {sessionState.isRefreshing ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin text-green-600\" />\r\n                      Mencoba...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                      Coba Lagi\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-2\">\r\n              <Button \r\n                onClick={handleLogout}\r\n                className=\"flex-1 bg-red-600 hover:bg-red-700\"\r\n              >\r\n                <LogOut className=\"h-4 w-4 mr-2\" />\r\n                Login Ulang\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SessionManager;\r\n","\nimport React, { useState, useEffect, Suspense, lazy } from 'react'\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport { AuthProvider, useAuth } from \"@/contexts/AuthContext\";\nimport AppLayout from \"@/components/AppLayout\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport SessionManager from \"@/components/SessionManager\";\nimport { Lock } from 'lucide-react';\n\n\n// Lazy load all pages for code splitting\nconst Dashboard = lazy(() => import(\"./pages/Dashboard\"));\nconst Settings = lazy(() => import(\"./pages/Settings\"));\nconst TemplateSelection = lazy(() => import(\"./pages/TemplateSelection\"));\nconst TemplateForm = lazy(() => import(\"./pages/TemplateForm\"));\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\nconst Index = lazy(() => import(\"./pages/Index\"));\nconst LetterDetail = lazy(() => import(\"./pages/LetterDetail\"));\nconst Letters = lazy(() => import(\"./pages/Letters\"));\nconst LetterPrintPreview = lazy(() => import(\"./pages/LetterPrintPreview\"));\nconst Users = lazy(() => import(\"./pages/Users\"));\nconst PengajuanSelect = lazy(() => import(\"./pages/PengajuanSelect\"));\nconst PengajuanFileUpload = lazy(() => import(\"./components/PengajuanFileUpload\"));\nconst PengajuanIndex = lazy(() => import(\"./pages/PengajuanIndex\"));\nconst PengajuanDetail = lazy(() => import(\"./pages/PengajuanDetail\"));\nconst PengajuanEdit = lazy(() => import(\"./pages/PengajuanEdit\"));\nconst AuditLogPage = lazy(() => import(\"./pages/AuditLogPage\"));\nconst JobTypeConfiguration = lazy(() => import(\"./pages/JobTypeConfiguration\"));\nconst AdminWilayahDashboard = lazy(() => import(\"./pages/AdminWilayahDashboard\"));\nconst AdminWilayahUploadPage = lazy(() => import(\"./pages/AdminWilayahUploadPage\"));\nconst SKForm = lazy(() => import(\"./components/SKForm\"));\nconst MaintenancePage = lazy(() => import(\"./pages/MaintenancePage\"));\n\n// Loading component for Suspense fallback\nconst PageLoading = () => (\n  <div className=\"flex items-center justify-center min-h-screen\">\n    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n  </div>\n);\n\nconst queryClient = new QueryClient();\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return null; // AppLayout handles loading state\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || user.role !== 'admin') {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminOperatorRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || (user.role !== 'admin' && user.role !== 'operator' && user.role !== 'admin_wilayah')) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminOrUserRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || (user.role !== 'admin' && user.role !== 'user')) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst AdminWilayahRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user || user.role !== 'admin_wilayah') {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n  \n  return <AppLayout>{children}</AppLayout>;\n};\n\nconst MaintenanceRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading, isMaintenanceMode } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  // If maintenance mode is active and user is not superadmin, show maintenance page\n  if (isMaintenanceMode && (!user || user.role !== 'admin' || user.office_id !== null)) {\n    return <MaintenancePage />;\n  }\n  \n  return <>{children}</>;\n};\n\nconst AppRoutes = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={\n        <Suspense fallback={<PageLoading />}>\n          <Index />\n        </Suspense>\n      } />\n      <Route path=\"/dashboard\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <Dashboard />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/generator\" element={\n        <MaintenanceRoute>\n          <AdminOperatorRoute>\n            <Suspense fallback={<PageLoading />}>\n              <TemplateSelection />\n            </Suspense>\n          </AdminOperatorRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/generator/create/:templateId\" element={\n        <MaintenanceRoute>\n          <AdminOperatorRoute>\n            <Suspense fallback={<PageLoading />}>\n              <TemplateForm />\n            </Suspense>\n          </AdminOperatorRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/generator/sk\" element={\n        <MaintenanceRoute>\n          <AdminOrUserRoute>\n            <Suspense fallback={<PageLoading />}>\n              <SKForm />\n            </Suspense>\n          </AdminOrUserRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/users\" element={\n        <MaintenanceRoute>\n          <AdminRoute>\n            <Suspense fallback={<PageLoading />}>\n              <Users />\n            </Suspense>\n          </AdminRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/settings\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <Settings />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/letters/:id\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <LetterDetail />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/letters\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <Letters />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/letters/:id/preview\" element={\n        <MaintenanceRoute>\n          <Suspense fallback={<PageLoading />}>\n            <LetterPrintPreview />\n          </Suspense>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <PengajuanIndex />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan/select\" element={\n        <MaintenanceRoute>\n          <AdminOperatorRoute>\n            <Suspense fallback={<PageLoading />}>\n              <PengajuanSelect />\n            </Suspense>\n          </AdminOperatorRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId\" element={\n        <MaintenanceRoute>\n          <ProtectedRoute>\n            <Suspense fallback={<PageLoading />}>\n              <PengajuanDetail />\n            </Suspense>\n          </ProtectedRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId/upload\" element={\n        <MaintenanceRoute>\n          <AdminOperatorRoute>\n            <Suspense fallback={<PageLoading />}>\n              <PengajuanFileUpload />\n            </Suspense>\n          </AdminOperatorRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId/edit\" element={\n        <MaintenanceRoute>\n          <AdminOperatorRoute>\n            <Suspense fallback={<PageLoading />}>\n              <PengajuanEdit />\n            </Suspense>\n          </AdminOperatorRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/pengajuan/:pengajuanId/audit-log\" element={\n        <MaintenanceRoute>\n          <AdminRoute>\n            <Suspense fallback={<PageLoading />}>\n              <AuditLogPage />\n            </Suspense>\n          </AdminRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/job-type-configuration\" element={\n        <MaintenanceRoute>\n          <AdminRoute>\n            <Suspense fallback={<PageLoading />}>\n              <JobTypeConfiguration />\n            </Suspense>\n          </AdminRoute>\n        </MaintenanceRoute>\n      } />\n      \n      {/* Admin Wilayah Routes */}\n      <Route path=\"/admin-wilayah/dashboard\" element={\n        <MaintenanceRoute>\n          <AdminWilayahRoute>\n            <Suspense fallback={<PageLoading />}>\n              <AdminWilayahDashboard />\n            </Suspense>\n          </AdminWilayahRoute>\n        </MaintenanceRoute>\n      } />\n      <Route path=\"/admin-wilayah/upload/:pengajuanId\" element={\n        <MaintenanceRoute>\n          <AdminWilayahRoute>\n            <Suspense fallback={<PageLoading />}>\n              <AdminWilayahUploadPage />\n            </Suspense>\n          </AdminWilayahRoute>\n        </MaintenanceRoute>\n      } />\n      \n      \n      <Route path=\"*\" element={\n        <Suspense fallback={<PageLoading />}>\n          <NotFound />\n        </Suspense>\n      } />\n    </Routes>\n  );\n};\n\nconst AppInner = () => {\n  const [showSessionExpiredModal, setShowSessionExpiredModal] = useState(false);\n  const navigate = useNavigate();\n  const { logout } = useAuth();\n  \n  // Setup global error handling and session expired modal\n  useEffect(() => {\n    // Setup window functions\n    window.showSessionExpiredModal = () => {\n      // Cek apakah sedang di halaman login\n      const currentPath = window.location.pathname;\n      const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n      \n      // Jika sedang di halaman login, jangan tampilkan modal\n      if (isOnLoginPage) {\n        return;\n      }\n      \n      // Jika di halaman lain, tampilkan modal\n      setShowSessionExpiredModal(true);\n    };\n    \n    window.dispatchTokenUpdate = (token) => {\n      localStorage.setItem('token', token);\n    };\n\n    // Handle global errors\n    const handleGlobalError = (event: ErrorEvent) => {\n      if (event.error && typeof event.error === 'object') {\n        const error = event.error as any;\n        if (error.status === 403 || error.message?.includes('403') || error.message?.includes('Forbidden')) {\n          event.preventDefault();\n          // Check if user is on login page\n          const currentPath = window.location.pathname;\n          const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n          \n          if (!isOnLoginPage && window.showSessionExpiredModal) {\n            window.showSessionExpiredModal();\n          }\n        }\n      }\n    };\n\n    // Handle unhandled promise rejections (fetch errors)\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      if (event.reason && typeof event.reason === 'object') {\n        const error = event.reason as any;\n        if (error.status === 403 || error.message?.includes('403') || error.message?.includes('Forbidden')) {\n          event.preventDefault();\n          // Check if user is on login page\n          const currentPath = window.location.pathname;\n          const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n          \n          if (!isOnLoginPage && window.showSessionExpiredModal) {\n            window.showSessionExpiredModal();\n          }\n        }\n      }\n    };\n\n    // Intercept fetch requests to catch 403 errors\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      try {\n        const response = await originalFetch(...args);\n        \n        // If we get a 403 response, show session expired modal\n        if (response.status === 403) {\n          const url = typeof args[0] === 'string' ? args[0] : (args[0] as Request).url;\n          // Don't intercept auth-related requests\n          if (!url.includes('/api/auth/')) {\n            // Check if user is on login page\n            const currentPath = window.location.pathname;\n            const isOnLoginPage = currentPath === '/' || currentPath === '/login';\n            \n            if (!isOnLoginPage && window.showSessionExpiredModal) {\n              window.showSessionExpiredModal();\n            }\n            // Return a custom response to prevent the default 403 page\n            return new Response(JSON.stringify({ \n              success: false, \n              message: 'Sesi berakhir, silakan login kembali' \n            }), {\n              status: 403,\n              headers: { 'Content-Type': 'application/json' }\n            });\n          }\n        }\n        \n        return response;\n      } catch (error) {\n        // Re-throw the error if it's not a 403\n        throw error;\n      }\n    };\n\n    window.addEventListener('error', handleGlobalError);\n    window.addEventListener('unhandledrejection', handleUnhandledRejection);\n\n    return () => {\n      window.removeEventListener('error', handleGlobalError);\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection);\n      window.fetch = originalFetch;\n      delete window.showSessionExpiredModal;\n      delete window.dispatchTokenUpdate;\n    };\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        {showSessionExpiredModal && (\n          <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-in fade-in-0 duration-200\">\n            <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full flex flex-col items-center animate-in zoom-in-95 duration-200\">\n              <Lock className=\"w-16 h-16 text-yellow-500 mb-4\" />\n              <h2 className=\"text-2xl font-bold mb-2 text-gray-900\">Sesi Berakhir</h2>\n              <p className=\"text-gray-600 mb-6 text-center\">Sesi Anda telah habis. Silakan login kembali untuk melanjutkan.</p>\n              <button\n                className=\"w-full py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white text-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400\"\n                onClick={() => {\n                  try {\n                    // Hapus token storage secara paksa\n                    localStorage.removeItem('token');\n                  } catch {}\n                  // Panggil logout dari AuthContext (best-effort)\n                  try { logout(); } catch {}\n                  setShowSessionExpiredModal(false);\n                  // Hard redirect untuk memastikan state bersih\n                  try { window.location.assign('/'); } catch {\n                    navigate('/', { replace: true });\n                  }\n                }}\n              >\n                Login Ulang\n              </button>\n            </div>\n          </div>\n        )}\n        <AuthProvider>\n          <SessionManager>\n            <AppRoutes />\n          </SessionManager>\n        </AuthProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n};\n\nconst App = () => (\n  <ErrorBoundary>\n    <BrowserRouter basename={import.meta.env.MODE === 'production' ? '/FE' : '/'}>\n      <AppInner />\n    </BrowserRouter>\n  </ErrorBoundary>\n);\n\nexport default App;\n","import React from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\n// Disable noisy console output in production (keep errors)\r\nif (import.meta.env.PROD) {\r\n  const noop = (..._args: unknown[]) => {};\r\n  console.log = noop;\r\n  console.debug = noop;\r\n  console.info = noop;\r\n  console.warn = noop;\r\n}\r\n\r\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\r\n"],"file":"assets/index-nrnRutfA.js"}